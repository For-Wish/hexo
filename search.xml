<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo修改鼠标样式</title>
    <url>/2022/03/14/Hexo/mouse/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本文介绍的是如何修改站点同款鼠标样式。</p>
<blockquote>
<p>链接教程： <a href="https://blog.csdn.net/u012208219/article/details/106883001/"> Hexo博客之butterfly主题优雅魔改系列（持续更新）_小康博客-CSDN博客_hexobutterfly魔改</a> </p>
</blockquote>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><p>在 <code>/themes/butterfly/source/css</code>路径下创建一个<code>mouse.css</code>文件，在文件中添加如下代码：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">https://testingcf.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/default.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">a</span>,</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">cursor</span>:<span class="built_in">url</span>(<span class="string">https://testingcf.jsdelivr.net/gh/sviptzk/HexoStaticFile@latest/Hexo/img/pointer.cur</span>),</span><br><span class="line">        default;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>打开站点主题配置文件<code>_config.butterfly.yml</code>，找到<code>inject</code>，在<code>head</code>处直接引入该文件：</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  - &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;/css/mouse.css&quot;</span>&gt;</span><br></pre></td></tr></table></figure>

<p>最后 <code>hexo g</code> 重新部署就能看见效果啦</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo主题美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo主题可能需要安装的插件</title>
    <url>/2022/04/08/Hexo/Hexo%E4%B8%BB%E9%A2%98%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Hexo主题可能需要安装的插件"><a href="#Hexo主题可能需要安装的插件" class="headerlink" title="Hexo主题可能需要安装的插件"></a>Hexo主题可能需要安装的插件</h2><h3 id="1-添加百度-谷歌-本地-自定义站点内容搜索"><a href="#1-添加百度-谷歌-本地-自定义站点内容搜索" class="headerlink" title="1.添加百度/谷歌/本地 自定义站点内容搜索"></a>1.添加百度/谷歌/本地 自定义站点内容搜索</h3><ol>
<li>在站点的根目录下执行以下命令：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在<code>Hexo/themes/butterfly/source/_config.yml</code>中，找到<code>search</code>，根据需求开关搜索功能。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># search (搜索)</span><br><span class="line"># --------------------------------------</span><br><span class="line"></span><br><span class="line"># Local search 本地搜索功能</span><br><span class="line">local_search:</span><br><span class="line">  enable: true</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>最后<code>hexo g</code> 部署就好啦！</li>
</ol>
<h3 id="2-其他插件"><a href="#2-其他插件" class="headerlink" title="2. 其他插件"></a>2. 其他插件</h3><p>更多插件可前往 <a href="https://hexo.io/plugins/">插件|赫克斯 (hexo.io)</a> 了解</p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>每次一点小改变，累计下来网站就越来越好了。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo主题插件</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo添加两句诗词</title>
    <url>/2022/03/24/Hexo/AddTwoVerses/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>留言板创建后，我盯着空空的页面陷入了沉思，于是就想着添加些什么，正好就看见了 <a href="https://cnhuazhu.top/butterfly/2021/05/29/Hexo%E9%AD%94%E6%94%B9/Hexo%E6%B7%BB%E5%8A%A0%E4%B8%A4%E5%8F%A5%E8%AF%97%E8%AF%8D/" title="Hexo添加两句诗词">花猪のBlog - Hexo添加两句诗词</a>，于是就把随机诗词搬了过来。<br>效果如下：</p>
<div class="poem-wrap">
  <div class="poem-border poem-left"></div>
  <div class="poem-border poem-right"></div>
    <h>念两句诗</h>
    <p id="poem">挑选中...</p>
    <p id="info">
  <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
  <script type="text/javascript">
    jinrishici.load(function(result) {
      poem.innerHTML = result.data.content
      info.innerHTML = '【' + result.data.origin.dynasty + '】' + result.data.origin.author + '《' + result.data.origin.title + '》'
      document.getElementById("poem").value(poem);
      document.getElementById("info").value(info);  
  });
  </script>
</div>

<blockquote>
<p>刷新页面会有变化哦 ~~~</p>
</blockquote>
<hr>
<h2 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h2><ol>
<li><p>输入命令 <code>hexo n page &quot;Message&quot;</code>在/butterfly/source文件夹下创建一个Message文件夹(“” 里是文件名，文件名可以自定义)</p>
</li>
<li><p>找到主题配置文件 <code>_config.butterfly.yml</code>，在 <code>menu</code>位置中添加留言页面的连接：</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">   留言: /Message/ || fas fa-comment</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>进入themes/butterfly/source/Message文件夹，编辑<code>index.md</code>文件，添加如下代码：</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;poem-wrap&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;poem-border poem-left&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;poem-border poem-right&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h</span>&gt;</span>念两句诗<span class="tag">&lt;/<span class="name">h</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;poem&quot;</span>&gt;</span>挑选中...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    jinrishici.<span class="title function_">load</span>(<span class="keyword">function</span>(<span class="params">result</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">      poem.<span class="property">innerHTML</span> = result.<span class="property">data</span>.<span class="property">content</span></span></span><br><span class="line"><span class="language-javascript">      info.<span class="property">innerHTML</span> = <span class="string">&#x27;【&#x27;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">dynasty</span> + <span class="string">&#x27;】&#x27;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">author</span> + <span class="string">&#x27;《&#x27;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">title</span> + <span class="string">&#x27;》&#x27;</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;poem&quot;</span>).<span class="title function_">value</span>(poem);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;info&quot;</span>).<span class="title function_">value</span>(info);  </span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>在/themes/butterfly/source/css/index.styl中添加以下代码（直接在底部添加）：</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">/*诗*/</span><br><span class="line">.poem-wrap &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    width: 730px;</span><br><span class="line">    max-width: 80%;</span><br><span class="line">    border: 2px solid #797979;</span><br><span class="line">    border-top: none;</span><br><span class="line">    text-align: center;</span><br><span class="line">    margin: 80px auto;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-wrap h &#123;</span><br><span class="line">    font-size: 40px;</span><br><span class="line">    font-style:oblique;</span><br><span class="line">    position: relative;</span><br><span class="line">    margin-top: -40px;</span><br><span class="line">    display: inline-block;</span><br><span class="line">    letter-spacing: 4px;</span><br><span class="line">    color: #797979</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-wrap p &#123;</span><br><span class="line">    width: 70%;</span><br><span class="line">    margin: auto;</span><br><span class="line">    line-height: 30px;</span><br><span class="line">    color: #797979;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-wrap p#poem &#123;</span><br><span class="line">    font-size: 22px;</span><br><span class="line">    margin: 15px auto;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-wrap p#info &#123;</span><br><span class="line">    font-size: 15px;</span><br><span class="line">    margin: 15px auto;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-border &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    height: 2px;</span><br><span class="line">    width: 27%;</span><br><span class="line">    background-color: #797979;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-right &#123;</span><br><span class="line">    right: 0;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">.poem-left &#123;</span><br><span class="line">    left: 0;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">@media (max-width: 685px) &#123;</span><br><span class="line">    .poem-border &#123;</span><br><span class="line">        width: 18%;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">@media (max-width: 500px) &#123;</span><br><span class="line">    .poem-wrap &#123;</span><br><span class="line">        margin-top: 60px;</span><br><span class="line">        margin-bottom: 20px;</span><br><span class="line">        border-top: 2px solid #797979;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    .poem-wrap h &#123;</span><br><span class="line">        margin: 20px 6px;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    .poem-border &#123;</span><br><span class="line">        display: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>最后使用命令<code>hexo g</code>部署完成后，进入你的网站，Ctrl+Fn+F5清除一下网页缓存就可以看到效果啦。</li>
</ol>
<hr>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>这里调用的是今日诗词API，是一个可以返回一句古诗词名句的接口。</p>
<p>访问链接：<a href="https://www.jinrishici.com/">https://www.jinrishici.com/</a></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo主题美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo 主题美化</title>
    <url>/2022/05/17/Hexo/Hexo%20%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Hexo-主题美化"><a href="#Hexo-主题美化" class="headerlink" title="Hexo 主题美化"></a>Hexo 主题美化</h2><ol>
<li><strong>推荐文章设置</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">limit: index</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>打开图片文字描述</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">photofigcaption: true</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><strong>评论区打字冒光和抖动效果</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 本站同款</span><br><span class="line">activate_power_mode:</span><br><span class="line">   enable: true</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><strong>鼠标点击效果之烟火</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fireworks:</span><br><span class="line">   enable: true</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>美化页面展示</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 标题前图标 —— 原生</span><br><span class="line">beautity:</span><br><span class="line">   enable: true</span><br><span class="line">   title-prefix-icon: &#x27;\foc1&#x27;</span><br><span class="line">   title-prefix-icon-color: &#x27;#F47466&#x27;</span><br></pre></td></tr></table></figure>

<div class="note primary no-icon flat"><p>效果展示</p>
</div>
<p><img src="https://a.ideaopen.cn/Mercury/kHQsYA4L.png" alt="img"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 标题前图标 小闪电</span><br><span class="line">beautity:</span><br><span class="line">   enable: true</span><br><span class="line">   title-prefix-icon: &#x27;\f0e7&#x27;</span><br><span class="line">   title-prefix-icon-color: &#x27;#ffb821&#x27;</span><br></pre></td></tr></table></figure>
<div class="note primary no-icon flat"><p>效果展示</p>
</div>
<p><img src="https://a.ideaopen.cn/Mercury/TTPIL9T1.png" alt="img"></p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>查看博主的真实身份👉 <span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看答案
  </button><span class="hide-content">彭于晏！</span></span> </p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo主题美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Git 上传教程</title>
    <url>/2022/07/07/Git/Git%E4%B8%8A%E4%BC%A0%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Git-上传教程"><a href="#Git-上传教程" class="headerlink" title="Git 上传教程"></a>Git 上传教程</h2><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><ol>
<li>下载 Git Bash</li>
<li>选中想上传到 GitHub 的文件夹，右击选择 Git Bash Here</li>
</ol>
<p><img src="https://a.ideaopen.cn/Mercury/ZuEsTDBg.png" alt="img"></p>
<p>之后进入到 Git Bash 界面</p>
<p><img src="https://a.ideaopen.cn/Mercury/GsNlvnTz.png" alt="img"></p>
<h2 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure>



<h2 id="将所有文件添加到仓库中"><a href="#将所有文件添加到仓库中" class="headerlink" title="将所有文件添加到仓库中"></a>将所有文件添加到仓库中</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git add .</span><br></pre></td></tr></table></figure>

<p><strong>注意：</strong>add 后面加个<strong>空格</strong>再加个”.”，这里没有打错！</p>
<p><img src="https://a.ideaopen.cn/Mercury/QVcpAjWi.png" alt="img"></p>
<p><strong>像这样就成功了</strong></p>
<h2 id="连接远程仓库"><a href="#连接远程仓库" class="headerlink" title="连接远程仓库"></a>连接远程仓库</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git remote add origin 仓库地址</span><br></pre></td></tr></table></figure>



<h2 id="将add的文件-commit-到仓库"><a href="#将add的文件-commit-到仓库" class="headerlink" title="将add的文件 commit 到仓库"></a>将add的文件 commit 到仓库</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git commit -m &quot;注释语句&quot;</span><br></pre></td></tr></table></figure>

<p><strong>“注释语句”：</strong>对 项目/文件 的注释介绍</p>
<p><img src="https://a.ideaopen.cn/Mercury/AbXQ8LYx.png" alt="img"></p>
<p>像这样就 O98K 了</p>
<h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><p>最后直接进行提交！</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<p><img src="https://a.ideaopen.cn/Mercury/lNLNSI9p.png" alt="img"></p>
<p>像这样就提交成功啦！快去 GitHub 上看看吧。</p>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>For循环中，只能 i++= 或者 ++i 吗？</title>
    <url>/2022/06/22/JavaScript/For%E5%BE%AA%E7%8E%AF%E4%B8%AD%EF%BC%8C%E5%8F%AA%E8%83%BDi++%E6%88%96%E8%80%85++i%E5%90%97%EF%BC%9F/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="For循环中，只能i-或者-i吗？"><a href="#For循环中，只能i-或者-i吗？" class="headerlink" title="For循环中，只能i++或者++i吗？"></a>For循环中，只能<code>i++</code>或者<code>++i</code>吗？</h2><p><img src="https://a.ideaopen.cn/JanYork/xVyBbUOQ.png"></p>
<p>首先看这样一段代码。</p>
<p>运行后在页面显示是这样的。</p>
<p><img src="https://a.ideaopen.cn/JanYork/DupR0Y1C.png"></p>
<p>但是我想一次性<code>+2</code>，而<code>i++</code>只能累加1，于是我改成了这样。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> count=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> count1=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">1</span>;i&lt;=<span class="number">99</span>;i+<span class="number">2</span>)&#123;</span><br><span class="line">	count+=i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;1~99中的奇数的和是&quot;</span>+count);			</span><br></pre></td></tr></table></figure>

<p>但是浏览器的状态一直刷新，没有内容。</p>
<p><img src="https://a.ideaopen.cn/JanYork/RD5xwAHP.png"></p>
<p>很明显，这是死循环了，但是不应该啊，难道是<code>i+2</code>的问题？</p>
<p>于是搜索过后，恍然大悟。</p>
<blockquote>
<p><strong>因为i++，是有自加功能的，它的含义是i=i+1的缩写，它有两层含义，一是i+1，二是把得到的值再复赋值给i。</strong><br><strong>而单纯一个i+1没有赋值功能，加完以后，i的值还是原值，加上1，毫无意义。</strong><br><strong>一般的c语言程序，碰到你写的i+1或者是sum+1这样的式子，代码都会正常运行而不会报错，只是达不到预期的目的而已。</strong></p>
<hr>
<p><strong>总之，不管出不出现错误提示，你写成i+1或者是sum+1毫无用处，也不会起到任何作用，它不能代替i++，或者sum++。</strong></p>
</blockquote>
<p><code>i++</code>不是单纯<code>+1</code>，他存在了一个过程，<code>i = i + 1</code>，而这样就不是直接赋值。</p>
<p>至于为什么<code>i + 2</code>不行，因为他是一步到位，循环中这样<code>i</code>的值是没有任何变化的！</p>
<blockquote>
<p><strong>+2确实是+了，只是值还没到位，循环就开始，值没变化，始终为原始值，于是死循环。</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 内置对象</title>
    <url>/2022/06/27/JavaScript/JavaScript%20%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="JavaScript-内置对象"><a href="#JavaScript-内置对象" class="headerlink" title="JavaScript 内置对象"></a>JavaScript 内置对象</h2><h3 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h3><ul>
<li>Javascript中的对象分为3种：自定义对象、内置对象、浏览器对象</li>
<li>前面两种对象是IS基础内容，属于ECMAScript ；第三个浏览器对象属于我们JS独有的，我们JS APl讲解</li>
<li>内置对象就是指JS语言自带的一些对象，这些对象供开发者使用，并提供了一些常用的或是最基本而必要的功能（属性和方法）</li>
<li>内置对象最大的优点就是帮助我们快速开发</li>
<li>JavaScript 提供了多个内置对象：Math、 Date 、Array、String等</li>
</ul>
<h2 id="Math-对象"><a href="#Math-对象" class="headerlink" title="Math 对象"></a>Math 对象</h2><h3 id="Math-常用方法"><a href="#Math-常用方法" class="headerlink" title="Math 常用方法"></a>Math 常用方法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="property">PI</span> 		<span class="comment">// 圆周率</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>() 	<span class="comment">// 向下取整</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">ceil</span>() 	<span class="comment">// 向上取整</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">round</span>() 	<span class="comment">// 四舍五入，遇到 .5 往大了取</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">abs</span>() 		<span class="comment">// 绝对值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>() 		<span class="comment">// 最大值</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">min</span>() 		<span class="comment">// 最小值</span></span><br></pre></td></tr></table></figure>

<h3 id="Math-random-随机数"><a href="#Math-random-随机数" class="headerlink" title="Math.random 随机数"></a>Math.random 随机数</h3><p>random() 方法可以随机返回一个小数，其取值范围是 [0，1)，左闭右开 0 &lt;= x &lt; 1</p>
<p>得到一个两数之间的随机整数，包括两个数在内</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getRandom</span>(<span class="params">min, max</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min + <span class="number">1</span>)) + min; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Date-对象"><a href="#Date-对象" class="headerlink" title="Date 对象"></a>Date 对象</h2><h3 id="Date-方法"><a href="#Date-方法" class="headerlink" title="Date 方法"></a>Date 方法</h3><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
<th>代码</th>
</tr>
</thead>
<tbody><tr>
<td>getFullYear()</td>
<td>获取当年</td>
<td>dObj.getFullYear()</td>
</tr>
<tr>
<td>getMonth()</td>
<td>获取当月(0-11)</td>
<td>dobj.getMonth()</td>
</tr>
<tr>
<td>getDate()</td>
<td>获取当天日期.</td>
<td>dobj.getDate()</td>
</tr>
<tr>
<td>getDay()</td>
<td>获取星期几(周日0 到周六6)</td>
<td>dobj.getDay()</td>
</tr>
<tr>
<td>getHours()</td>
<td>获取当前小时</td>
<td>dobj.getHours()</td>
</tr>
<tr>
<td>getMinutes()</td>
<td>获取当前分钟</td>
<td>dobj.getMinutes()</td>
</tr>
<tr>
<td>getSeconds()</td>
<td>获取当前秒钟</td>
<td>dObj.getSeconds()</td>
</tr>
</tbody></table>
<hr>
<h3 id="创建日期"><a href="#创建日期" class="headerlink" title="创建日期"></a>创建日期</h3><p>Date 对象用于处理日期和时间。 </p>
<p>可以通过 new 关键词来定义 Date 对象。以下代码定义了名为 myDate 的 Date 对象：</p>
<p>有四种方式初始化日期:</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(value);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(dateString);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span>(year, monthIndex [, day [, hours [, minutes [, seconds [, milliseconds]]]]]);</span><br></pre></td></tr></table></figure>

<p>上面的参数大多数都是可选的，在不指定的情况下，默认参数是0。</p>
<p>实例化一个日期的一些例子：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>()</span><br><span class="line"><span class="keyword">var</span> d1 = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="string">&quot;October 13, 1975 11:13:00&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> d2 = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">79</span>,<span class="number">5</span>,<span class="number">24</span>)</span><br><span class="line"><span class="keyword">var</span> d3 = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">79</span>,<span class="number">5</span>,<span class="number">24</span>,<span class="number">11</span>,<span class="number">33</span>,<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="设置日期"><a href="#设置日期" class="headerlink" title="设置日期"></a>设置日期</h3><p>通过使用针对日期对象的方法，我们可以很容易地对日期进行操作。</p>
<p>在下面的例子中，我们为日期对象设置了一个特定的日期 (2010 年 1 月 14 日)：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">myDate.<span class="title function_">setFullYear</span>(<span class="number">2010</span>,<span class="number">0</span>,<span class="number">14</span>);</span><br></pre></td></tr></table></figure>

<p>在下面的例子中，我们将日期对象设置为 5 天后的日期：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">myDate.<span class="title function_">setDate</span>(myDate.<span class="title function_">getDate</span>()+<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<p><strong>注意:</strong> 如果增加天数会改变月份或者年份，那么日期对象会自动完成这种转换。</p>
<hr>
<h3 id="两个日期比较"><a href="#两个日期比较" class="headerlink" title="两个日期比较"></a>两个日期比较</h3><p>日期对象也可用于比较两个日期。</p>
<p>下面的代码将当前日期与 2100 年 1 月 14 日做了比较：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">x.<span class="title function_">setFullYear</span>(<span class="number">2100</span>,<span class="number">0</span>,<span class="number">14</span>);</span><br><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (x&gt;today)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;今天是2100年1月14日之前&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;今天是2100年1月14日之后&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Array-对象"><a href="#Array-对象" class="headerlink" title="Array 对象"></a>Array 对象</h2><p>同 Java 中的数组一样，JavaScript 中的数组也是具有一个或多个值的集合。</p>
<p>数组用一个名称存储一系列的值，用下标区分数组中的每个值，数组的下标从0开始。</p>
<h3 id="创建数组"><a href="#创建数组" class="headerlink" title="创建数组"></a>创建数组</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> 数组名 = <span class="keyword">new</span> <span class="title class_">Array</span>(size);</span><br></pre></td></tr></table></figure>

<ul>
<li>new：创建数组的关键字</li>
<li>Array：数组的关键字</li>
<li>size：数组中可存放的元素总数，因此 size 用正整数来表示。</li>
</ul>
<h3 id="为数组元素赋值"><a href="#为数组元素赋值" class="headerlink" title="为数组元素赋值"></a>为数组元素赋值</h3><p>分三种赋值方式：</p>
<ol>
<li>在声明数组时，可以直接为数组元素赋值，例如：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruit = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;orange&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>分别为数组元素赋值</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruit = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">4</span>);</span><br><span class="line">fruit[<span class="number">0</span>] = <span class="string">&quot;apple&quot;</span>;</span><br><span class="line">fruit[<span class="number">1</span>] = <span class="string">&quot;orange&quot;</span>;</span><br><span class="line">fruit[<span class="number">1</span>] = <span class="string">&quot;orange&quot;</span>;</span><br><span class="line">fruit[<span class="number">0</span>] = <span class="string">&quot;orange&quot;</span>;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>直接赋值</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruit = [<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;orange&quot;</span>];</span><br></pre></td></tr></table></figure>

<h3 id="访问数组"><a href="#访问数组" class="headerlink" title="访问数组"></a>访问数组</h3><p>可以通过数组的名称和下标直接访问数组的元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">数组名[下标]</span><br></pre></td></tr></table></figure>

<h3 id="数组的常用属性和方法"><a href="#数组的常用属性和方法" class="headerlink" title="数组的常用属性和方法"></a>数组的常用属性和方法</h3><h4 id="数组属性"><a href="#数组属性" class="headerlink" title="数组属性"></a>数组属性</h4><ul>
<li>length：设置或返回数组元素的个数。</li>
</ul>
<p>演示：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> score = <span class="keyword">new</span> <span class="title class_">Array</span>(指定数组长度)</span><br><span class="line">score.<span class="property">length</span>;	<span class="comment">// 数组长度</span></span><br></pre></td></tr></table></figure>

<h4 id="Array-对象方法"><a href="#Array-对象方法" class="headerlink" title="Array 对象方法"></a>Array 对象方法</h4><ul>
<li>join() ： 把数组的所有元素放入一个字符串</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line"><span class="keyword">var</span> energy = fruits.<span class="title function_">join</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果</span></span><br><span class="line"><span class="title class_">Banana</span>,<span class="title class_">Orange</span>,<span class="title class_">Apple</span>,<span class="title class_">Mango</span></span><br></pre></td></tr></table></figure>

<ul>
<li>sort()： 对数组的元素进行排序</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">sort</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出结果</span></span><br><span class="line"><span class="title class_">Apple</span>,<span class="title class_">Banana</span>,<span class="title class_">Mango</span>,<span class="title class_">Orange</span></span><br></pre></td></tr></table></figure>

<ul>
<li>push()： 向数组的末尾添加一个或更多元素，并返回新的长度</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fruits = [<span class="string">&quot;Banana&quot;</span>, <span class="string">&quot;Orange&quot;</span>, <span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Mango&quot;</span>];</span><br><span class="line">fruits.<span class="title function_">push</span>(<span class="string">&quot;Kiwi&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 结果输出</span></span><br><span class="line"><span class="title class_">Banana</span>,<span class="title class_">Orange</span>,<span class="title class_">Apple</span>,<span class="title class_">Mango</span>,<span class="title class_">Kiwi</span></span><br></pre></td></tr></table></figure>

<ul>
<li>forEach()： 向数组的末尾添加一个或更多元素，并返回新的长度。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">&quot;numbers.forEach(myFunction)&quot;</span>&gt;</span>点我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;demo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">	demoP = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;demo&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>];</span></span><br><span class="line"><span class="language-javascript"> </span></span><br><span class="line"><span class="language-javascript">	<span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">item, index</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    	demoP.<span class="property">innerHTML</span> = demoP.<span class="property">innerHTML</span> + <span class="string">&quot;index[&quot;</span> + index + <span class="string">&quot;]: &quot;</span> + item + <span class="string">&quot;&lt;br&gt;&quot;</span>; </span></span><br><span class="line"><span class="language-javascript">	&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 输出结果</span></span><br><span class="line">index[<span class="number">0</span>]: <span class="number">4</span></span><br><span class="line">index[<span class="number">1</span>]: <span class="number">9</span></span><br><span class="line">index[<span class="number">2</span>]: <span class="number">16</span></span><br><span class="line">index[<span class="number">3</span>]: <span class="number">25</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>ES6 基础</title>
    <url>/2022/06/27/JavaScript/ES%206%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="let-和-const-命令"><a href="#let-和-const-命令" class="headerlink" title="let 和 const 命令"></a>let 和 const 命令</h1><h2 id="var-声明"><a href="#var-声明" class="headerlink" title="var 声明"></a>var 声明</h2><p><strong>是一种全局的声名</strong></p>
<p>大量定义全局变量的坏处：会污染外部变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">　　<span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 控制台输出2</span></span><br></pre></td></tr></table></figure>

<p>在区块中覆盖a = 1，输出2，说明是全局变量</p>
<h2 id="let-声明"><a href="#let-声明" class="headerlink" title="let 声明"></a>let 声明</h2><h3 id="块级作用域"><a href="#块级作用域" class="headerlink" title="块级作用域"></a>块级作用域</h3><p>用来声明变量，用法类似于var，但是所声明的变量，<strong>只在let命令所在的代码块内有效</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a=<span class="number">1</span>;</span><br><span class="line">&#123;</span><br><span class="line">　　<span class="keyword">let</span> a=<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>输出a = 1说明是局部变量</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// let str = &quot;abc&quot;;</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> str = <span class="string">&quot;123&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str);  <span class="comment">//报错，说明let所声明的变量只在该块内部起作用，外部不起作用 </span></span><br></pre></td></tr></table></figure>

<p>第二种场景，用来计数的循环变量泄露为全局变量。 </p>
<p>举例2：<code>for</code>循环，用<code>var</code>定义，当外部业务多时，会有什么样的影响?<br>1）先只用var的方式for循环：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;里部的循环体：&quot;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;外部的循环体：&quot;</span> + i);</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/LnOSGh1j.png" alt="img"></p>
<p>上面代码中，变量i只用来控制循环，但是循环结束后，它并没有消失，泄露成了全局变量。 </p>
<p>用var声明，直接影响到外部，所以最后一个输出，并不是我们想要的结果。这种情况，如果在逻辑比较复杂的时候，就会出现问题。所以习惯用 <strong><code>let</code> 来声明</strong></p>
<p>2）再用let的方式<code>for</code>循环：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;里部的循环体：&quot;</span> + i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;外部的循环体：&quot;</span> + i);</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/JgotDqgc.png" alt="img"></p>
<p>最后一行是报错的：没有找到 i，<strong>那就说明<code>let</code>声明的只管<code>for</code>内部这一块</strong>。这样程序就更严谨，符合我们的程序需求。</p>
<h3 id="不存在变量提升"><a href="#不存在变量提升" class="headerlink" title="不存在变量提升"></a>不存在变量提升</h3><p><code>var</code>命令会发生<code>“变量提升”</code>现象，即变量可以在声明之前使用，值为undefined。这种现象多多少少是有些奇怪的，按照一般的逻辑，变量应该在声明语句之后才可以使用。</p>
<p>为了纠正这种现象，let命令改变了语法行为，它所声明的变量一定要在<code>声明后</code>使用，否则报错。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// var 的情况</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo);  <span class="comment">// 输出 undefined</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// let 的情况</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar); </span><br><span class="line"><span class="comment">// 报错 ReferenceError</span></span><br><span class="line"><span class="keyword">let</span> bar = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>上面代码中，变量foo用var命令声明，会发生变量提升，即脚本开始运行时，变量foo已经存在了，但是没有值，所以会输出undefined。变量bar用let命令声明，不会发生变量提升。这表示在声明它之前，变量bar是不存在的，这时如果用到它，就会抛出一个错误。</p>
<h3 id="不允许重复声明"><a href="#不允许重复声明" class="headerlink" title="不允许重复声明"></a>不允许重复声明</h3><p>let不允许在相同作用域内，重复声明同一个变量。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">10</span>;  </span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">10</span>;  </span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>因此，不能在函数内部重新声明参数。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">arg</span>) &#123;  </span><br><span class="line">    <span class="keyword">let</span> arg;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">func</span>() <span class="comment">// 报错</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">arg</span>) &#123;  </span><br><span class="line">    &#123;    </span><br><span class="line">        <span class="keyword">let</span> arg;  </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">func</span>() <span class="comment">// 不报错</span></span><br></pre></td></tr></table></figure>



<h2 id="const-声明"><a href="#const-声明" class="headerlink" title="const 声明"></a>const 声明</h2><p><code>const</code>声明一个<strong>只读的常量</strong>，一旦声明，理论来说<code>const</code>声明的常量的<strong>值不得改动</strong>，意思其实是该常量<strong>指向</strong>的那个<strong>内存地址所保存的数据不得改动。</strong> <strong>举个例子</strong>：假如你住在a公寓的三单元406，<code>cosnt</code>就仅仅是保证他指向的是这个地址，至于你房子里住的是哪些人，他是不关心的。</p>
<p><strong>注意以下两种情形的常量：</strong></p>
<h3 id="A、对于简单类型的数据"><a href="#A、对于简单类型的数据" class="headerlink" title="A、对于简单类型的数据"></a>A、对于简单类型的数据</h3><p>​      （数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。</p>
<h3 id="B、对于复合类型的数据"><a href="#B、对于复合类型的数据" class="headerlink" title="B、对于复合类型的数据"></a>B、对于复合类型的数据</h3><p>​      （主要是对象和数组），变量指向的内存地址，所保存的只是一个指向实际数据的指针，<code>const</code>只能保证这个指针是固定的（即总是指向另一个固定的地址），至于里面的数据变不变，就不可控了，这就像上面的那个例子一样房子是固定的，但人可不一定。<strong>因此，将一个对象声明为常量必须非常小心。</strong></p>
<p>举例1：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14</span>;</span><br><span class="line"><span class="variable constant_">PI</span> = <span class="number">6.2</span>;	<span class="comment">//这个是不可以这样赋值的，会报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable constant_">PI</span>);</span><br></pre></td></tr></table></figure>



<p>举例2：</p>
<p>但对于下面的对象，数组，可以给他们的属性赋值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//声明一个对象</span></span><br><span class="line"><span class="keyword">const</span> student = &#123;&#125;;</span><br><span class="line"><span class="comment">//添加对象属性,</span></span><br><span class="line">student.<span class="property">name</span> = <span class="string">&#x27;annie&#x27;</span>;</span><br><span class="line">student.<span class="property">age</span> = <span class="number">18</span>;</span><br><span class="line">student.<span class="property">name</span> = <span class="string">&#x27;wxp&#x27;</span>; <span class="comment">//重新给值，不会报错</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(student.<span class="property">name</span>); <span class="comment">//输出wxp</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//声明数组</span></span><br><span class="line"><span class="keyword">const</span> arr = [];</span><br><span class="line"><span class="comment">//添加数组</span></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">arr.<span class="title function_">push</span>(<span class="number">1</span>, <span class="number">2</span>); <span class="comment">//在后面继续加上1,2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">//不会报错，正常输出</span></span><br></pre></td></tr></table></figure>



<h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><p>在 ES5 中为变量赋值，只能直接指定值。</p>
<p>而 ES6 则允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为<code>解构</code>（Destructuring）。 </p>
<p>以前，为变量赋值，只能直接指定值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> c = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>ES6 允许写成下面这样。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br></pre></td></tr></table></figure>

<p>上面代码表示，可以从数组中提取值，按照对应位置，对变量赋值。</p>
<p>本质上，这种写法属于<code>“模式匹配”</code>，只要等号两边的模式相同，左边的变量就会被赋予对应的值。下面是一些使用<strong>嵌套数组</strong>进行解构的例子。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [foo, [[bar], baz]] = [<span class="number">1</span>, [[<span class="number">2</span>], <span class="number">3</span>]];</span><br><span class="line">foo <span class="comment">// 1</span></span><br><span class="line">bar <span class="comment">// 2</span></span><br><span class="line">baz <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [ , , third] = [<span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>, <span class="string">&quot;baz&quot;</span>];</span><br><span class="line">third <span class="comment">// &quot;baz&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, , y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">head <span class="comment">// 1</span></span><br><span class="line">tail <span class="comment">// [2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [x, y, ...z] = [<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">x <span class="comment">// &quot;a&quot;</span></span><br><span class="line">y <span class="comment">// undefined</span></span><br><span class="line">z <span class="comment">// []</span></span><br></pre></td></tr></table></figure>

<p>如果解构不成功，变量的值就等于<code>undefined</code>。</p>
<p>另一种情况则是<strong>不完全解构</strong>，即等号左边的模式，只匹配一部分的等号右边的数组。这种情况下，解构依然可以成功。 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [x, y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> [a, [b], d] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>];</span><br><span class="line">a <span class="comment">// 1</span></span><br><span class="line">b <span class="comment">// 2</span></span><br><span class="line">d <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>

<p>上面两个例子，都属于不完全解构，但是可以成功。如果解构不成功，变量的值就等于 <code>undefined</code>。</p>
<hr>
<h3 id="剩余运算符"><a href="#剩余运算符" class="headerlink" title="剩余运算符"></a>剩余运算符</h3><p>在解构赋值中，当无法得知变量值个数时，可以使用剩余运算符进行模式匹配。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, ...b] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; </span><br><span class="line"><span class="comment">// a = 1 </span></span><br><span class="line"><span class="comment">// b = [2, 3]</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="解构默认值"><a href="#解构默认值" class="headerlink" title="解构默认值"></a>解构默认值</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [a = <span class="number">2</span>] = [<span class="literal">undefined</span>]; <span class="comment">// a = 2</span></span><br></pre></td></tr></table></figure>

<p>当解构模式有匹配结果，且匹配结果是 undefined 时，会触发默认值作为返回结果。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [a = <span class="number">3</span>, b = a] = [];     <span class="comment">// a = 3, b = 3 </span></span><br><span class="line"><span class="keyword">let</span> [a = <span class="number">3</span>, b = a] = [<span class="number">1</span>];    <span class="comment">// a = 1, b = 1 </span></span><br><span class="line"><span class="keyword">let</span> [a = <span class="number">3</span>, b = a] = [<span class="number">1</span>, <span class="number">2</span>]; <span class="comment">// a = 1, b = 2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>a 与 b 匹配结果为 undefined ，触发默认值：<strong>a = 3; b = a =3</strong></li>
<li>a 正常解构赋值，匹配结果：a = 1，b 匹配结果 undefined ，触发默认值：<strong>b = a = 1</strong></li>
<li>a 与 b 正常解构赋值，匹配结果：<strong>a = 1，b = 2</strong></li>
</ul>
<hr>
<h3 id="对象解构赋值"><a href="#对象解构赋值" class="headerlink" title="对象解构赋值"></a>对象解构赋值</h3><p><code>解构</code>不仅可以用于<code>数组</code>，还可以用于<code>对象</code>。 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; foo, bar &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">foo <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">bar <span class="comment">// &quot;bbb&quot;</span></span><br></pre></td></tr></table></figure>

<p>对象的解构与数组有一个重要的不同。数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，<code>变量</code>必须与<code>属性</code>同名，才能取到正确的值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; bar, foo &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">foo <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">bar <span class="comment">// &quot;bbb&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">baz <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>上面代码的第一个例子，等号左边的两个变量的次序，与等号右边两个同名属性的次序不一致，但是对取值完全没有影响。第二个例子的变量没有对应的同名属性，导致取不到值，最后等于undefined。</p>
<p>如果解构失败，变量的值等于undefined。</p>
<p>对象的解构赋值，可以很方便地将现有对象的方法，赋值到某个变量。 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 例</span></span><br><span class="line"><span class="keyword">const</span> &#123; log &#125; = <span class="variable language_">console</span>;</span><br><span class="line"><span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>) <span class="comment">// hello</span></span><br></pre></td></tr></table></figure>

<p>如果变量名与属性名不一致，必须写成下面这样。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">baz <span class="comment">// &#x27;aaa&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">first</span>: <span class="string">&#x27;hello&#x27;</span>, <span class="attr">last</span>: <span class="string">&#x27;world&#x27;</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">first</span>: f, <span class="attr">last</span>: l &#125; = obj;</span><br><span class="line">f <span class="comment">// &#x27;hello&#x27;</span></span><br><span class="line">l <span class="comment">// &#x27;world&#x27;</span></span><br></pre></td></tr></table></figure>

<p>也就是说，对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123; <span class="attr">foo</span>: baz &#125; = &#123; <span class="attr">foo</span>: <span class="string">&#x27;aaa&#x27;</span>, <span class="attr">bar</span>: <span class="string">&#x27;bbb&#x27;</span> &#125;;</span><br><span class="line">baz <span class="comment">// &quot;aaa&quot;</span></span><br><span class="line">foo <span class="comment">// error: foo is not defined</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，foo是匹配的模式，baz才是变量。真正被赋值的是变量baz，而不是模式foo。</p>
<p><strong>补充</strong></p>
<p>ES6的解构赋值虽然好用。但是要注意解构的对象不能为<code>undefined</code>、<code>null</code>。否则会报错，故要给被解构的对象一个默认值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;a,b,c,d,e&#125; = obj || &#123;&#125;;</span><br></pre></td></tr></table></figure>



<hr>
<h4 id="嵌套对象"><a href="#嵌套对象" class="headerlink" title="嵌套对象"></a>嵌套对象</h4><p>与数组一样，解构也可以用于嵌套结构的对象。 </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">p</span>: [</span><br><span class="line">    <span class="string">&#x27;Hello&#x27;</span>,</span><br><span class="line">    &#123; <span class="attr">y</span>: <span class="string">&#x27;World&#x27;</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123; <span class="attr">p</span>: [x, &#123; y &#125;] &#125; = obj;</span><br><span class="line">x <span class="comment">// &quot;Hello&quot;</span></span><br><span class="line">y <span class="comment">// &quot;World&quot;</span></span><br></pre></td></tr></table></figure>

<p>注意，这时p是模式，不是变量，因此不会被赋值。</p>
<hr>
<h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><p><code>对象</code>的<code>解构</code>也可以指定<code>默认值</code>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;&#125;;</span><br><span class="line">x <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;x, y = <span class="number">5</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line">x <span class="comment">// 1</span></span><br><span class="line">y <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;&#125;;</span><br><span class="line">y <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;<span class="attr">x</span>: y = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">5</span>&#125;;</span><br><span class="line">y <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123; <span class="attr">message</span>: msg = <span class="string">&#x27;Something went wrong&#x27;</span> &#125; = &#123;&#125;;</span><br><span class="line">msg <span class="comment">// &quot;Something went wrong&quot;</span></span><br></pre></td></tr></table></figure>

<p>默认值生效的条件是，对象的<code>属性值</code>严格等于<code>undefined</code>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">undefined</span>&#125;;</span><br><span class="line">x <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">null</span>&#125;;</span><br><span class="line">x <span class="comment">// null</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，属性x等于null，因为null与undefined不严格相等，所以是个有效的赋值，导致默认值3不会生效。</p>
<hr>
<h4 id="不完全解构"><a href="#不完全解构" class="headerlink" title="不完全解构"></a>不完全解构</h4><p>同数组解构的不完全解构原理相同，即等号左边的模式，只匹配一部分的等号右边的数组。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">p</span>: [&#123;<span class="attr">y</span>: <span class="string">&#x27;world&#x27;</span>&#125;] &#125;; </span><br><span class="line"><span class="keyword">let</span> &#123;<span class="attr">p</span>: [&#123; y &#125;, x ] &#125; = obj; </span><br><span class="line"><span class="comment">// x = undefined </span></span><br><span class="line"><span class="comment">// y = &#x27;world&#x27;</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="剩余运算符-1"><a href="#剩余运算符-1" class="headerlink" title="剩余运算符"></a>剩余运算符</h4><p>同数组解构的剩余运算符原理相同，当无法得知变量值个数时使用剩余运算符。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;a, b, ...rest&#125; = &#123;<span class="attr">a</span>: <span class="number">10</span>, <span class="attr">b</span>: <span class="number">20</span>, <span class="attr">c</span>: <span class="number">30</span>, <span class="attr">d</span>: <span class="number">40</span>&#125;; <span class="comment">// a = 10 </span></span><br><span class="line"><span class="comment">// b = 20 </span></span><br><span class="line"><span class="comment">// rest = &#123;c: 30, d: 40&#125;</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="字符串解构赋值"><a href="#字符串解构赋值" class="headerlink" title="字符串解构赋值"></a>字符串解构赋值</h4><p>在数组的解构中，解构的目标若为可遍历对象，皆可进行解构赋值。可遍历对象即实现 Iterator 接口的数据。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c, d, e] = <span class="string">&#x27;hello&#x27;</span>; </span><br><span class="line"><span class="comment">// a = &#x27;h&#x27; </span></span><br><span class="line"><span class="comment">// b = &#x27;e&#x27; </span></span><br><span class="line"><span class="comment">// c = &#x27;l&#x27; </span></span><br><span class="line"><span class="comment">// d = &#x27;l&#x27; </span></span><br><span class="line"><span class="comment">// e = &#x27;o&#x27;</span></span><br></pre></td></tr></table></figure>

<p>类似数组的对象都有一个<code>length</code>属性，因此还可以对这个属性解构赋值。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;length : len&#125; = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">len <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="函数参数解构赋值"><a href="#函数参数解构赋值" class="headerlink" title="函数参数解构赋值"></a>函数参数解构赋值</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span> ([x,y]) &#123;</span><br><span class="line">    <span class="keyword">return</span> x+y; <span class="comment">// 3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">add</span>([<span class="number">1</span>,<span class="number">2</span>])</span><br></pre></td></tr></table></figure>

<p>函数<code>add()</code>的参数表明上是一个数组，但是在传入参数值的那一刻，数组的参数就被解构成变量<code>x</code>和<code>y</code>。</p>
<p>对于函数内部的代码来说，得到的参数就是<code>x</code>和<code>y</code>。</p>
<p><code>函数参数</code>的<code>解构</code>也可以使用<code>默认值</code>。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">move</span>(&#123;<span class="attr">x</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></span><br><span class="line"><span class="title function_">move</span>(&#123;<span class="attr">x</span>: <span class="number">3</span>&#125;); <span class="comment">// [3, 0]</span></span><br><span class="line"><span class="title function_">move</span>(&#123;&#125;); <span class="comment">// [0, 0]</span></span><br><span class="line"><span class="title function_">move</span>(); <span class="comment">// [0, 0]</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，函数<code>move</code>的参数是一个对象，通过对这个对象进行解构，得到变量<code>x</code>和<code>y</code>的值。如果解构失败，<code>x</code>和<code>y</code>等于默认值。</p>
<p>注意，下面的写法会得到不一样的结果。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">move</span>(<span class="params">&#123;x, y&#125; = &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125;</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">move</span>(&#123;<span class="attr">x</span>: <span class="number">3</span>, <span class="attr">y</span>: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></span><br><span class="line"><span class="title function_">move</span>(&#123;<span class="attr">x</span>: <span class="number">3</span>&#125;); <span class="comment">// [3, undefined]</span></span><br><span class="line"><span class="title function_">move</span>(&#123;&#125;); <span class="comment">// [undefined, undefined]</span></span><br><span class="line"><span class="title function_">move</span>(); <span class="comment">// [0, 0]</span></span><br></pre></td></tr></table></figure>

<p>上面代码是为函数<code>move</code>的<strong>参数</strong>指定默认值，而不是为<strong>变量</strong><code>x</code>和<code>y</code>指定默认值，所以会得到与前一种写法不同的结果。</p>
<p><code>undefined</code>就会触发函数参数的默认值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="literal">undefined</span>, <span class="number">3</span>].<span class="title function_">map</span>(<span class="function">(<span class="params">x = <span class="string">&#x27;yes&#x27;</span></span>) =&gt;</span> x);</span><br><span class="line"><span class="comment">// [ 1, &#x27;yes&#x27;, 3 ]</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="rest-参数"><a href="#rest-参数" class="headerlink" title="rest 参数"></a>rest 参数</h2><p><code>rest</code>参数搭配的变量是一个数组，该变量将多余参数放入数组中。语法如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 当不知道方法参数个数时，用...表示</span></span><br><span class="line">...变量名</span><br></pre></td></tr></table></figure>

<p>例一：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">jsFunction</span>(<span class="params">...arg</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(arg[<span class="number">0</span>]);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(arg[<span class="number">1</span>]);</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(arg[<span class="number">2</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">jsFunction</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>例二：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 求和函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">...values</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> x <span class="keyword">of</span> values)&#123;</span><br><span class="line">        num += x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)); <span class="comment">//15</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="name-属性"><a href="#name-属性" class="headerlink" title="name 属性"></a>name 属性</h2><p>函数的<code>name</code>属性，返回该函数的函数名</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">函数名.<span class="property">name</span></span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 无参箭头函数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">mouse</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mouse.<span class="property">name</span>); <span class="comment">//  </span></span><br></pre></td></tr></table></figure>

<p><strong>如果一个变量等于一个匿名函数。ES5和ES6的name属性返回不一样</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line"><span class="comment">//ES5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f.<span class="property">name</span>); <span class="comment">// &quot;&quot;</span></span><br><span class="line"><span class="comment">//ES6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(f.<span class="property">name</span>); <span class="comment">// f</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h2><p><strong>ES5写法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<p><strong>转换成ES6箭头函数写法</strong></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">add</span> = (<span class="params">a,b</span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">//3</span></span><br></pre></td></tr></table></figure>

<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><p>使用 “箭头”（=&gt;）定义函数</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title function_">f</span> = v =&gt; v;</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">let</span> f = <span class="keyword">function</span> (<span class="params">v</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> v;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>通过上面几段代码可以看出，箭头函数的<strong>特点</strong>就是将代码<strong>简化</strong>。</p>
<p>使用ES6箭头函数语法定义函数，<strong>将原函数的“function”关键字和函数名都删掉，并使用“=&gt;”连接参数列表和函数体。</strong> </p>
<p>当函数参数<strong>只有一个</strong>，括号可以省略</p>
<p>当函数<strong>没有参数</strong>时，括号不可以省略。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 无参</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fn1</span> = (<span class="params"></span>) =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 单个参数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fn2</span> = a =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多个参数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fn3</span> = (<span class="params">a, b</span>) =&gt; &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可变参数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fn4</span> = (<span class="params">a, b, ...args</span>) =&gt; &#123;&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>多处引自 <a href="https://www.w3cschool.cn/escript6">https://www.w3cschool.cn/escript6</a></p>
</blockquote>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>ES6 基础</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript BOM操作</title>
    <url>/2022/06/15/JavaScript/JavaScript%20BOM%20%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Window-对象"><a href="#Window-对象" class="headerlink" title="Window 对象"></a>Window 对象</h2><p>Window 对象表示浏览器中打开的窗口。 </p>
<p>如果文档包含框架（frame 或 iframe 标签），浏览器会为 HTML 文档创建一个 window 对象，并为每个框架创建一个额外的 window 对象。</p>
<p><strong>注释：</strong>没有应用于 window 对象的公开标准，不过所有浏览器都支持该对象。</p>
<h3 id="window-对象常用属性"><a href="#window-对象常用属性" class="headerlink" title="window 对象常用属性"></a>window 对象常用属性</h3><table>
<thead>
<tr>
<th>属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>history 对象</td>
<td>用户访问过的统一资源定位符（Uniform Resource Locator, URL） 信息</td>
</tr>
<tr>
<td>location 对象</td>
<td>当前 URL 信息</td>
</tr>
<tr>
<td>screen 对象</td>
<td>只读属性，包含客户端显示屏幕上的信息</td>
</tr>
<tr>
<td>navigator 对象</td>
<td>浏览器本身信息</td>
</tr>
</tbody></table>
<p><strong>注释：</strong>window 对象是 JS 的最顶层对象，其他的 BOM 对象都是 window 对象的属性</p>
<hr>
<h3 id="window-对象的常用方法"><a href="#window-对象的常用方法" class="headerlink" title="window 对象的常用方法"></a>window 对象的常用方法</h3><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.方法名()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>alert()</td>
<td>警示框 (显示一个带有提示信息和一个确定按钮)</td>
</tr>
<tr>
<td>confirm()</td>
<td>对话框 (显示带有提示信息以及 “确定” 和 “取消” 按钮)</td>
</tr>
<tr>
<td>prompt()</td>
<td>输入框 (提示用户输入的对话框)</td>
</tr>
<tr>
<td>open()</td>
<td>根据指定的 URL 打开一个新的浏览器窗口或查找一个已经命名的窗口</td>
</tr>
<tr>
<td>close()</td>
<td>关闭浏览器窗口</td>
</tr>
<tr>
<td>setInterval()</td>
<td>根据指定的间隔毫秒数，不停的执行指定的代码</td>
</tr>
<tr>
<td>clearInterval()</td>
<td>用于停止 setInterval() 方法执行的函数代码</td>
</tr>
<tr>
<td>setTimeout()</td>
<td>根据指定的毫秒数，执行指定的代码</td>
</tr>
<tr>
<td>clearTimeout()</td>
<td>用于停止 setTimeout() 方法执行的函数代码</td>
</tr>
</tbody></table>
<hr>
<h3 id="open"><a href="#open" class="headerlink" title="open()"></a>open()</h3><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="variable constant_">URL</span>,name,features,replace)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">URL</td>
<td align="left">一个可选的字符串，声明了要在新窗口中显示的文档的 URL。如果省略了这个参数，或者它的值是空字符串，那么新窗口就不会显示任何文档。</td>
</tr>
<tr>
<td align="left">name</td>
<td align="left">一个可选的字符串，该字符串是一个由逗号分隔的特征列表，其中包括数字、字母和下划线，该字符声明了新窗口的名称。这个名称可以用作标记 <a> 和 <form> 的属性 target 的值。如果该参数指定了一个已经存在的窗口，那么 open() 方法就不再创建一个新窗口，而只是返回对指定窗口的引用。在这种情况下，features 将被忽略。</td>
</tr>
<tr>
<td align="left">features</td>
<td align="left">一个可选的字符串，声明了新窗口要显示的标准浏览器的特征。如果省略该参数，新窗口将具有所有标准特征。在<a href="https://www.w3school.com.cn/jsref/met_win_open.asp#windowfeatures">窗口特征</a>这个表格中，我们对该字符串的格式进行了详细的说明。</td>
</tr>
<tr>
<td align="left">replace</td>
<td align="left">一个可选的布尔值。规定了装载到窗口的 URL 是在窗口的浏览历史中创建一个新条目，还是替换浏览历史中的当前条目。支持下面的值：true - URL 替换浏览历史中的当前条目。false - URL 在浏览历史中创建新的条目。</td>
</tr>
</tbody></table>
<hr>
<h3 id="提示和注释"><a href="#提示和注释" class="headerlink" title="提示和注释"></a>提示和注释</h3><p><strong>重要事项：</strong>请不要混淆方法 Window.open() 与方法 Document.open()，这两者的功能完全不同。为了使您的代码清楚明白，请使用 Window.open()，而不要使用 open()。</p>
<hr>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>下面的例子讲在新浏览器窗口中打开 <a href="http://www.w3school.com.cn/">www.w3school.com.cn</a> ：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">function</span> <span class="title function_">open_win</span>(<span class="params"></span>) </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&quot;http://www.w3school.com.cn&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">button</span> <span class="attr">value</span>=<span class="string">&quot;Open Window&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;open_win()&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>引自 <a href="https://www.w3school.com.cn/jsref/met_win_open.asp">HTML DOM open() 方法</a> </p>
</blockquote>
<hr>
<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>对象可以用来操作浏览器向前或向后翻页</p>
<ul>
<li>length属性：返回历史记录列表中的网址数量</li>
<li>back()：回退到<strong>上一个</strong>页面，同浏览器的回退按钮一样</li>
<li>forward()：跳转<strong>下一个</strong>页面，同浏览器的前进按钮一样</li>
<li>go()：跳转到指定的页面，但它需要一个<strong>整数作为参数</strong><ul>
<li>go(1)：表示<strong>向前</strong>跳转一个页面 相当于forward()</li>
<li>go(2)：表示<strong>向前</strong>跳转两个页面 以此类推</li>
<li>go(-1)：表示<strong>向后</strong>跳转一个页面</li>
<li>go(-2)：表示<strong>向后</strong>跳转两个页面 以此类推</li>
</ul>
</li>
</ul>
<hr>
<h2 id="Location"><a href="#Location" class="headerlink" title="Location"></a>Location</h2><p>window.location对象：用于获得<strong>当前页面的地址</strong> (URL)，并把浏览器重定向到新的页面。在编写时可不使用 window 这个前缀。</p>
<p>该对象中封装了浏览器的地址栏的信息，如果直接打印<code>location</code>，则可以获取到地址栏的信息（当前页面的<strong>完整路径</strong>）</p>
<p>alert(location);如果直接将<code>location</code>属性修改为一个完整的路径，或相对路径<br>则我们页面会自动跳转到该路径，并且会生成相应的历史记录</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">location = <span class="string">&quot;http:www.baidu.com&quot;</span>;</span><br><span class="line">location = <span class="string">&quot;01.BOM.html&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>assign()：用来跳转到其他的页面，作用和直接修改<code>location</code>一样</p>
<p>reload()：用于重新加载当前页面，作用和<strong>刷新</strong>按钮一样，如果在方法中传递一个true，作为参数，则会<strong>强制清空缓存刷新页面</strong></p>
<p>代码示例： </p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">location.<span class="title function_">reload</span>(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>

<p>replace()：可以使用一个新的页面替换当前页面，调用完毕也会跳转页面不会生成历史记录，不能使用回退按钮回退 </p>
<hr>
<h2 id="screen-对象"><a href="#screen-对象" class="headerlink" title="screen 对象"></a>screen 对象</h2><p>window.screen 对象包含有关用户屏幕的信息。</p>
<h3 id="screen-对象的常用属性"><a href="#screen-对象的常用属性" class="headerlink" title="screen 对象的常用属性"></a>screen 对象的常用属性</h3><ul>
<li>screen.availWidth：属性返回访问者屏幕的宽度，以像素计，减去界面特性，比如窗口任务栏。</li>
<li>screen.availHeight 属性返回访问者屏幕的高度，以像素计，减去界面特性，比如窗口任务栏。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取屏幕的宽度和高度之和</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(screen.<span class="property">availHeight</span>+screen.<span class="property">availWidth</span>);</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h2><p>window.navigator 对象包含有关访问者浏览器的信息。在编写时可不使用 window 这个前缀。</p>
<ul>
<li>navigator.platform：操作系统类型</li>
<li>navigator.userAgent：浏览器设定的 User-Agent 字符串</li>
<li>navigator.appName：浏览器名称</li>
<li>navigator.appVersion：浏览器版本</li>
<li>navigator.language：浏览器设置的语言</li>
</ul>
<p>userAgent则是最常用的属性，userAgent 是一个字符串，这个字符串中包含有用来描述浏览器信息的内容，</p>
<h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>不同的浏览器会有不同的 userAgent </p>
<h3 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">alert</span>(navigator.<span class="property">appName</span>);  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">var</span> ua = navigator.<span class="property">userAgent</span>;  </span><br><span class="line">  </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ua);  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">if</span>(firefoxi.<span class="title function_">test</span>(ua))&#123;  </span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;你是火狐！！！&quot;</span>);  </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(chromei.<span class="title function_">test</span>(ua))&#123;  </span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;你是Chrome&quot;</span>);  </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(msiei.<span class="title function_">test</span>(ua))&#123;  </span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;你是IE浏览器~~~&quot;</span>);  </span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;ActiveXObject&quot;</span> <span class="keyword">in</span> <span class="variable language_">window</span>)&#123;  </span><br><span class="line"><span class="title function_">alert</span>(<span class="string">&quot;你是IE11，枪毙了你~~~&quot;</span>);  </span><br></pre></td></tr></table></figure>



<hr>
<h2 id="JavaScript-定时函数"><a href="#JavaScript-定时函数" class="headerlink" title="JavaScript 定时函数"></a>JavaScript 定时函数</h2><h3 id="setInterval-定时器"><a href="#setInterval-定时器" class="headerlink" title="setInterval() 定时器"></a>setInterval() 定时器</h3><p>定时调用可以将一个函数每隔一段时间，执行一次。</p>
<p><strong>参数：</strong></p>
<ol>
<li>回调函数，该函数会每隔一段时间被调用一次</li>
<li>每次调用间隔的时间，单位是毫秒 </li>
</ol>
<p><strong>返回值：</strong></p>
<ul>
<li>返回一个Number类型的数据，这个数字用来作为定时器的唯一标识。</li>
</ul>
<h3 id="关闭定时器"><a href="#关闭定时器" class="headerlink" title="关闭定时器"></a>关闭定时器</h3><p>clearInterval() 可以用来关闭一个定时器</p>
<p>方法中需要一个定时器的标识作为参数，这样将关闭标识对应的定时器 </p>
<p>clearInterval()可以接收任意参数，如果参数是一个有效的定时器的标识，则停止对应的定时器</p>
<p>如果参数不是一个有效的标识，则什么也不做。</p>
<p>代码示例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">1</span>;  </span><br><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">	count.<span class="property">innerHTML</span> = num++;  </span><br><span class="line">	<span class="keyword">if</span>(num == <span class="number">11</span>) &#123;  </span><br><span class="line">		<span class="comment">//关闭定时器  </span></span><br><span class="line">		<span class="built_in">clearInterval</span>(timer);  </span><br><span class="line">	&#125;  </span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="setTimeout-延时调用"><a href="#setTimeout-延时调用" class="headerlink" title="setTimeout() 延时调用"></a>setTimeout() 延时调用</h3><p>延时调用一个函数不马上执行，而是隔一段时间以后在执行，而且只会执行一次</p>
<h4 id="延时调用和定时调用的区别"><a href="#延时调用和定时调用的区别" class="headerlink" title="延时调用和定时调用的区别"></a>延时调用和定时调用的区别</h4><p><strong>定时</strong>调用会执行<strong>多次</strong>，而<strong>延时</strong>调用只会执行<strong>一次</strong></p>
<p>延时调用和定时调用实际上是可以互相代替的，在开发中可以根据自己需要去选择。</p>
<p>代码<strong>示例</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> timer = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num++);</span><br><span class="line">&#125;,<span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="关闭延时调用"><a href="#关闭延时调用" class="headerlink" title="关闭延时调用"></a>关闭延时调用</h3><p>使用<code>clearTimeout()</code>来关闭一个延时调用，如<code>clearTimeout(timer);</code></p>
<blockquote>
<p>多处资料引自  <a href="https://blog.csdn.net/qq_41171409/article/details/123010303">JavaScript之BOM操作（重点）程序猿tu的博客-CSDN博客</a> </p>
</blockquote>
<hr>
<h2 id="document-对象"><a href="#document-对象" class="headerlink" title="document 对象"></a>document 对象</h2><p>转自： <a href="https://segmentfault.com/a/1190000000660947">详解JavaScript Document对象 - SegmentFault 思否</a> </p>
<p>在浏览器中，与用户进行数据交换都是通过客户端的<code>javascript</code>代码来实现的，而完成这些交互工作大多数是<code>document</code>对象及其部件进行的，因此<code>document</code>对象是一个比较重要的对象。</p>
<h3 id="document对象概述"><a href="#document对象概述" class="headerlink" title="document对象概述"></a>document对象概述</h3><p><code>document</code>对象是文档的根节点，<code>window.document</code>属性就指向这个对象。也就是说，只要浏览器开始载入<code>HTML</code>文档，这个对象就开始存在了，可以直接调用。</p>
<p><code>document.childNodes</code>属性返回该对象的所有子节点。对于HTML文档来说，<code>document</code>对象一般有两个子节点。</p>
<p>第一个子节点是<code>document.doctype</code>，表示文档类型节点（DocumentType）。对于HTML5文档来说，该节点就代表``。</p>
<p>第二个子节点是<code>document.documentElement</code>，表示元素节点（Element），代表：<code>。</code></p>
<h3 id="document-对象的属性"><a href="#document-对象的属性" class="headerlink" title="document 对象的属性"></a>document 对象的属性</h3><p><code>document</code>对象主要有如下属性：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>document.title</td>
<td>设置文档标题等价于HTML的<title>标签</td>
</tr>
<tr>
<td>document.bgColor</td>
<td>设置页面背景色</td>
</tr>
<tr>
<td>document.linkColor</td>
<td>未点击过的链接颜色</td>
</tr>
<tr>
<td>document.alinkColor</td>
<td>激活链接(焦点在此链接上)的颜色</td>
</tr>
<tr>
<td>document.fgColor</td>
<td>设置前景色(文本颜色)</td>
</tr>
<tr>
<td>document.vlinkColor</td>
<td>已点击过的链接颜色</td>
</tr>
<tr>
<td>document.URL</td>
<td>设置URL属性从而在同一窗口打开另一网页</td>
</tr>
<tr>
<td>document.fileCreatedDate</td>
<td>文件建立日期，只读属性</td>
</tr>
<tr>
<td>document.fileModifiedDate</td>
<td>文件修改日期，只读属性</td>
</tr>
<tr>
<td>document.fileSize</td>
<td>文件大小，只读属性</td>
</tr>
<tr>
<td>document.cookie</td>
<td>设置和读出cookie</td>
</tr>
<tr>
<td>document.charset</td>
<td>设置字符集 简体中文:gb2312</td>
</tr>
</tbody></table>
<h3 id="指向其他节点或对象的属性"><a href="#指向其他节点或对象的属性" class="headerlink" title="指向其他节点或对象的属性"></a>指向其他节点或对象的属性</h3><figure class="highlight xml"><table><tr><td class="code"><pre><span class="line">document.doctype // <span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line">document.documentElement //返回文档的根节点 <span class="tag">&lt;<span class="name">html</span>&gt;</span>...<span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">document.head // <span class="tag">&lt;<span class="name">head</span>&gt;</span>...<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">document.body // <span class="tag">&lt;<span class="name">body</span>&gt;</span>...<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line">document.defaultView // window</span><br><span class="line"></span><br><span class="line">document.querySelector(&#x27;textarea&#x27;).focus();</span><br><span class="line">document.activeElement // <span class="tag">&lt;<span class="name">textarea</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>querySelector</code>返回的是一个对象，而<code>querySelectorAll</code>返回的一个集合(<code>NodeList</code>)。IE8以上支持</p>
<p>详见：<a href="http://www.javascriptkit.com/dhtmltutors/css_selectors_api.shtml">W3C selector API</a></p>
<h3 id="指向特定元素集合的属性"><a href="#指向特定元素集合的属性" class="headerlink" title="指向特定元素集合的属性"></a>指向特定元素集合的属性</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">all</span> ：文档中所有的元素，<span class="title class_">Firefox</span>不支持该属性。</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">forms</span> ：所有的form元素。</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">images</span>：所有的img元素。</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">links</span>：所有的a元素。</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">scripts</span>：所有的script元素。</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">styleSheets</span>：所有的link或者style元素。</span><br></pre></td></tr></table></figure>

<h3 id="对象方法："><a href="#对象方法：" class="headerlink" title="对象方法："></a>对象方法：</h3><table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>document.write()</td>
<td>动态向页面写入内容</td>
</tr>
<tr>
<td>document.createElement(Tag)</td>
<td>创建一个html标签对象</td>
</tr>
<tr>
<td>document.getElementById(ID)</td>
<td>获得指定ID值的对象</td>
</tr>
<tr>
<td>document.getElementsByTagName(tagname)</td>
<td>获得指定标签名的对象</td>
</tr>
<tr>
<td>document.getElementsByName(Name)</td>
<td>获得指定Name值的对象</td>
</tr>
<tr>
<td>document.getElementsByClassName(classname)</td>
<td>获得指定类名的对象（html5 API）</td>
</tr>
</tbody></table>
<p><code>getElementById(id)</code>方法返回一个对象，该对象对应着文档里一个特定的元素节点。<br><code>getElementsByTagName()</code>方法将返回一个对象数组，他们分别对应着文档里一个特定的元素节点</p>
<p><code>write()和writeln()</code>方法：区别在于后者在传送到文档中的字符串末时附加一个回车符。</p>
<p><code>querySelector</code>方法的参数使用CSS选择器语法，<code>getElementById</code>方法的参数是HTML标签元素的<code>id</code>属性。</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">document</span>.<span class="built_in">querySelector</span>(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&#x27;last&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>如果有多个节点满足<code>querySelector</code>方法的条件，则返回第一个匹配的节点。</p>
<p><code>document.createElement()</code>是在对象中创建一个对象，要与<code>appendChild()</code> 或 <code>insertBefore()</code>方法联合使用。</p>
<p>其中，<code>appendChild()</code> 方法在节点的子节点列表末添加新的子节点。<code>insertBefore()</code> 方法在节点的子节点列表任意位置插入新的节点。</p>
<h3 id="body-主体子对象"><a href="#body-主体子对象" class="headerlink" title="body-主体子对象"></a>body-主体子对象</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span> <span class="comment">//指定文档主体的开始和结束等价于body&gt;/body&gt;</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">bgColor</span> <span class="comment">//设置或获取对象后面的背景颜色</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">link</span> <span class="comment">//未点击过的链接颜色</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">alink</span> <span class="comment">//激活链接(焦点在此链接上)的颜色</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">vlink</span> <span class="comment">//已点击过的链接颜色</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">text</span> <span class="comment">//文本色</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerText</span> <span class="comment">//设置body&gt;…/body&gt;之间的文本</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">innerHTML</span> <span class="comment">//设置body&gt;…/body&gt;之间的HTML代码</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">topMargin</span> <span class="comment">//页面上边距</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">leftMargin</span> <span class="comment">//页面左边距</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">rightMargin</span> <span class="comment">//页面右边距</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">bottomMargin</span> <span class="comment">//页面下边距</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">background</span> <span class="comment">//背景图片</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(oTag) <span class="comment">//动态生成一个HTML对象</span></span><br></pre></td></tr></table></figure>

<h3 id="常用对象事件"><a href="#常用对象事件" class="headerlink" title="常用对象事件"></a>常用对象事件</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onclick</span>=”<span class="title function_">func</span>()” <span class="comment">//鼠标指针单击对象是触发</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onmouseover</span>=”<span class="title function_">func</span>()” <span class="comment">//鼠标指针移到对象时触发</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onmouseout</span>=”<span class="title function_">func</span>()” <span class="comment">//鼠标指针移出对象时触发</span></span><br></pre></td></tr></table></figure>

<h3 id="图层对象的4个属性"><a href="#图层对象的4个属性" class="headerlink" title="图层对象的4个属性"></a>图层对象的4个属性</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(”<span class="variable constant_">ID</span>”).<span class="property">innerText</span> <span class="comment">//动态输出文本</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(”<span class="variable constant_">ID</span>”).<span class="property">innerHTML</span> <span class="comment">//动态输出HTML</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(”<span class="variable constant_">ID</span>”).<span class="property">outerText</span> <span class="comment">//同innerText</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(”<span class="variable constant_">ID</span>”).<span class="property">outerHTML</span> <span class="comment">//同innerHTML</span></span><br></pre></td></tr></table></figure>

<p>看如下例子：</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>hello world!<span class="tag">&lt;<span class="name">span</span>&gt;</span>你好<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> p = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;p&#x27;</span>);<span class="comment">//集合</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//    alert(p[0].textContent);//firefox</span></span></span><br><span class="line"><span class="language-javascript"><span class="comment">//    alert(p[0].innerText);//IE</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(p[<span class="number">0</span>].<span class="property">innerHTML</span>);<span class="comment">//hello world!&lt;span&gt;你好&lt;/span&gt;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(p[<span class="number">0</span>].<span class="property">outerHTML</span>);<span class="comment">//&lt;p&gt;hello world!&lt;span&gt;你好&lt;/span&gt;&lt;/p&gt;</span></span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">alert</span>(p[<span class="number">0</span>].<span class="property">textContent</span>);<span class="comment">//hello world!你好</span></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 函数</title>
    <url>/2022/06/14/JavaScript/JavaScript%20%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h2><h3 id="parseInt-函数"><a href="#parseInt-函数" class="headerlink" title="parseInt() 函数"></a>parseInt() 函数</h3><p><code>parseInt()</code> 函数可以解析字符串并返回整数。</p>
<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(string, radix)</span><br></pre></td></tr></table></figure>

<h4 id="参数值"><a href="#参数值" class="headerlink" title="参数值"></a>参数值</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>string</em></td>
<td align="left">必需。要解析的字符串。</td>
</tr>
<tr>
<td align="left"><em>radix</em></td>
<td align="left">可选。代表要使用的数字系统的数字（从 2 到 36）。</td>
</tr>
</tbody></table>
<h4 id="定义和用法"><a href="#定义和用法" class="headerlink" title="定义和用法"></a>定义和用法</h4><p><em>radix</em> 参数用于指定使用哪种数字系统，例如基数为 16（十六进制）表示字符串中的数字应从十六进制数解析为十进制数。</p>
<p>如果 <em>radix</em> 参数被省略，JavaScript 假定如下：</p>
<ul>
<li>如果字符串以 “0x” 开头，则基数为 16（十六进制）</li>
<li>如果字符串以 “0” 开头，则基数为 8（八进制）。此特性已弃用</li>
<li>如果字符串以任何其他值开头，则基数为 10（十进制）</li>
</ul>
<p><strong>注意：</strong>只返回字符串中的第一个数字！</p>
<p><strong>注释：</strong>允许前导和尾随空格。</p>
<p><strong>注释：</strong>如果第一个字符不能转换为数字，<code>parseInt()</code> 返回 NaN。</p>
<p><strong>注释：</strong>旧浏览器将导致 parseInt(“010”) 为 8，因为旧版本的 ECMAScript（比 ECMAScript 5 旧）当字符串以 “0” 开头时使用八进制基数 (8) 作为默认值。从 ECMAScript 5 开始，默认值为十进制基数 (10)。</p>
<h4 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;10.33&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;34 45 66&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot; 60 &quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;40 years&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;He was 40&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"> </span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>,<span class="number">10</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;010&quot;</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>,<span class="number">8</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;0x10&quot;</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>,<span class="number">16</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>以上实例输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10</span><br><span class="line">10</span><br><span class="line">34</span><br><span class="line">60</span><br><span class="line">40</span><br><span class="line">NaN</span><br><span class="line"></span><br><span class="line">10</span><br><span class="line">10</span><br><span class="line">8</span><br><span class="line">16</span><br><span class="line">16</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="parsetFloat-函数"><a href="#parsetFloat-函数" class="headerlink" title="parsetFloat() 函数"></a>parsetFloat() 函数</h3><p> <code>parseFloat()</code> 函数解析字符串并返回浮点数。 </p>
<h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(string)</span><br></pre></td></tr></table></figure>

<p>该函数指定字符串中的首个字符是否是数字。如果是，则对字符串进行解析，直到到达数字的末端为止，然后以数字返回该数字，而不是作为字符串。 </p>
<h4 id="参数值-1"><a href="#参数值-1" class="headerlink" title="参数值"></a>参数值</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>string</em></td>
<td align="left">必需。要解析的字符串。</td>
</tr>
</tbody></table>
<h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;10&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;10.33&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;34 45 66&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot; 60 &quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;40 years&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">parseFloat</span>(<span class="string">&quot;He was 40&quot;</span>) + <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>以上实例输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10</span><br><span class="line">10.33</span><br><span class="line">34</span><br><span class="line">60</span><br><span class="line">40</span><br><span class="line">NaN</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="isNan-函数"><a href="#isNan-函数" class="headerlink" title="isNan() 函数"></a>isNan() 函数</h3><p><code>isNaN()</code> 函数用于检查其参数是否是<strong>非数字</strong>，其基本语法格式如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">isNaN</span>(value)</span><br></pre></td></tr></table></figure>

<h4 id="参数值-2"><a href="#参数值-2" class="headerlink" title="参数值"></a>参数值</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">value</td>
<td align="left">必需。要检测的值。</td>
</tr>
</tbody></table>
<h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(<span class="number">123</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(-<span class="number">1.23</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(<span class="number">5</span>-<span class="number">2</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(<span class="number">0</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(<span class="string">&quot;Hello&quot;</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="built_in">isNaN</span>(<span class="string">&quot;2005/12/12&quot;</span>)+ <span class="string">&quot;&lt;br&gt;&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>以上实例输出结果:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">false</span><br><span class="line">false</span><br><span class="line">false</span><br><span class="line">false</span><br><span class="line">true</span><br><span class="line">true</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h2><p>JavaScript 使用关键字 <strong>function</strong> 定义函数。</p>
<p>函数可以通过声明定义，也可以是一个表达式。</p>
<h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">functionName</span> (参数) &#123;</span><br><span class="line">    <span class="comment">// 代码块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>函数名的命名规则与<strong>变量的命名规则</strong>相同</li>
<li>函数名后的形参可以是无限个，也可以不设置形参</li>
</ul>
<p>根据函数是否带有参数，分为无参函数和有参函数。</p>
<p>函数声明后不会立即执行，会在我们需要的时候调用到。</p>
<h3 id="无参函数实例"><a href="#无参函数实例" class="headerlink" title="无参函数实例"></a>无参函数实例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">		<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马&#x27;</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">myFunction</span>()</span><br></pre></td></tr></table></figure>

<p>无参函数运行结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马</span><br><span class="line">少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马</span><br><span class="line">少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马</span><br><span class="line">少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马</span><br><span class="line">少年与爱永不老去 即使披荆斩棘 丢失鲜衣怒马</span><br></pre></td></tr></table></figure>

<h3 id="有参函数实例"><a href="#有参函数实例" class="headerlink" title="有参函数实例"></a>有参函数实例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = a * b</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">write</span>(sum)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">myFunction</span>(<span class="number">5</span>,<span class="number">5</span>)	</span><br></pre></td></tr></table></figure>

<p>有参函数运行结果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">25</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="函数表达式"><a href="#函数表达式" class="headerlink" title="函数表达式"></a>函数表达式</h3><p>JavaScript 函数可以通过一个表达式定义，将函数表达式存储在变量中，其语法格式如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量 = <span class="keyword">function</span> (<span class="params">参数</span>) &#123;</span><br><span class="line">    <span class="comment">// 代码块</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="无参函数表达式实例"><a href="#无参函数表达式实例" class="headerlink" title="无参函数表达式实例"></a>无参函数表达式实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> love = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;Can you tell me what love is?&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">love</span>()</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Can you tell me what love is?</span><br></pre></td></tr></table></figure>

<h4 id="有参函数表达式实例"><a href="#有参函数表达式实例" class="headerlink" title="有参函数表达式实例"></a>有参函数表达式实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> sum = <span class="keyword">function</span>(<span class="params">a,b</span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> a / b</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="title function_">sum</span>(<span class="number">10</span>,<span class="number">5</span>))</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">2</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="函数表达式与函数声明的区别"><a href="#函数表达式与函数声明的区别" class="headerlink" title="函数表达式与函数声明的区别"></a>函数表达式与函数声明的区别</h4><p>函数表达式非常类似于函数声明，并且两者拥有几乎相同的语法。但既然有两种定义函数的方式，就说明二者一定有不一样的地方，下面通过实例来观察二者的<strong>区别</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> () &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;巨炮：小姐，请问一下有没有卖《半岛铁盒》？&#x27;</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>()</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> () &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;店员：有啊，你从前面右转的第二排架子上就有了！&#x27;</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数表达式</span></span><br><span class="line"><span class="keyword">var</span> f2 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;巨炮：哦好，谢谢。&#x27;</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f2</span>()</span><br><span class="line"><span class="keyword">var</span> f2 = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;店员：不会&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f2</span>()</span><br></pre></td></tr></table></figure>

<p>以上实例运行结果为：</p>
<p><img src="https://a.ideaopen.cn/Mercury/X85UcJW0.png" alt="img"></p>
<p>诶？怎么回事，f1() 输出的效果怎么被覆盖掉了？</p>
<span class="hide-inline"><button type="button" class="hide-button" style="background-color: #FF7242;color: #fff">查看原因
  </button><span class="hide-content">当使用函数声明的方式定义两个函数名相同的函数，后面的函数会覆盖前面的函数 而使用函数表达式的方式定义的函数，会从上到下逐行执行代码输出结果</span></span>

<p>嗦嘎！学废了，博主用心良苦呐！</p>
<p>咳咳，回到正题，但函数表达式与函数声明的最主要区别是<strong>函数名称</strong>，在函数表达式中可省略它，从而创建<strong>匿名函数</strong>，后面会解释到。 </p>
<hr>
<h2 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h2><ol>
<li>问</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);  <span class="comment">// 结果是多少？</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>问</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);  <span class="comment">// 结果是多少？</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;   ？</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>问</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;打印&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>问</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title function_">fn</span>();</span><br><span class="line"><span class="keyword">var</span> fn = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;想不到吧&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JavaScript 代码是由浏览器中的 JavaScript 解析器来执行的。</p>
<p>JavaScript 解析器在运行 JavaScript 代码的时候分为两步：预解析和代码执行。</p>
<ul>
<li><strong>预解析：</strong>在当前作用域下, JS 代码执行之前，浏览器会默认把带有 var 和 function 声明的变量在内存中进行提前声明或者定义。</li>
<li><strong>代码执行：</strong> 从上到下执行JS语句。</li>
</ul>
<p>预解析只会发生在通过 var 定义的变量和 function 上。学习预解析能够让我们知道为什么在变量声明之前访问变量的值是 undefined，为什么在函数声明之前就可以调用函数。</p>
<blockquote>
<p>此段问题及预编译的解释引自 <a href="https://zhuanlan.zhihu.com/p/495216399">JavaScript 预解析</a> </p>
</blockquote>
<h3 id="解答问题"><a href="#解答问题" class="headerlink" title="解答问题"></a>解答问题</h3><p>当我们运行第一问时，毫无疑问的，报错，因为变量num没有被声明就调用了。</p>
<p>当我们运行第二问时，会发现，控制台输出的是 undefined。按正常逻辑来说，代码是按顺序从上到下的一行一行执行的，第一行直接调用 num 变量，此时应该报错才是。但是答案是 undefined，说明此时 num 已经被声明了，但是没有赋值，所以才输出 undefined。但这就说明了，<strong>预解析可以把变量的声明提前（变量提升）</strong>，简称变量预编译(<strong>变量提升</strong>)，实际效果为：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num);	<span class="comment">//undefined</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>当我们运行第三问时，控制台输出的是：打印。原因与第一问一样，都是预编译在 “作怪”。因为<strong>预编译也可以把函数的声明提前（函数提升）</strong>，简称函数预编译   (<strong>函数提升</strong>)，实际效果为：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;打印&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>

<p>当我们运行第四问时，诶，有问题了，怎么报错了一个TypeError？</p>
<p><img src="https://a.ideaopen.cn/Mercury/QHdtjoOF.png" alt="img"></p>
<p>因为第四问的 fn() 为函数表达式，执行的是<strong>变量提升</strong>，它的实际效果是：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fn;</span><br><span class="line"><span class="title function_">fn</span>();</span><br><span class="line">fn = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;想不到吧&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于 fn 已经声明了， 所以不会报错ReferenceError，而是TypeError。 </p>
<hr>
<h2 id="函数自调用"><a href="#函数自调用" class="headerlink" title="函数自调用"></a>函数自调用</h2><p>上文未解释到的匿名函数，在这里解答。 </p>
<p>函数表达式可以 “自调用”，<strong>自调用表达式会自动调用</strong>，所以叫做函数自调用，也因为函数自调用<strong>不能自调用声明的函数</strong>，所以叫做匿名函数。</p>
<p>匿名函数顾名思义指的是没有名字的函数。</p>
<h3 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> (<span class="params">参数</span>)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="调用匿名函数"><a href="#调用匿名函数" class="headerlink" title="调用匿名函数"></a>调用匿名函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">( <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 函数体</span></span><br><span class="line">&#125;) (参数)</span><br></pre></td></tr></table></figure>

<p>在上述代码中，将<code>function () &#123;&#125;</code>匿名函数放在一对 “()” 中，就实现了调用。</p>
<p>如果表达式后面紧跟 () ，则会自动调用。</p>
<h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;HelloWord&#x27;</span>)      <span class="comment">// 我将调用自己</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">HelloWord</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h2><p> 在<strong>JavaScript</strong>中，<strong>回调函数</strong>具体的定义为：函数A作为参数 (函数引用)传递到另一个函数B中，并且这个函数B执行函数A。 </p>
<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> (fn) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;f1 函数调用了&#x27;</span> + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line">	<span class="title function_">fn</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f2</span> () &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;f2 函数调用了&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>(f2)</span><br></pre></td></tr></table></figure>

<p>以上代码执行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">f1 函数调用了</span><br><span class="line">f2 函数调用了</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="局部变量和全局变量"><a href="#局部变量和全局变量" class="headerlink" title="局部变量和全局变量"></a>局部变量和全局变量</h2><h3 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h3><p>局部变量在<strong>函数内部声明变量</strong>时，必须使用<code>var</code>关键字声明，且该变量只能在所声明的函数中被访问。</p>
<p>其特点是<strong>可以在不同的函数中使用名称相同的局部变量</strong></p>
<h3 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h3><p>全局变量是在函数外声明的变量，网页上的所有脚本和函数都能访问它</p>
<h3 id="演示局部变量和全局变量的区别"><a href="#演示局部变量和全局变量的区别" class="headerlink" title="演示局部变量和全局变量的区别"></a>演示局部变量和全局变量的区别</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">10</span></span><br><span class="line">			</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> () &#123;</span><br><span class="line"><span class="keyword">var</span> y = <span class="number">20</span></span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br><span class="line">&#125;</span><br><span class="line">			</span><br><span class="line"><span class="title function_">f1</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/gDVbQxQU.png" alt="img"></p>
<h3 id="局部变量和全局变量的区别总结"><a href="#局部变量和全局变量的区别总结" class="headerlink" title="局部变量和全局变量的区别总结"></a>局部变量和全局变量的区别总结</h3><p>局部变量和全局变量的区别：作用域不同，声明位置不同，生存期不同：</p>
<ul>
<li>作用域：局部变量仅作用在函数中，而全局变量作用于整个脚本</li>
<li>声明位置：局部变量的位置在函数中，而全局变量可以声明在使用之前的任何位置</li>
<li>生存期：局部变量在函数运行以后会被删除，而全局变量在页面关闭后被删除</li>
</ul>
<h3 id="隐式全局变量"><a href="#隐式全局变量" class="headerlink" title="隐式全局变量"></a>隐式全局变量</h3><p>此方法解决了局部变量仅作用在函数中的问题</p>
<p>如果变量声明没有用 <code>var</code> 关键字，则被称为隐式全局变量</p>
<h3 id="声明隐式全局变量"><a href="#声明隐式全局变量" class="headerlink" title="声明隐式全局变量"></a>声明隐式全局变量</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num1 = <span class="number">1</span>  <span class="comment">// 全局变量</span></span><br><span class="line">num2 = <span class="number">2</span>	  <span class="comment">// 隐式全局变量</span></span><br></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> () &#123;</span><br><span class="line">	num = <span class="number">100</span> <span class="comment">// 隐式全局变量</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="演示-1"><a href="#演示-1" class="headerlink" title="演示"></a>演示</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f1</span> () &#123;</span><br><span class="line">	num = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f1</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num)</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">100</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="作用域和作用域链"><a href="#作用域和作用域链" class="headerlink" title="作用域和作用域链"></a>作用域和作用域链</h2><h3 id="什么是作用域？"><a href="#什么是作用域？" class="headerlink" title="什么是作用域？"></a>什么是作用域？</h3><p>简单来说，在一定的空间里可以对数据进行读写操作，这个空间就是数据的作用域。<br> JS中最常见的就是变量的作用域。<br> 变量的作用域分为两种：全局变量和局部变量。<br> 1、全局作用域： 最外层函数定义的变量拥有全局作用域，即对任何内部函数来说，都是可以访问的；<br> 2、局部作用域： 局部作用域一般只在固定的代码片段内可访问到，而对于函数外部是无法访问的，最常见的例如函数内部。</p>
<h3 id="顺便提一下，JS是没有块级作用域的。"><a href="#顺便提一下，JS是没有块级作用域的。" class="headerlink" title="顺便提一下，JS是没有块级作用域的。"></a>顺便提一下，JS是没有块级作用域的。</h3><p>这意味着在块语句中定义的变量，实际是在函数中创建的，而不是语句中。<br> 函数可以模仿块级作用域。</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line"><span class="comment">//这里是块级作用域</span></span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<p>大致了解了什么是作用域，就继续来说什么是作用域链。</p>
<h3 id="什么是是作用域链？"><a href="#什么是是作用域链？" class="headerlink" title="什么是是作用域链？"></a>什么是是作用域链？</h3><p>当代码在一个环境中执行时，会创建变量对象的一个作用域链。<br>由子级作用域返回父级作用域中寻找变量，就叫做作用域链。</p>
<p>作用域链中的下一个变量对象来自包含环境，也叫外部环境。而再下一个变量对象则来自下一个包含环境，一直延续到全局执行环境。全局执行环境的变量对象始终都是作用域链中的最后一个对象。</p>
<p>作用域链前端始终都是当前执行的代码所在环境的变量对象，如果环境是函数，则将其活动对象作为变量对象。</p>
<h3 id="作用域链的用途是什么呢？"><a href="#作用域链的用途是什么呢？" class="headerlink" title="作用域链的用途是什么呢？"></a>作用域链的用途是什么呢？</h3><p>是保证执行环境有权访问的所有变量和函数的有序访问。</p>
<h3 id="如何延长作用域链？"><a href="#如何延长作用域链？" class="headerlink" title="如何延长作用域链？"></a>如何延长作用域链？</h3><p>既然是个链，能不能延长呢？</p>
<p>答案当然是可以。</p>
<h4 id="延长作用域链："><a href="#延长作用域链：" class="headerlink" title="延长作用域链："></a>延长作用域链：</h4><p>执行环境的类型只有两种，全局和局部（函数）。但是有些语句可以在作用域链的前端临时增加一个变量对象，该变量对象会在代码执行后被移除。</p>
<p>具体来说就是执行这两个语句时，作用域链都会得到加强。</p>
<p> 1、try - catch 语句的catch块；会创建一个新的变量对象，包含的是被抛出的错误对象的声明。<br> 2、with 语句。with 语句会将指定的对象添加到作用域链中。</p>
<blockquote>
<p>此处引自 <a href="https://www.jianshu.com/p/2c3c8890dff0">什么是作用域、作用域链？</a> </p>
</blockquote>
<hr>
<h2 id="JavaScript-闭包"><a href="#JavaScript-闭包" class="headerlink" title="JavaScript 闭包"></a>JavaScript 闭包</h2><h3 id="何为闭包？"><a href="#何为闭包？" class="headerlink" title="何为闭包？"></a>何为闭包？</h3><p>闭包的概念：有权访问另一个函数作用域的变量的函数；一般情况就是在一个函数中包含另一个函数</p>
<p>从官方定义我们直到闭包是一个函数，只不过这个函数有 [特殊权限]，可以访问到另一个函数的作用域</p>
<h3 id="特殊权限？"><a href="#特殊权限？" class="headerlink" title="特殊权限？"></a>特殊权限？</h3><p>因为我们知道函数作用域是独立的、封闭的，外部的执行环境是访问不了的，但是闭包具有这个能力和权限。</p>
<p>我们先来看一段普普通通的函数</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 普通函数</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> a+= <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>控制台输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>再来看一段局部变量的代码：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 普通函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add2</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> b += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add2</span>())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>控制台输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>可以看出，他并没有累加。</p>
<p>当我们调用时，局部变量 b 为0，然后<code>b+=1</code>后返回一个值，然后，此时，因为全局变量不会消失，而局部变量在运行完后，他是会被<code>JavaScript</code>的运行机制处理掉的。</p>
<p>所以，当你调用第二次，他重新创建了变量b，然后，结果可想而知。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 闭包函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add3</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> b = <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> b += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add3</span>())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后，就看看我们的特殊权限。</p>
<p>我们将运算过程使用匿名函数包裹，此时，这个匿名函数在我们的主函数内，就相当于时主函数的儿子，既然是父子关系，自然你父亲对待你和对待其他孩子不一样。这就是里面的这个函数的特殊权限。</p>
<p>所以，他是有权限去访问到内部的b的，当我们调用这个函数，因为有<strong>子函数</strong>的存在，所以b这个对象不会消失。相当于<strong>后继有人</strong>，b就不会被机制回收。</p>
<p>所以，此时运行结果，也是<code>1、2、3</code>。</p>
<p>随后，贴上三段代码，自行琢磨：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//普通函数(全局变量)</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通函数(局部变量)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> b += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add2</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//闭包函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add3</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> b += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最终原理"><a href="#最终原理" class="headerlink" title="最终原理"></a>最终原理</h3><p>闭包的实现原理，其实是利用了作用域链的特性，我们都知道作用域链就是在当前执行环境下访问某个变量时，如果不存在就一直向外层寻找，最终寻找到最外层也就是全局作用域，这样就形成了一个链条。</p>
<p>至于什么是作用域链，你可以将其看成函数嵌套。</p>
<blockquote>
<p><strong>访问某个变量时，如果不存在就一直向外层寻找。</strong></p>
</blockquote>
<h3 id="闭包优势"><a href="#闭包优势" class="headerlink" title="闭包优势"></a>闭包优势</h3><blockquote>
<p><strong>作用1：</strong>隐藏变量，避免全局污染</p>
<p><strong>作用2：</strong>可以读取函数内部的变量</p>
</blockquote>
<p>同时闭包使用不当，优点就变成了缺点：</p>
<blockquote>
<p><strong>缺点1：</strong>导致变量不会被垃圾回收机制回收，造成内存消耗</p>
<p><strong>缺点2：</strong>不恰当的使用闭包可能会造成内存泄漏的问题</p>
</blockquote>
<p>为什么使用闭包时变量不会被垃圾回收机制收销毁呢？</p>
<p>这里需要了解一下<code>JS</code>垃圾回收机制：</p>
<blockquote>
<p><code>JS</code>规定在一个函数作用域内，<strong>程序执行完以后变量就会被销毁</strong>，这样可<strong>节省内存</strong>。</p>
<p>使用闭包时，按照作用域链的特点，<strong>闭包（函数）外面的变量不会被销毁</strong>，<strong>因为函数会一直被调用</strong>，所以一直存在，如果闭包使用过多会造成<strong>内存销毁</strong>。</p>
</blockquote>
<h3 id="附言"><a href="#附言" class="headerlink" title="附言"></a>附言</h3><p><strong>所以说，我们要通晓一个事物的原理，并且最优化的使用它。知己知彼，方可百战百胜。</strong></p>
<hr>
<h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><ol>
<li>oonload：一个页面或一副图像完成加载</li>
<li>onclick：鼠标单击某个对象</li>
<li>onmouseover：鼠标指针移到某元素上</li>
<li>onmouseout：鼠标指针离开某元素</li>
<li>onkeydown：某个键盘按键被按下</li>
<li>onchange：域的内容被改变</li>
</ol>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 基础入门</title>
    <url>/2022/06/12/JavaScript/JavaScript%20%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="JavaScript-基础"><a href="#JavaScript-基础" class="headerlink" title="JavaScript 基础"></a>JavaScript 基础</h1><h2 id="JavaScript-简介"><a href="#JavaScript-简介" class="headerlink" title="JavaScript 简介"></a>JavaScript 简介</h2><p>JavaScript 是一门<strong>编程语言</strong>，可以实现很多的网页交互效果。</p>
<h2 id="JavaScript-的组成"><a href="#JavaScript-的组成" class="headerlink" title="JavaScript 的组成"></a>JavaScript 的组成</h2><p><img src="https://a.ideaopen.cn/Mercury/KWK4NCZY.png" alt="img"></p>
<ul>
<li>ECMAScript：规定了 js 基础语法核心知识<ul>
<li>比如：变量、分支语句、循环语句、对象等等</li>
</ul>
</li>
<li>Web APIs：<ul>
<li>DOM：操作文档，比如对页面元素进行移动、大小、添加删除等操作</li>
<li>BOM：操作浏览器，比如页面弹窗，检测窗口宽度、存储数据到浏览器等待</li>
</ul>
</li>
</ul>
<blockquote>
<p>Web APIs 实现参考官方文档： <a href="https://developer.mozilla.org/zh-CN/">MDN 网络文档 (mozilla.org)</a> </p>
</blockquote>
<h2 id="JavaScript-书写位置"><a href="#JavaScript-书写位置" class="headerlink" title="JavaScript 书写位置"></a>JavaScript 书写位置</h2><p>同 CSS 中一样，JavaScript 也分为内联、内部、外部：</p>
<ul>
<li>内联 JavaScript</li>
</ul>
<p><img src="https://a.ideaopen.cn/Mercury/dZ7caFYO.png" alt="img"></p>
<ul>
<li>内部 JavaScript - 写到 </body> 标签上方</li>
</ul>
<p><img src="https://a.ideaopen.cn/Mercury/QKdxYedD.png" alt="img"></p>
<ul>
<li>外部 JavaScript - 通过 <code>src</code>引入<code>html</code>页面中，但是<script>标签里不要写内容，否则会被忽略</li>
</ul>
<p><img src="https://a.ideaopen.cn/Mercury/p8kcCMyU.png" alt="img"></p>
<p>常用的是内部与外部。</p>
<h3 id="书写位置注意事项"><a href="#书写位置注意事项" class="headerlink" title="书写位置注意事项"></a>书写位置注意事项</h3><p>我们的 JavaScript 的语句之所以要写在HTML结构和CSS样式之后，是因为浏览器会按照代码在文件中的<strong>顺序加载</strong> (从上往下) HTML，如果先加载的是修改HTML的JacaScript代码，那么它可能会导致HTML尚未加载或失效，所以<script>应当放在HTML结构的最下方。</p>
<p>其次就是当我们打开一个网页时，先加载的是标签以及样式，之后才显示出来的交互效果，对于用户来说，先看见网站的标签以及样式比交互效果更重要。</p>
<h2 id="JavaScript-注释"><a href="#JavaScript-注释" class="headerlink" title="JavaScript 注释"></a>JavaScript 注释</h2><ul>
<li>单行注释：//</li>
<li>多行注释：/* */</li>
</ul>
<h2 id="JavaScript-结束符"><a href="#JavaScript-结束符" class="headerlink" title="JavaScript 结束符"></a>JavaScript 结束符</h2><ul>
<li>分号;    可以加也可以不加，但为了可观性及风格统一性，要么语句后面全加上分号，要么全都不加</li>
</ul>
<p>那为什么不用加分号呢？ 因为换行默认为结束符</p>
<h2 id="JavaScipt-输出语句"><a href="#JavaScipt-输出语句" class="headerlink" title="JavaScipt 输出语句"></a>JavaScipt 输出语句</h2><ul>
<li>输出<ul>
<li>alert() 页面弹出警示框</li>
<li>console.log() 控制台输出语法，程序员调试使用</li>
<li>document.write() 向body中输出内容，如果输出的内容写的是标签，也会被解析成网页元素   </li>
</ul>
</li>
</ul>
<p>document.write() 向body中输出内容：</p>
<p><img src="https://a.ideaopen.cn/Mercury/efvKEaxH.png" alt="img"></p>
<p>输出的内容带有标签：</p>
<p><img src="https://a.ideaopen.cn/Mercury/rrdznMBL.png" alt="img"></p>
<p>前两种输出方式往后看</p>
<h2 id="系统对话框"><a href="#系统对话框" class="headerlink" title="系统对话框"></a>系统对话框</h2><h3 id="alert-警告对话框"><a href="#alert-警告对话框" class="headerlink" title="alert()  警告对话框"></a>alert()  警告对话框</h3><p>使用时需注意的是：</p>
<ul>
<li>在单击对话框中的 “确定” 按钮前，不能进行任何其他操作</li>
<li>警告对话框通常可以用于调试程序</li>
<li>alert() 输出内容，可以是字符串或变量，与document.write()相似</li>
</ul>
<p>alert() 方法演示：</p>
<p><img src="https://a.ideaopen.cn/Mercury/28amUucQ.png" alt="img"></p>
<h3 id="confirm-确认框"><a href="#confirm-确认框" class="headerlink" title="confirm() 确认框"></a>confirm() 确认框</h3><p>确认框通常用于验证是否接受用户操作。</p>
<p>当确认卡弹出时，用户可以点击 “确认” 或者 “取消” 来确定用户操作。</p>
<p>当你点击 “确认”, 确认框返回 true， 如果点击 “取消”, 确认框返回 false。</p>
<p>confrim() 方法演示：</p>
<p><img src="https://a.ideaopen.cn/Mercury/pmMnr8o8.png" alt="img"></p>
<p><img src="https://a.ideaopen.cn/Mercury/9SMTGGub.png" alt="img"></p>
<p>确定：哥也喜欢你</p>
<p>取消：其实我也不太常听</p>
<h3 id="prompt-提示对话框"><a href="#prompt-提示对话框" class="headerlink" title="prompt() 提示对话框"></a>prompt() 提示对话框</h3><p>页面弹出一个提示对话框，等待用户输入数据。</p>
<p><img src="https://a.ideaopen.cn/Mercury/RnMOAmhT.png" alt="img"></p>
<hr>
<h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>console.log() 控制台输出语法，程序员调试使用：</p>
<p>检查网站步骤：右键网站空白处 - 检查 - 控制台</p>
<p><img src="https://a.ideaopen.cn/Mercury/hybWgy9V.png" alt="img"></p>
<h3 id="设置断点"><a href="#设置断点" class="headerlink" title="设置断点"></a>设置断点</h3><p>在调试窗口中，你可以设置 JavaScript 代码的断点。</p>
<p>在每个断点上，都会停止执行 JavaScript 代码，以便于我们检查 JavaScript 变量的值。</p>
<p>在检查完毕后，可以重新执行代码（如播放按钮）。</p>
<p><img src="https://a.ideaopen.cn/Mercury/B344LUrE.png" alt="img"></p>
<p>第一遍启动检查会没反应，需要刷新页面一下！！</p>
<h3 id="debugger-关键字"><a href="#debugger-关键字" class="headerlink" title="debugger 关键字"></a>debugger 关键字</h3><p><strong>debugger</strong> 关键字用于停止执行 JavaScript，并调用调试函数。</p>
<p>这个关键字与在调试工具中设置断点的效果是一样的。</p>
<p>如果没有调试可用，debugger 语句将无法工作。</p>
<p>开启 debugger ，代码在第三行前停止执行。</p>
<hr>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>变量是计算机用来存储数据的 ”容器“。</p>
<p>通俗的讲，变量是一个个盒子。</p>
<h3 id="变量的声明"><a href="#变量的声明" class="headerlink" title="变量的声明"></a>变量的声明</h3><p>声明一个变量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名</span><br></pre></td></tr></table></figure>

<p><strong>命名规则：</strong></p>
<ol>
<li>变量名由数字、字母、下划线及 “$”符号组成</li>
<li>首字母不能是数字</li>
<li>不能以关键字命名变量（如this、new、return等）</li>
</ol>
<p>可以使用一个关键字 var 同时声明多个变量：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name,age,sex</span><br></pre></td></tr></table></figure>

<h2 id="变量的赋值"><a href="#变量的赋值" class="headerlink" title="变量的赋值"></a>变量的赋值</h2><ol>
<li>变量直接赋值（初始化）：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 = 变量值</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>声明变量之后在对变量赋值：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> name</span><br><span class="line">name = <span class="string">&#x27;张三&#x27;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="JavaScript-的数据类型"><a href="#JavaScript-的数据类型" class="headerlink" title="JavaScript 的数据类型"></a>JavaScript 的数据类型</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><ul>
<li><code>number</code>：数值类型</li>
</ul>
<p>JavaScript 数值类型与强类型语言 Java 和 C# 不同，JavaScript 的数值类型不仅包括所有的整形变量，还包括所有的浮点型变量。例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">15</span></span><br><span class="line"><span class="keyword">var</span> money = <span class="number">15.8</span></span><br></pre></td></tr></table></figure>

<p>另外，在JavaScript中还有一个特殊值 —— NaN (Not a Number)，表示非数字，也是数值类型</p>
<p>如判断输入的是否为数值类型：</p>
<p><img src="https://a.ideaopen.cn/Mercury/UhLtJGyw.png" alt="img"></p>
<p>当输入 一百 时：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tiGF453N.png" alt="img"></p>
<ul>
<li><code>string</code>：字符串类型</li>
</ul>
<p>JavaScript 的字符串需用引号括起来，引号可以是单引号，也可以是双引号，格式如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str1 = <span class="string">&quot;123abc&quot;</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="string">&#x27;123abc&#x27;</span></span><br></pre></td></tr></table></figure>

<p>JavaScript 以string类表示字符串，string 类包含了一系列方法，具体如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>charAt()</td>
<td>返回指定位置的字符</td>
</tr>
<tr>
<td>toUpperCase()</td>
<td>把字符串转换为大写</td>
</tr>
<tr>
<td>toLowerCase()</td>
<td>把字符串转换为小写</td>
</tr>
<tr>
<td>indexOf()</td>
<td>返回某个指定的字符串在字符串中首次出现的位置</td>
</tr>
<tr>
<td>subString()</td>
<td>用于提取字符串中介于两个指定下标之间的字符</td>
</tr>
<tr>
<td>split()</td>
<td>用于把一个字符串分割成字符串数组</td>
</tr>
<tr>
<td>replace()</td>
<td>用于在字符串中用一些字符替换另一些字符</td>
</tr>
</tbody></table>
<ul>
<li><code>boolean</code>：布尔类型</li>
</ul>
<p>布尔类型的值只有两个：<code>true</code>和<code>false</code>。布尔类型的值通常是逻辑运算的结果，或用于标志对象的某种状态。</p>
<hr>
<h2 id="特殊数据类型"><a href="#特殊数据类型" class="headerlink" title="特殊数据类型"></a>特殊数据类型</h2><p>特殊数据类型包括空类型——null，以及未定义类型——undefined</p>
<ul>
<li><p>null：表示变量的值为空，可以用来检测某个变量是否被赋值。</p>
</li>
<li><p>undefined：该值用于表示某个变量不存在，或者没有为其分配值，也用于表示对象的属性不存在</p>
</li>
</ul>
<p>尽管这两个值相等，但是它们的含义不同，其区别在于 undefined 表示没有为变量设置值或属性不存在；null 表示变量是有值的，其值为null。</p>
<hr>
<h2 id="判断数据类型"><a href="#判断数据类型" class="headerlink" title="判断数据类型"></a>判断数据类型</h2><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">typeof</span>(值或变量)</span><br></pre></td></tr></table></figure>

<p>ECMAScript 提供<code>typeof</code>运算符来判断某个值或变量的数据类型</p>
<p>其返回值有如下几种：</p>
<ul>
<li>number：如果变量是数值类型，则返回 number</li>
<li>string：如果变量是字符串类型，则返回 string</li>
<li>boolean：如果变量是布尔类型，则返回 boolean</li>
<li>object：如果变量是空类型，或者是一种引用类型，如对象、函数、数组、则返回 object</li>
<li>undefined：如果变量是未定义类型，则返回 undefined</li>
</ul>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> userName ,sex=<span class="string">&#x27;男&#x27;</span> ,age=<span class="number">18</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="title class_">Date</span>();	<span class="comment">//获取日期类对象</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="title class_">Array</span>();	<span class="comment">//定义数组</span></span><br><span class="line">			</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;userName的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(userName) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;sex的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(sex) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;age的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(age) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;date的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(date) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;arr的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(arr) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;true的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(<span class="literal">true</span>) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&#x27;null的返回值为: &#x27;</span> + <span class="title function_">typeof</span>(<span class="literal">null</span>) + <span class="string">&#x27;&lt;br/&gt;&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/6gLC2H2C.png" alt="img"></p>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><p>与Java当中的运算符一样，在JavaScript中，运算符分为算术运算符、比较运算符、逻辑运算符和赋值运算符</p>
<p>JavaScript 运算符用于赋值，比较值，执行算术运算等。</p>
<h3 id="JavaScript-算术运算符"><a href="#JavaScript-算术运算符" class="headerlink" title="JavaScript 算术运算符"></a>JavaScript 算术运算符</h3><p>算术运算符用于执行两个变量或值的运算。</p>
<p>赋值 <strong>y = 5</strong>, 以下表格将向你说明算术运算符的使用：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">例子</th>
<th align="left">y 值</th>
<th align="left">x 值</th>
<th align="left">在线实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">加法</td>
<td align="left">x = y + 2</td>
<td align="left">y = 5</td>
<td align="left">x = 7</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_add">实例 »</a></td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">减法</td>
<td align="left">x = y - 2</td>
<td align="left">y = 5</td>
<td align="left">x = 3</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_sub">实例 »</a></td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">乘法</td>
<td align="left">x = y * 2</td>
<td align="left">y = 5</td>
<td align="left">x = 10</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_mult">实例 »</a></td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">除法</td>
<td align="left">x = y / 2</td>
<td align="left">y = 5</td>
<td align="left">x = 2.5</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_div">实例 »</a></td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">余数</td>
<td align="left">x = y % 2</td>
<td align="left">y = 5</td>
<td align="left">x = 1</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_mod">实例 »</a></td>
</tr>
<tr>
<td align="left">++</td>
<td align="left">自增</td>
<td align="left">x = ++y</td>
<td align="left">y = 6</td>
<td align="left">x = 6</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_incr">实例 »</a></td>
</tr>
<tr>
<td align="left">x = y++</td>
<td align="left">y = 6</td>
<td align="left">x = 5</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_incr2">实例 »</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">–</td>
<td align="left">自减</td>
<td align="left">x = –y</td>
<td align="left">y = 4</td>
<td align="left">x = 4</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_decr">实例 »</a></td>
</tr>
<tr>
<td align="left">x = y–</td>
<td align="left">y = 4</td>
<td align="left">x = 5</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_decr2">实例 »</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<hr>
<p>赋值运算符用于给 JavaScript 变量赋值。</p>
<p>给定 <strong>x=10</strong> 和 <strong>y=5</strong>，下面的表格解释了赋值运算符：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">例子</th>
<th align="left">实例</th>
<th align="left">x 值</th>
<th align="left">在线实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">=</td>
<td align="left">x = y</td>
<td align="left">x = y</td>
<td align="left">x = 5</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_equal">实例 »</a></td>
</tr>
<tr>
<td align="left">+=</td>
<td align="left">x += y</td>
<td align="left">x = x + y</td>
<td align="left">x = 15</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_plusequal">实例 »</a></td>
</tr>
<tr>
<td align="left">-=</td>
<td align="left">x -= y</td>
<td align="left">x = x - y</td>
<td align="left">x = 5</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_minequal">实例 »</a></td>
</tr>
<tr>
<td align="left">*=</td>
<td align="left">x *= y</td>
<td align="left">x = x * y</td>
<td align="left">x = 50</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_multequal">实例 »</a></td>
</tr>
<tr>
<td align="left">/=</td>
<td align="left">x /= y</td>
<td align="left">x = x / y</td>
<td align="left">x = 2</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_divequal">实例 »</a></td>
</tr>
<tr>
<td align="left">%=</td>
<td align="left">x %= y</td>
<td align="left">x = x % y</td>
<td align="left">x = 0</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_modequal">实例 »</a></td>
</tr>
</tbody></table>
<hr>
<h3 id="JavaScript-字符串运算符"><a href="#JavaScript-字符串运算符" class="headerlink" title="JavaScript 字符串运算符"></a>JavaScript 字符串运算符</h3><p>+ 运算符， += 运算符可用于连接字符串。</p>
<p>给定 <strong>text1 = “Good “</strong>, <strong>text2 = “Morning”</strong>, <strong>及 text3 = “”</strong>, 下面的表格解释了字符串运算符的使用：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">例子</th>
<th align="left">text1</th>
<th align="left">text2</th>
<th align="left">text3</th>
<th align="left">在线实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">text3 = text1 + text2</td>
<td align="left">“Good “</td>
<td align="left">“Morning”</td>
<td align="left">“Good Morning”</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_string1">实例 »</a></td>
</tr>
<tr>
<td align="left">+=</td>
<td align="left">text1 += text2</td>
<td align="left">“Good Morning”</td>
<td align="left">“Morning”</td>
<td align="left">“”</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_oper_string2">实例 »</a></td>
</tr>
</tbody></table>
<hr>
<h3 id="比较运算符"><a href="#比较运算符" class="headerlink" title="比较运算符"></a>比较运算符</h3><p>比较运算符用于逻辑语句的判断，从而确定给定的两个值或变量是否相等。</p>
<p>给定 <strong>x=5</strong>, 下表展示了比较运算符的使用：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">比较</th>
<th align="left">结果</th>
<th align="left">在线实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">==</td>
<td align="left">等于</td>
<td align="left">x == 8</td>
<td align="left">false</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison1">实例 »</a></td>
</tr>
<tr>
<td align="left">x == 5</td>
<td align="left">true</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison2">实例 »</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">===</td>
<td align="left">值及类型均相等（恒等于）</td>
<td align="left">x === “5”</td>
<td align="left">false</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison3">实例 »</a></td>
</tr>
<tr>
<td align="left">x === 5</td>
<td align="left">true</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison4">实例 »</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">!=</td>
<td align="left">不等于</td>
<td align="left">x != 8</td>
<td align="left">true</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison5">实例 »</a></td>
</tr>
<tr>
<td align="left">!==</td>
<td align="left">值与类型均不等（不恒等于）</td>
<td align="left">x !== “5”</td>
<td align="left">true</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison6">实例 »</a></td>
</tr>
<tr>
<td align="left">x !== 5</td>
<td align="left">false</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison7">实例 »</a></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于</td>
<td align="left">x &gt; 8</td>
<td align="left">false</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison8">实例 »</a></td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">小于</td>
<td align="left">x &lt; 8</td>
<td align="left">true</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison9">实例 »</a></td>
</tr>
<tr>
<td align="left">&gt;=</td>
<td align="left">大于或等于</td>
<td align="left">x &gt;= 8</td>
<td align="left">false</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison10">实例 »</a></td>
</tr>
<tr>
<td align="left">&lt;=</td>
<td align="left">小于或等于</td>
<td align="left">x &lt;= 8</td>
<td align="left"><em>true</em></td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison11">实例 »</a></td>
</tr>
</tbody></table>
<hr>
<h3 id="条件运算符"><a href="#条件运算符" class="headerlink" title="条件运算符"></a>条件运算符</h3><p>条件运算符用于基于条件的赋值运算。</p>
<p>给定 <strong>x=6 and y=3</strong>, 下表演示了条件运算符的运算：</p>
<table>
<thead>
<tr>
<th align="left">语法</th>
<th align="left">例子</th>
<th align="left">在线实例</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>变量</em> = (<em>条件</em>) ? <em>值1</em>:<em>值2</em></td>
<td align="left">voteable = (age &lt; 18) ? “太年轻而不能”:”年龄够”;</td>
<td align="left"><a href="https://www.runoob.com/try/try.php?filename=tryjsref_comparison">实例 »</a></td>
</tr>
</tbody></table>
<hr>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>逻辑运算符用来确定变量或值之间的逻辑关系。</p>
<p>给定 <strong>x=6 and y=3</strong>, 以下实例演示了逻辑运算符的使用：</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">例子</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp;</td>
<td align="left">和</td>
<td align="left">(x &lt; 10 &amp;&amp; y &gt; 1) 为 true</td>
</tr>
<tr>
<td align="left">||</td>
<td align="left">或</td>
<td align="left">(x == 5 || y == 5) 为 false</td>
</tr>
<tr>
<td align="left">!</td>
<td align="left">非</td>
<td align="left">!(x == y) 为 true</td>
</tr>
</tbody></table>
<hr>
<h3 id="JavaScript-位运算符"><a href="#JavaScript-位运算符" class="headerlink" title="JavaScript 位运算符"></a>JavaScript 位运算符</h3><p>位运算符工作于32位的数字上。任何数字操作都将转换为32位。结果会转换为 JavaScript 数字。</p>
<table>
<thead>
<tr>
<th align="left">运算符</th>
<th align="left">描述</th>
<th align="left">例子</th>
<th align="left">类似于</th>
<th align="left">结果</th>
<th align="left">十进制</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left">AND</td>
<td align="left">x = 5 &amp; 1</td>
<td align="left">0101 &amp; 0001</td>
<td align="left">0001</td>
<td align="left">1</td>
</tr>
<tr>
<td align="left">|</td>
<td align="left">OR</td>
<td align="left">x = 5 | 1</td>
<td align="left">0101 | 0001</td>
<td align="left">0101</td>
<td align="left">5</td>
</tr>
<tr>
<td align="left">~</td>
<td align="left">取反</td>
<td align="left">x = ~ 5</td>
<td align="left">~0101</td>
<td align="left">1010</td>
<td align="left">-6</td>
</tr>
<tr>
<td align="left">^</td>
<td align="left">异或</td>
<td align="left">x = 5 ^ 1</td>
<td align="left">0101 ^ 0001</td>
<td align="left">0100</td>
<td align="left">4</td>
</tr>
<tr>
<td align="left">&lt;&lt;</td>
<td align="left">左移</td>
<td align="left">x = 5 &lt;&lt; 1</td>
<td align="left">0101 &lt;&lt; 1</td>
<td align="left">1010</td>
<td align="left">10</td>
</tr>
<tr>
<td align="left">&gt;&gt;</td>
<td align="left">右移</td>
<td align="left">x = 5 &gt;&gt; 1</td>
<td align="left">0101 &gt;&gt; 1</td>
<td align="left">0010</td>
<td align="left">2</td>
</tr>
</tbody></table>
<blockquote>
<p>运算符懒得打，偷点小懒，引自 <a href="https://www.runoob.com/jsref/jsref-operators.html">JavaScript 运算符 | 菜鸟教程 (runoob.com)</a> </p>
</blockquote>
<h2 id="逻辑控制语句"><a href="#逻辑控制语句" class="headerlink" title="逻辑控制语句"></a>逻辑控制语句</h2><h3 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h3><ol>
<li>if —— 单分支语句</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件) &#123;</span><br><span class="line">	<span class="comment">//条件为true时执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>if —— 双分支语句</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件) &#123;</span><br><span class="line">	<span class="comment">//条件为true时执行的代码</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//条件为false时执行的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>多分支语句</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(条件) &#123;</span><br><span class="line">	<span class="comment">//条件为true/符合时执行该处代码，下面不在执行</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span>(条件) &#123;</span><br><span class="line">    <span class="comment">//条件为true/符合时执行此处代码。下面不在执行    </span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//不满足条件/为false执行该处代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="switch-语句"><a href="#switch-语句" class="headerlink" title="switch 语句"></a>switch 语句</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span> (条件) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="comment">//执行语句</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">        <span class="comment">//执行语句</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="attr">default</span>:</span><br><span class="line">        <span class="comment">//执行语句</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上述语法中，<code>break</code>关键字用于跳出某个 <code>case</code>语句，如果不加上<code>break</code>的话，将会一直执行后面的<code>case</code>语句</p>
<p><code>default</code>关键字用于书写默认的条件，当前面的 case 语句都不满足时，则执行<code>default</code>语句</p>
<h3 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h3><ol>
<li>for 循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (表达式<span class="number">1</span>;表达式<span class="number">2</span>;表达式<span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行顺序：</p>
<ul>
<li>首先执行表达式1为初始化变量</li>
<li>其次进行表达式2为循环条件的判断，如果表达式2成立，那么执行循环体</li>
<li>最后循环执行体结束后，表达式3增加 / 减少初始化变量的值，如何再判断表达2是否成立，如果成立则执行循环体，否则结束</li>
</ul>
<hr>
<ol start="2">
<li>while 循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">while</span> (条件) &#123;</span><br><span class="line">	<span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行特点是先判断后执行，当条件为真时，就执行循环体；当条件为假时，退出循环</p>
<hr>
<ol start="3">
<li>do-while 循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (条件)</span><br></pre></td></tr></table></figure>

<p>其特点是先执行后判断，该语句表示反复执行循环体，直到条件为假时才退出循环</p>
<hr>
<ol start="4">
<li>for-in 循环</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (变量 <span class="keyword">in</span> 对象) &#123;</span><br><span class="line">    <span class="comment">// 循环体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述语法中，”变量” 为指定的变量，可以时数组元素，也可以是对象的属性</p>
<h2 id="关键字和保留字"><a href="#关键字和保留字" class="headerlink" title="关键字和保留字"></a>关键字和保留字</h2><h3 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h3><p><strong>关键字</strong>就是 ECMA-262 规定的 JavaScript 语言内部使用的一组名称（或称为命令）。这些名称具有特定的用途，用户不能自定义同名的标识符。具体说明如表所示。</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>关键字</th>
<th>关键字</th>
<th>关键字</th>
<th>关键字</th>
</tr>
</thead>
<tbody><tr>
<td>break</td>
<td>delete</td>
<td>if</td>
<td>this</td>
<td>while</td>
</tr>
<tr>
<td>case</td>
<td>do</td>
<td>in</td>
<td>throw</td>
<td>with</td>
</tr>
<tr>
<td>catch</td>
<td>else</td>
<td>instanceof</td>
<td>try</td>
<td>——</td>
</tr>
<tr>
<td>continue</td>
<td>finally</td>
<td>new</td>
<td>typeof</td>
<td>——</td>
</tr>
<tr>
<td>debugger（ECMAScript 5 新增）</td>
<td>for</td>
<td>return</td>
<td>var</td>
<td>——</td>
</tr>
<tr>
<td>default</td>
<td>function</td>
<td>switch</td>
<td>void</td>
<td>——</td>
</tr>
</tbody></table>
<h3 id="保留字"><a href="#保留字" class="headerlink" title="保留字"></a>保留字</h3><p><strong>保留字</strong>就是 ECMA-262 规定的 JavaScript 语言内部预备使用的一组名称（或称为命令）。这些名称目前还没有具体的用途，是为 JavaScript 升级版本预留备用的，建议用户不要使用。具体说明如表所示。</p>
<table>
<thead>
<tr>
<th>保留字</th>
<th>保留字</th>
<th>保留字</th>
<th>保留字</th>
<th>保留字</th>
</tr>
</thead>
<tbody><tr>
<td>abstract</td>
<td>double</td>
<td>goto</td>
<td>native</td>
<td>static</td>
</tr>
<tr>
<td>boolean</td>
<td>enum</td>
<td>implements</td>
<td>package</td>
<td>super</td>
</tr>
<tr>
<td>byte</td>
<td>export</td>
<td>import</td>
<td>private</td>
<td>synchronized</td>
</tr>
<tr>
<td>char</td>
<td>extends</td>
<td>int</td>
<td>protected</td>
<td>throws</td>
</tr>
<tr>
<td>class</td>
<td>final</td>
<td>interface</td>
<td>public</td>
<td>transient</td>
</tr>
<tr>
<td>const</td>
<td>float</td>
<td>long</td>
<td>short</td>
<td>volatile</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 面向对象</title>
    <url>/2022/06/20/JavaScript/JavaScript%20%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="JavaScript-面向对象"><a href="#JavaScript-面向对象" class="headerlink" title="JavaScript 面向对象"></a>JavaScript 面向对象</h2><p>在 ES6 推出之前，JavaScript 中还没有类的概念，因此它的对象也与基于类的语言中的对象有所不同。</p>
<p>创建对象的方式有如下两种：</p>
<h3 id="创建内置对象"><a href="#创建内置对象" class="headerlink" title="创建内置对象"></a>创建内置对象</h3><p>JavaScript 中内置对象是一种特殊的数据，常见的内置对象如下：</p>
<ul>
<li>String</li>
<li>Date</li>
<li>Array</li>
<li>Boolean</li>
<li>Math</li>
<li>RegExp</li>
</ul>
<p>在处理一些复杂的逻辑时，内置对象就无法满足开发者的需求，这时就需要接下来所讲到的<strong>创建自定义对象</strong></p>
<h3 id="创建自定义对象"><a href="#创建自定义对象" class="headerlink" title="创建自定义对象"></a>创建自定义对象</h3><p>与内置对象不同的是，创建的对象为Object，语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 对象实例化</span></span><br><span class="line"><span class="keyword">var</span> 对象名 = <span class="keyword">new</span> <span class="title class_">Object</span>()</span><br></pre></td></tr></table></figure>

<p>通过为其添加属性和方法，实例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">cat.<span class="property">name</span> = <span class="string">&quot;小月&quot;</span>;</span><br><span class="line">cat.<span class="property">age</span> = <span class="number">3</span>;</span><br><span class="line">cat.<span class="property">color</span> = <span class="string">&quot;白色&quot;</span>;</span><br><span class="line"><span class="comment">// 添加一个方法属性</span></span><br><span class="line">cat.<span class="property">intro</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;猫咪名字：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;&lt;br/&gt;猫咪年龄：&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span> + <span class="string">&quot;&lt;br/&gt;猫咪颜色：&quot;</span>  + <span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">&#125;</span><br><span class="line">cat.<span class="title function_">intro</span>();</span><br></pre></td></tr></table></figure>

<p><strong>使用字面量赋值的方式创建对象：</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> cat = &#123;</span><br><span class="line">	name : <span class="string">&quot;小月&quot;</span>,</span><br><span class="line">	age : <span class="number">3</span>,</span><br><span class="line">	color : <span class="string">&quot;白色&quot;</span>,</span><br><span class="line">     <span class="comment">// 添加一个方法属性</span></span><br><span class="line">	intro : <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">&quot;猫咪名字：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;&lt;br/&gt;猫咪年龄：&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span> + <span class="string">&quot;&lt;br/&gt;猫咪颜色：&quot;</span>  + <span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">cat.<span class="title function_">intro</span>();</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="简单工厂模式"><a href="#简单工厂模式" class="headerlink" title="简单工厂模式"></a>简单工厂模式</h2><p>简单工厂模式提供了一个接口可以根据传递的参数的不同创建不同的对象，从而将对象自身的逻辑与对象的创建分离开。</p>
<p>从设计模式的分类来看简单工厂模式是创建型模式。事实上与简单工厂模式类似的还有工厂模式和抽象工厂模式。那它们有什么区别呢？</p>
<p>我们从名字入手分析一下，<strong>简单</strong> ，为什么叫简单工厂模式？因为它仅仅只是分离了对象的创建和对象的使用，一旦有新的产品加入，就必须修改简单工厂中对象创建的方法，这样并没有遵守对修改封闭，对扩展开放的原则。所以这个模式的抽象和分离的还不够彻底，相比而言工厂模式就在简单工厂模式的基础之上加了一层对工厂的抽象，具体的产品由具体的工厂来创建，这样新增产品就只需要新增一个工厂就行，并不会对原来的代码产生影响，其次 <strong>工厂</strong> ，这个对应其创建型模式，用于创建对象。 </p>
<h3 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h3><h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol>
<li>简单工厂模式把对象创建的逻辑进行了封装，在使用的对象的时候不需要了解创建的细节</li>
<li>创建对象可以使用对应的参数来确定创建的具体对象，而不需要知道对象的类名</li>
</ol>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>由于工厂类集中了所有产品创建逻辑，一旦不能正常工作，整个系统都要受到影响。</li>
<li>使用简单工厂模式将会增加系统中类的个数，在一定程序上增加了系统的复杂度和理解难度。</li>
<li>系统扩展困难，一旦添加新产品就不得不修改工厂逻辑，在产品类型较多时，有可能造成工厂逻辑过于复杂，不利于系统的扩展和维护。</li>
<li>简单工厂模式由于使用了静态工厂方法，造成工厂角色无法形成基于继承的等级结构。</li>
</ol>
<blockquote>
<p>引自  <a href="https://segmentfault.com/a/1190000004238309#:~:text=%E7%AE%80%E5%8D%95%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E6%8F%90%E4%BE%9B,%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E5%88%86%E7%A6%BB%E5%BC%80%E3%80%82">javascript实现简单工厂模式 - SegmentFault 思否</a> </p>
</blockquote>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">creatStudent</span> (name, age) &#123;</span><br><span class="line">    <span class="keyword">var</span> student = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    student.<span class="property">name</span> = name;</span><br><span class="line">    student.<span class="property">age</span> = age;</span><br><span class="line">    <span class="comment">// 添加一个方法属性</span></span><br><span class="line">    student.<span class="property">showStudentInfo</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;学生姓名：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;\n学生年龄：&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> student;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student1 = <span class="title function_">creatStudent</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>);</span><br><span class="line">student1.<span class="title function_">showStudentInfo</span>();</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/91zxqWxN.png" alt="img"></p>
<hr>
<h2 id="构造函数和原型对象"><a href="#构造函数和原型对象" class="headerlink" title="构造函数和原型对象"></a>构造函数和原型对象</h2><h3 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h3><p>首先了解<strong>普通函数</strong>与<strong>构造函数</strong>的区别：</p>
<p>其一，实际上并不存在创建构造函数的特殊语法，其与普通函数唯一的区别在于调用方法。对于任意函数，使用new操作符调用，那么它就是构造函数；不使用 new 操作符调用，那么它就是普通函数。</p>
<p>其二，按照惯例，我们约定构造函数名以大写字母开头，普通函数以小写字母开头，这样有利于显性区分二者。例如内置对象的 new Array()，自定义对象的 new Object()。</p>
<p>其三，使用new操作符调用构造函数时，会经历4个阶段：</p>
<ol>
<li>创建一个新对象</li>
<li>将构造函数作用域赋给新对象（使this指向该新对象）</li>
<li>执行构造函数代码</li>
<li>返回新对象</li>
</ol>
<p>再来看<strong>构造函数与工厂简单模式的不同之处：</strong></p>
<ul>
<li>没有显示创建对象</li>
<li>直接将属性和方法赋给 this 对象</li>
<li>没有 return 语句</li>
</ul>
<p>了解了<strong>构造函数和普通函数的区别</strong>以及<strong>构造函数与工厂简单模式的不同</strong>之后，我们使用<strong>构造函数</strong>将<strong>工厂模式</strong>的函数重写，</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">creatStudent</span> (name, age) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    <span class="comment">// 添加一个方法属性</span></span><br><span class="line">    student.<span class="property">showStudentInfo</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;学生姓名：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;\n学生年龄：&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> student1 = <span class="title function_">creatStudent</span>(<span class="string">&quot;张三&quot;</span>,<span class="number">18</span>);</span><br><span class="line">student1.<span class="title function_">showStudentInfo</span>();</span><br></pre></td></tr></table></figure>

<p>运行结果同上次实例一致：</p>
<p><img src="https://a.ideaopen.cn/Mercury/91zxqWxN.png" alt="img"></p>
<blockquote>
<p>部分引自： <a href="https://blog.csdn.net/a153375250/article/details/51083245">JavaScript构造函数及原型对象_RockyHillsCSDN博客</a> </p>
</blockquote>
<hr>
<h3 id="原型对象"><a href="#原型对象" class="headerlink" title="原型对象"></a>原型对象</h3><p> JavaScript 中所创建的每个函数都有一个 prototype(原型) 属性，这个属性指向一个对象，即下文要讲到的原型对象。</p>
<h4 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h4><p>使用原型对象的好处是可以让所有对象实例<strong>共享</strong>它所包含的属性和方法。语法格式如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">构造函数名.<span class="property">protptype</span>.新属性或者新方法</span><br></pre></td></tr></table></figure>

<h4 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Cat</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">        </span><br><span class="line"><span class="title class_">Cat</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">name</span> = <span class="string">&quot;小布丁&quot;</span>;</span><br><span class="line"><span class="title class_">Cat</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">age</span> = <span class="number">1</span>;</span><br><span class="line"><span class="title class_">Cat</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">color</span> = <span class="string">&quot;白色&quot;</span>;</span><br><span class="line"><span class="title class_">Cat</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showCat</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">	<span class="title function_">alert</span>(<span class="string">&quot;猫咪名字：&quot;</span> + <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&quot;\n猫咪年龄：&quot;</span> + <span class="variable language_">this</span>.<span class="property">age</span> + <span class="string">&quot;\n猫咪颜色：&quot;</span> + <span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">&#125;;</span><br><span class="line">        </span><br><span class="line"><span class="keyword">var</span> cat1 = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">cat1.<span class="title function_">showCat</span>();</span><br></pre></td></tr></table></figure>

<p>在实例中，Cat 函数为一个空函数，所有的属性和方法都有 prototype 的方式进行添加。</p>
<h3 id="constructor-属性"><a href="#constructor-属性" class="headerlink" title="constructor 属性"></a>constructor 属性</h3><p>在默认情况下，所有原型对象都会自动获得一个 constructor 属性，这个属性指向 prototype 属性所在的函数。如实例中的Cat.prototype.constructor 指向 Cat，通过这个构造函数，可以继续为原型对象添加其他属性和方法。</p>
<p>所以实例中的 cat1 实例化对象时，虽然自身内部没有定义其他的属性和方法，但在使用时同样可以访问到。</p>
<p>下面是 cat1 实例访问到其他属性和方法的流程：</p>
<ul>
<li>当 cat1 实例化对象读取某个属性时，首先从对象实例本身开始搜索。如果找到指定名字的属性，则返回属性值</li>
<li>如果没有找到，则继续在原型对象中查找具有指定名字的属性</li>
</ul>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript 面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>jQuery操作DOM</title>
    <url>/2022/07/06/JavaScript/jQuery%20%E6%93%8D%E4%BD%9CDOM/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="jQuery-操作DOM"><a href="#jQuery-操作DOM" class="headerlink" title="jQuery 操作DOM"></a>jQuery 操作DOM</h2><p>当网页被加载时，浏览器会创建当前页面的DOM对象，JavaScript 通过提供的方法对 DOM 节点进行操作，实现网页的交互，jQuery 提供了一系列操作DOM的方法，一方面简化了JavaScript操作DOM的写法，另一方面解决了浏览器兼容性问题。</p>
<hr>
<h2 id="jQuery-节点操作"><a href="#jQuery-节点操作" class="headerlink" title="jQuery 节点操作"></a>jQuery 节点操作</h2><h3 id="1-查找节点"><a href="#1-查找节点" class="headerlink" title="1. 查找节点"></a>1. 查找节点</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;selector&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 查找ul下的所有li元素</span></span><br><span class="line">$(<span class="string">&quot;ul li&quot;</span>)</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="2-创建节点"><a href="#2-创建节点" class="headerlink" title="2. 创建节点"></a>2. 创建节点</h3><p>在jQuery工厂函数$()中直接传入 HTML 代码，可创建新的元素,，语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(html)</span><br></pre></td></tr></table></figure>

<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="string">&quot;&lt;li&gt;安静&lt;/li&gt;&quot;</span>)</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="3-插入节点"><a href="#3-插入节点" class="headerlink" title="3. 插入节点"></a>3. 插入节点</h3><h4 id="内部插入"><a href="#内部插入" class="headerlink" title="内部插入"></a>内部插入</h4><ul>
<li>append (content)：在匹配元素结尾插入指定位置</li>
<li>appendTo (content)：把选择的元素追加到另一个指定的元素集合内部</li>
<li>prepend (content)：在匹配元素开始的位置插入指定内容</li>
<li>prepend (content)：将所有匹配元素前置到指定的元素集合内部</li>
</ul>
<h4 id="外部插入"><a href="#外部插入" class="headerlink" title="外部插入"></a>外部插入</h4><ul>
<li>after (content)：在匹配元素之后插入内容</li>
<li>insertAfter (content)：将匹配的元素插入到另一个指定的元素集合的后面</li>
<li>before (content)：在匹配元素之前插入内容</li>
<li>insertBefore (content)：将匹配的元素插入到另一个指定的元素集合的前面</li>
</ul>
<hr>
<h3 id="4-删除节点"><a href="#4-删除节点" class="headerlink" title="4. 删除节点"></a>4. 删除节点</h3><h4 id="1-remove-方法"><a href="#1-remove-方法" class="headerlink" title="1.remove() 方法"></a>1.remove() 方法</h4><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">remove</span>([选择器])</span><br></pre></td></tr></table></figure>

<p>selector：可选参数，表示被匹配元素的选择器表达式。如果接受参数，则根据传入的jQuery选择器表达式筛选出要删除的元素，并执行删除操作</p>
<p>例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 删除节点</span></span><br><span class="line">$(<span class="string">&quot;ul li a&quot;</span>).<span class="title function_">remove</span>();</span><br></pre></td></tr></table></figure>

<h4 id="2-detach-方法"><a href="#2-detach-方法" class="headerlink" title="2. detach () 方法"></a>2. detach () 方法</h4><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">detach</span>([选择器])</span><br></pre></td></tr></table></figure>

<p>同remove()方法一样，都是从DOM文档中移除指定的元素</p>
<p>二者的区别在于detach()方法在删除元素时会保留与删除的元素关联的数据、事件等。</p>
<h4 id="3-empty-方法"><a href="#3-empty-方法" class="headerlink" title="3. empty() 方法"></a>3. empty() 方法</h4><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">empty</span>()</span><br></pre></td></tr></table></figure>

<p>empty() 方法不接收任何参数，用于清空元素及后代元素。</p>
<hr>
<h3 id="5-复制节点"><a href="#5-复制节点" class="headerlink" title="5. 复制节点"></a>5. 复制节点</h3><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">clone([includeEvents])</span><br></pre></td></tr></table></figure>

<p>jQuery 中使用 clone() 方法对匹配元素进行复制，但需要注意的是，新复制出来的节点并不会显示在DOM文档中，仍需要使用插入的方法进行操作。</p>
<p>其中 includeEvents 为可选参数，为布尔类型，默认值为 false，表示是否复制匹配元素的所有事件处理。</p>
<hr>
<h3 id="6-替换节点"><a href="#6-替换节点" class="headerlink" title="6. 替换节点"></a>6. 替换节点</h3><p>两种替换节点的方法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">replaceWith</span>(content)</span><br><span class="line">$(content).<span class="title function_">replaceAll</span>(选择器)</span><br></pre></td></tr></table></figure>

<p>两种方法作用相同，都是用于将所有匹配的元素替换成指定的HTML内容或元素，区别在于语法上的内容和选择器的位置。</p>
<hr>
<h3 id="7-节点属性操作"><a href="#7-节点属性操作" class="headerlink" title="7. 节点属性操作"></a>7. 节点属性操作</h3><h4 id="1-获取与设置元素属性"><a href="#1-获取与设置元素属性" class="headerlink" title="1. 获取与设置元素属性"></a>1. 获取与设置元素属性</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取</span></span><br><span class="line">$(选择器).<span class="title function_">attr</span>(属性)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置单个属性值</span></span><br><span class="line">$(选择器).<span class="title function_">attr</span>(属性,value)</span><br><span class="line"><span class="comment">// 设置多个属性值</span></span><br><span class="line">$(选择器).<span class="title function_">attr</span>(&#123;属性:value ,属性:value……&#125;)</span><br></pre></td></tr></table></figure>



<h4 id="2-删除属性"><a href="#2-删除属性" class="headerlink" title="2.删除属性"></a>2.删除属性</h4><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">removeAttr</span>(属性)</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="jQuery-遍历节点"><a href="#jQuery-遍历节点" class="headerlink" title="jQuery 遍历节点"></a>jQuery 遍历节点</h2><h3 id="1-遍历子元素"><a href="#1-遍历子元素" class="headerlink" title="1. 遍历子元素"></a>1. 遍历子元素</h3><p>使用 children() 方法返回指定元素的所有子元素</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">children</span>([expr])</span><br></pre></td></tr></table></figure>

<p>expr：可选参数，表示传入的jQuery选择器表达式。</p>
<h3 id="2-遍历同辈元素"><a href="#2-遍历同辈元素" class="headerlink" title="2. 遍历同辈元素"></a>2. 遍历同辈元素</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">next</span>([expr])		<span class="comment">// 用于获取紧邻匹配元素的下一个元素</span></span><br><span class="line"><span class="title function_">prev</span>([expr])		<span class="comment">// 用于获取紧邻匹配元素的前一个元素</span></span><br><span class="line"><span class="title function_">siblings</span>([expr])	<span class="comment">// 用于获取匹配元素的前面和后面的所有同辈元素</span></span><br></pre></td></tr></table></figure>

<h3 id="3-遍历前辈元素"><a href="#3-遍历前辈元素" class="headerlink" title="3. 遍历前辈元素"></a>3. 遍历前辈元素</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="title function_">parent</span>([选择器])	<span class="comment">// 获取当前匹配元素集合中的每个匹配元素的父级元素</span></span><br><span class="line"><span class="title function_">parents</span>([选择器])	<span class="comment">// 获取当前匹配元素集合中每个匹配元素的祖先元素</span></span><br></pre></td></tr></table></figure>

<h3 id="4-其他遍历方法"><a href="#4-其他遍历方法" class="headerlink" title="4. 其他遍历方法"></a>4. 其他遍历方法</h3><p>主要介绍each() 方法，其余使用较为简单，可在jQuery官网的API中找到相关的使用说明文档。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">each</span>(<span class="keyword">function</span> (<span class="params">index,element</span>))</span><br></pre></td></tr></table></figure>

<p>index：表示选择器的位置</p>
<p>element：表示当前元素</p>
<p>当 function 函数返回值为 false 时，可以停止循环。</p>
<hr>
<h2 id="jQuery-中的元素内容操作"><a href="#jQuery-中的元素内容操作" class="headerlink" title="jQuery 中的元素内容操作"></a>jQuery 中的元素内容操作</h2><h3 id="HTML-代码和文本内容操作"><a href="#HTML-代码和文本内容操作" class="headerlink" title="HTML 代码和文本内容操作"></a>HTML 代码和文本内容操作</h3><p>jQuery 提供 html() 与 text() 方法，用于获取或设置元素内容</p>
<h4 id="1-html-方法"><a href="#1-html-方法" class="headerlink" title="1.html() 方法"></a>1.html() 方法</h4><p>html() 用于读取或设置某个元素的内容，语法如下</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">html</span>([content])</span><br></pre></td></tr></table></figure>

<p>content：可选参数，当传入该参数时，表示设置指定元素的新内容为传入内容（可以包含HTML标签），而未传入参数时，则返回指定元素的当前内容。</p>
<h4 id="2-text-方法"><a href="#2-text-方法" class="headerlink" title="2. text() 方法"></a>2. text() 方法</h4><p>text() 方法用于获取或者设置匹配元素的文本内容</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">text</span>([content])</span><br></pre></td></tr></table></figure>

<p>text() 方法和html() 方法用法类似，二者的区别如下：</p>
<ul>
<li>无参数：text() 与 html() 方法在无参数时，text() 方法获取到的是所有匹配元素及其后代元素的文本内容，而html() 方法获取到的是第一个匹配元素的HTML内容或文本内容</li>
<li>有参数：text() 方法在接受参数后，会以文本形式设置所有匹配元素的内容，而html() 方法会设置所有匹配的HTML内容或文本内容</li>
</ul>
<h3 id="2-属性值操作"><a href="#2-属性值操作" class="headerlink" title="2. 属性值操作"></a>2. 属性值操作</h3><p>jQuery提供了获取元素的value属性值的 val () 方法。语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">val</span>([value])</span><br></pre></td></tr></table></figure>

<p>value：可选参数。当传入该参数时，表示设置指定元素的value属性为传入内容；未传入数时，则返回指定元素的value属性。</p>
<p>通常结合表单标签使用，如文本框、下拉框、单选框等</p>
<hr>
<h2 id="jQuery-中的元素样式操作"><a href="#jQuery-中的元素样式操作" class="headerlink" title="jQuery 中的元素样式操作"></a>jQuery 中的元素样式操作</h2><p>在jQuery中，元素样式操作主要包括设置样式值、获取样式值、追加样式、移除样式、切换样式和样式判断</p>
<h3 id="1-设置、获取样式值"><a href="#1-设置、获取样式值" class="headerlink" title="1. 设置、获取样式值"></a>1. 设置、获取样式值</h3><p>在jQuery中，使用 css() 方法设置或获取样式值</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 设置单个css操作</span></span><br><span class="line">$(选择器).<span class="title function_">css</span>(name,value)		</span><br><span class="line"><span class="comment">// 设置多个css操作</span></span><br><span class="line">$(选择器).<span class="title function_">css</span>(&#123;<span class="attr">name</span>:value ,<span class="attr">name</span>:value ……&#125;)</span><br></pre></td></tr></table></figure>

<p>value：可选参数，表示设置的属性值。如果该方法没有传入 value 值，则表示获取该元素的 css 属性值。</p>
<p>使用css() 方法的缺点就是，如果一次需要设置多个样式值，css() 方法写起来较为烦琐。这时候则需要 class 类样式来进行设置。</p>
<hr>
<h2 id="追加、移除样式"><a href="#追加、移除样式" class="headerlink" title="追加、移除样式"></a>追加、移除样式</h2><p>在 jQuery 中，对元素 class 类样式的操作有追加样式和移除样式。语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">addClass</span>(classname);								  <span class="comment">// 设置单个 class 类样式</span></span><br><span class="line">$(选择器).<span class="title function_">addClass</span>(classname1 classname2 classname3 ……);		<span class="comment">// 设置多个 class 类样式</span></span><br><span class="line"></span><br><span class="line">$(选择器).<span class="title function_">removeClass</span>(classname);							  <span class="comment">// 移除单个 class 样式</span></span><br><span class="line">$(选择器).<span class="title function_">removeClass</span>(classname1 classname2 classname3 ……);	<span class="comment">// 移除多个 class 样式</span></span><br></pre></td></tr></table></figure>

<p>addClass() 方法为追加样式，removeClass() 为移除样式，其中参数 classname 为 class 类样式名称。设置多个class类样式之间使用空格分隔。</p>
<h3 id="样式的切换与判断"><a href="#样式的切换与判断" class="headerlink" title="样式的切换与判断"></a>样式的切换与判断</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(选择器).<span class="title function_">toggleClass</span>(classname);		<span class="comment">// 切换 class 类样式</span></span><br><span class="line">$(选择器).<span class="title function_">hasClass</span>(classname);			<span class="comment">// 判断 class 类样式是否存在</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="jQuery中的CSS-DOM操作"><a href="#jQuery中的CSS-DOM操作" class="headerlink" title="jQuery中的CSS-DOM操作"></a>jQuery中的CSS-DOM操作</h2><p>CSS-DOM操作即读取元素和设置元素 style 的各种属性，操作方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody><tr>
<td>css (name[,value])</td>
<td>设置或获取指定元素的样式值</td>
<td>$(“div”).css(“color”,”red”);</td>
</tr>
<tr>
<td>height([value])</td>
<td>设置或获取指定元素的高度</td>
<td>$(“div”).height(200);</td>
</tr>
<tr>
<td>width([value])</td>
<td>设置或获取指定元素的宽度</td>
<td>$(“div”).width(300);</td>
</tr>
<tr>
<td>offset([value])</td>
<td>设置或获取指定元素的相对于文档的偏移</td>
<td>$(“div”).offset();</td>
</tr>
<tr>
<td>position()</td>
<td>获取第一个匹配元素相对于父元素的位置</td>
<td>$(“div”).position()；</td>
</tr>
<tr>
<td>scrollLeft([position])</td>
<td>设置或获取指定元素相对于滚动条左侧的偏移</td>
<td>$(“div”).scrollLeft(40);</td>
</tr>
<tr>
<td>scrollTop([position])</td>
<td>设置或获取指定元素相对于滚动条顶部的偏移</td>
<td>$(“div”).scrollTop(50);</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title>jQuery 事件</title>
    <url>/2022/07/06/JavaScript/jQuery%20%E4%BA%8B%E4%BB%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="jQuery-事件"><a href="#jQuery-事件" class="headerlink" title="jQuery 事件"></a>jQuery 事件</h2><h3 id="1-事件组成"><a href="#1-事件组成" class="headerlink" title="1. 事件组成"></a>1. 事件组成</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#btn&quot;</span>).<span class="title function_">click</span>( <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;不要点我！！&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>通过这段代码可以得知，一个事件由以下三个部分组成：</p>
<ul>
<li>第一部分<code>$(&quot;#btn&quot;)</code>，表示事件主体</li>
<li>第二部分<code>click</code>，表示事件的类型（如click为鼠标单击事件）</li>
<li>第三部分<code>function() &#123;&#125;</code>，表示事件处理函数</li>
</ul>
<hr>
<h3 id="2-基础事件"><a href="#2-基础事件" class="headerlink" title="2. 基础事件"></a>2. 基础事件</h3><h4 id="鼠标事件"><a href="#鼠标事件" class="headerlink" title="鼠标事件"></a>鼠标事件</h4><p>鼠标事件是指用户在移动鼠标指针或单击鼠标任意鼠标键是触发的事件。常用方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>执行时机</th>
</tr>
</thead>
<tbody><tr>
<td>click ([function])</td>
<td>将事件处理函数附加到 click 事件</td>
<td>鼠标单击时</td>
</tr>
<tr>
<td>mouseover([function])</td>
<td>将事件处理函数附加到mouseover 事件</td>
<td>鼠标指针移入时</td>
</tr>
<tr>
<td>mouserout([function])</td>
<td>将事件处理函数附加到mouserout事件</td>
<td>鼠标移出时</td>
</tr>
<tr>
<td>mouseenter([function])</td>
<td>将事件处理函数附加到mouseover 事件</td>
<td>鼠标进入时</td>
</tr>
<tr>
<td>mouserleave([function])</td>
<td>将事件处理函数附加到mouseover 事件</td>
<td>鼠标离开时</td>
</tr>
</tbody></table>
<p>mouseover() 和 mouserout() 方法的用法相同，都是在鼠标指针移至页面元素时触发，二者的区别如下：</p>
<ul>
<li>mouseover()：鼠标指针移动到选取的元素及其子元素上时触发</li>
<li>mouserout() ：鼠标指针移动到选取的元素上时触发</li>
</ul>
<p>mouseenter() 和 mouserleave() 方法的用法相同，都是鼠标指针离开页面元素时触发，二者的区别如下：</p>
<ul>
<li>mouseenter()：鼠标指针离开任意一个子元素及选取的元素时触发</li>
<li>mouserleave()：鼠标指针离开选取的元素时触发</li>
</ul>
<hr>
<h3 id="3-键盘事件"><a href="#3-键盘事件" class="headerlink" title="3. 键盘事件"></a>3. 键盘事件</h3><p>键盘事件是指用户键盘按键或者释放键盘按键时所触发的事件。jQuert 提供的常用键盘事件包括 keydown、keyup和keypress。常用方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>执行时机</th>
</tr>
</thead>
<tbody><tr>
<td>keydown ([function])</td>
<td>将事件处理函数附加到 keydown 事件</td>
<td>按下键盘按键时</td>
</tr>
<tr>
<td>keyup ([function])</td>
<td>将事件处理函数附加到 keyup 事件</td>
<td>释放键盘按键时</td>
</tr>
<tr>
<td>keypress ([function])</td>
<td>将事件处理函数附加到 keypress 事件</td>
<td>产生可打印的字符时</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// css 样式</span></span><br><span class="line">&lt;input id=<span class="string">&quot;message&quot;</span> type=<span class="string">&quot;text&quot;</span> value=<span class="string">&quot;&quot;</span>&gt;</span><br><span class="line"><span class="comment">// 下段代码在&lt;script&gt;标签中</span></span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;#message&quot;</span>).<span class="title function_">keydown</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;键盘被按下--keydown&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">&quot;#message&quot;</span>).<span class="title function_">keyup</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;键盘被释放--keydown&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">    $(<span class="string">&quot;#message&quot;</span>).<span class="title function_">keypress</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;产生可打印的字符--keydown&quot;</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><img src="https://a.ideaopen.cn/Mercury/mcGq8f5V.png" alt="img"></p>
<hr>
<h3 id="4-浏览器事件"><a href="#4-浏览器事件" class="headerlink" title="4. 浏览器事件"></a>4. 浏览器事件</h3><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>执行时机</th>
</tr>
</thead>
<tbody><tr>
<td>resize ([function])</td>
<td>将事件处理函数附加到 resize 事件</td>
<td>浏览器窗口尺寸发生改变时</td>
</tr>
<tr>
<td>scroll ([function])</td>
<td>将事件处理函数附加到 scroll 事件</td>
<td>滚动条或可滚动的元素滚动时</td>
</tr>
</tbody></table>
<p>演示：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">&lt;div style=<span class="string">&quot;height: 2000px;&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	$(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		$(<span class="variable language_">window</span>).<span class="title function_">resize</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			$(<span class="string">&quot;body&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		$(<span class="variable language_">window</span>).<span class="property">scroll</span> (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">			$(<span class="string">&quot;body&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;background&quot;</span>,<span class="string">&quot;pink&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">		&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">	&#125;)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>resize效果 浏览器窗口尺寸发生改变时</p>
<p><img src="https://a.ideaopen.cn/Mercury/dQRECizj.png" alt="img"></p>
<p>scroll效果 滚动条或可滚动的元素滚动时</p>
<p><img src="https://a.ideaopen.cn/Mercury/ZDPbrx5T.png" alt="img"></p>
<hr>
<h3 id="5-表单事件"><a href="#5-表单事件" class="headerlink" title="5. 表单事件"></a>5. 表单事件</h3><p>表单在网页中主要负责数据收集，如登入 、注册、问卷调查和论坛发帖等页面，都离不开表单。常用的表单事件方法如下</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>执行时机</th>
</tr>
</thead>
<tbody><tr>
<td>focus ([function])</td>
<td>将事件处理函数附加到 focus 事件</td>
<td>元素获得焦点时</td>
</tr>
<tr>
<td>blur ([fuction])</td>
<td>将事件处理函数附加到 blur 事件</td>
<td>元素失去焦点时</td>
</tr>
<tr>
<td>change ([function])</td>
<td>将事件处理函数附加到 focus 事件</td>
<td>元素的值发生改变时</td>
</tr>
<tr>
<td>submit ([function])</td>
<td>将事件处理函数附加到 focus 事件</td>
<td>submit 事件只适用于<from>元素，当提交表单时触发</td>
</tr>
</tbody></table>
<h3 id="6-绑定事件与移除事件"><a href="#6-绑定事件与移除事件" class="headerlink" title="6. 绑定事件与移除事件"></a>6. 绑定事件与移除事件</h3><p>在实际开发中，有时需要为一个元素添加多个事件处理程序。例如鼠标指针移入时改变元素样式，移出时改变元素样式。</p>
<p>使用 jQuery 提供的 on() 方法可以指定元素添加一个或多个事件处理程序。</p>
<h4 id="绑定事件"><a href="#绑定事件" class="headerlink" title="绑定事件"></a>绑定事件</h4><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">on</span>(event [,childSelector] [,data] ,<span class="keyword">function</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>enent：必需参数，表示事件类型。如 click、mouserover、mouseout等。若一次绑定多个事件，且执行相同事件处理程序，event 应采用空格进行分隔。</li>
<li>childSelector：可选参数，用于过滤触发事件所选元素的后代元素。</li>
<li>data：可选参数，作为 event.data 属性值传递给事件对象</li>
<li>function：必需函数，用于绑定触发事件后执行的函数</li>
</ul>
<h4 id="移除事件"><a href="#移除事件" class="headerlink" title="移除事件"></a>移除事件</h4><p>使用 off() 方法，从指定元素上移除一个或多个事件处理程序，语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">off</span>(event [,childSelector] ,<span class="keyword">function</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>enent：必需参数，表示事件类型。如 click、mouserover、mouseout等。如果一次移除多个事件，event 应采用空格进行分隔。</li>
<li>childSelector：可选参数，用于过滤触发事件所选元素的后代元素。</li>
<li>function：必需函数，用于绑定触发事件后执行的函数</li>
</ul>
<hr>
<h3 id="7-复合事件"><a href="#7-复合事件" class="headerlink" title="7. 复合事件"></a>7. 复合事件</h3><p>复合事件是指<strong>一组事件的组合</strong>。实际操作中，鼠标指针移入和移出事件通常会搭配使用。如二级菜单，移入时显示隐藏的二级菜单，移出时恢复原样。</p>
<p>jQuer 提供了两个复合事件方法 —— hover() 和 toggle() 方法，其中 toggle() 在jQuery 1.8版本中已经被弃用，本节围绕hover() 方法进行介绍。hover() 相当于mouseenter和mouseleave的结合。</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">hover</span>(enterFunction ,leaveFunction)</span><br></pre></td></tr></table></figure>

<p>当鼠标指针移至元素上时，触发第一个函数 enterFunction，移出时触发第二个 leaveFunction函数。</p>
<hr>
<h2 id="jQuery-动画"><a href="#jQuery-动画" class="headerlink" title="jQuery 动画"></a>jQuery 动画</h2><h3 id="控制元素显示与隐藏"><a href="#控制元素显示与隐藏" class="headerlink" title="控制元素显示与隐藏"></a>控制元素显示与隐藏</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 显示元素</span></span><br><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">show</span>([speed] [,easing] [,fn]);</span><br><span class="line"><span class="comment">// 隐藏元素</span></span><br><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">hide</span>([speed] [,easing] [,fn]);</span><br></pre></td></tr></table></figure>

<ul>
<li>speed：可选元素，规定显示效果的速度。值可选：毫秒，“slow(较慢的)”，”normal(匀速)”、”fast(较快的)”</li>
<li>easing：可选参数，规定在动画的不同点上元素的速度，默认值为 “swing” —— 在开头/结尾移动慢，在中间移动快，可能的值有：”linear” —— 匀速运动。</li>
<li>fn：可选参数，指定在动画完成后要执行的方法，每个匹配元素调用一次</li>
</ul>
<hr>
<h3 id="改变元素透明度"><a href="#改变元素透明度" class="headerlink" title="改变元素透明度"></a>改变元素透明度</h3><p>jQuery 中使用 fadeIn() 和 fadeOut() 能够改变元素透明，语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">fadeIn</span>([speed] [,easing] [,fn]);</span><br><span class="line">$(被匹配元素的选择器表达式).<span class="title function_">fadeOut</span>([speed] [,easing] [,fn]);</span><br></pre></td></tr></table></figure>

<ul>
<li>fadeIn() 方法控制元素淡入，在指定的一段时间内增加元素的不透明度(opactity 属性)，直至元素完全显示 (display属性为block)</li>
<li>fadeOut() 方法控制元素淡出，直至元素完全消失 (display属性为none)</li>
<li>参数同show()、hide()方法的参数相同</li>
</ul>
<hr>
<h3 id="改变元素高度"><a href="#改变元素高度" class="headerlink" title="改变元素高度"></a>改变元素高度</h3><p>jQuery 中使用slideUp() 与 slideDown() 方法改变元素高度。</p>
<p>当一个元素的 display 属性为 none，调用slideDown() 方法时，该元素将由上至下延伸显示。</p>
<p>而slideUp() 方法正好相反，该元素将由上至下缩短隐藏</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式).slideUp([speed] [,easing] [,fn]);</span><br><span class="line">$(被匹配元素的选择器表达式).slideDown([speed] [,easing] [,fn]);</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="自定义动画方法"><a href="#自定义动画方法" class="headerlink" title="自定义动画方法"></a>自定义动画方法</h3><p>在jQuery中，除以上所学习的常用动画方法外，还可以使用jQuery提供的 animate() 方法创新自定义动画</p>
<p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line">$(被匹配元素的选择器表达式)。<span class="title function_">animate</span>((params),speed,fn);</span><br></pre></td></tr></table></figure>

<ul>
<li>params：必选参数，定义形成动画的CSS属性，如 <code>&#123;left:&#39;100px&#39;,top:&#39;200px&#39;&#125;</code></li>
<li>speed：可选参数，规定效果的时长，取值：”slow”、”fast” 或毫秒</li>
<li>fn：可选参数，动画完成后执行的函数</li>
</ul>
]]></content>
      <categories>
        <category>jQuery</category>
      </categories>
      <tags>
        <tag>jQuery</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript闭包从概念、原理到应用</title>
    <url>/2022/06/20/JavaScript/JavaScript%E9%97%AD%E5%8C%85%E4%BB%8E%E6%A6%82%E5%BF%B5%E3%80%81%E5%8E%9F%E7%90%86%E5%88%B0%E5%BA%94%E7%94%A8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="JavaScript闭包从概念、原理到应用"><a href="#JavaScript闭包从概念、原理到应用" class="headerlink" title="JavaScript闭包从概念、原理到应用"></a>JavaScript闭包从概念、原理到应用</h2><h3 id="何为闭包？"><a href="#何为闭包？" class="headerlink" title="何为闭包？"></a>何为闭包？</h3><p>闭包的概念：有权访问另一个函数作用域中的变量的函数；一般情况就是在一个函数中包含另一个函数。</p>
<p>从官方定义我们知道闭包是一个函数，只不过这个函数有[特殊权限]，可以访问到另一个函数的作用域。</p>
<h3 id="特殊权限？"><a href="#特殊权限？" class="headerlink" title="特殊权限？"></a>特殊权限？</h3><p>因为我们知道函数作用域是独立的、封闭的，外部的执行环境是访问不了的，但是闭包具有这个能力和权限。</p>
<p>我们先来看一段普普通通的函数。</p>
<p><img src="https://a.ideaopen.cn/JanYork/RerpEQu9.png"></p>
<p>控制台输出结果：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<p>再来看一段局部变量的代码：</p>
<p><img src="https://a.ideaopen.cn/JanYork/HLTxNekt.png"></p>
<p>控制台输出结果：</p>
<p>红色框是当前的这段局部变量代码。看得出，他并没有累加。</p>
<p><img src="https://a.ideaopen.cn/JanYork/NCAr8ByQ.png"></p>
<p><strong>当我们调用时，局部变量b为0，然后<code>b+=1</code>后返回一个值，然后，此时，因为全局变量不会消失，而局部变量在运行完后，他是会被JavaScript的运行机制处理掉的。</strong></p>
<p>所以，当你调用第二次，他<strong>重新创建</strong>了变量b，然后，结果可想而知。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//闭包函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add3</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> b += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后，就看看我们的特殊权限。</p>
<p>我们将运算过程使用匿名函数包裹，此时，这个匿名函数在我们的主函数内，就相当于时主函数的儿子，既然是父子关系，自然你父亲对待你和对待其他孩子不一样。这就是里面的这个函数的特殊权限。</p>
<p>所以，他是有权限去访问到内部的b的，当我们调用这个函数，因为有<strong>子函数</strong>的存在，所以b这个对象不会消失。相当于<strong>后继有人</strong>，b就不会被机制回收。</p>
<p>所以，此时运行结果，也是<code>1、2、3</code>。</p>
<p>随后，贴上三段代码，自行琢磨：</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//普通函数(全局变量)</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> a += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通函数(局部变量)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> b += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//调用3次函数</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt;<span class="number">3</span>; i++)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add2</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//闭包函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add3</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> b= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> b += <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="最终原理"><a href="#最终原理" class="headerlink" title="最终原理"></a>最终原理</h3><p>闭包的实现原理，其实是利用了作用域链的特性，我们都知道作用域链就是在当前执行环境下访问某个变量时，如果不存在就一直向外层寻找，最终寻找到最外层也就是全局作用域，这样就形成了一个链条。</p>
<p>至于什么是作用域链，你可以将其看成函数嵌套。</p>
<blockquote>
<p><strong>访问某个变量时，如果不存在就一直向外层寻找。</strong></p>
</blockquote>
<h3 id="闭包优势"><a href="#闭包优势" class="headerlink" title="闭包优势"></a>闭包优势</h3><blockquote>
<p><strong>作用1：</strong>隐藏变量，避免全局污染</p>
<p><strong>作用2：</strong>可以读取函数内部的变量</p>
</blockquote>
<p>同时闭包使用不当，优点就变成了缺点：</p>
<blockquote>
<p><strong>缺点1：</strong>导致变量不会被垃圾回收机制回收，造成内存消耗</p>
<p><strong>缺点2：</strong>不恰当的使用闭包可能会造成内存泄漏的问题</p>
</blockquote>
<p>为什么使用闭包时变量不会被垃圾回收机制收销毁呢？</p>
<p>这里需要了解一下<code>JS</code>垃圾回收机制：</p>
<blockquote>
<p><code>JS</code>规定在一个函数作用域内，<strong>程序执行完以后变量就会被销毁</strong>，这样可<strong>节省内存</strong>。</p>
<p>使用闭包时，按照作用域链的特点，<strong>闭包（函数）外面的变量不会被销毁</strong>，<strong>因为函数会一直被调用</strong>，所以一直存在，如果闭包使用过多会造成<strong>内存销毁</strong>。</p>
</blockquote>
<h3 id="附言"><a href="#附言" class="headerlink" title="附言"></a>附言</h3><p><strong>所以说，我们要通晓一个事物的原理，并且最优化的使用它。知己知彼，方可百战百胜。</strong></p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript 闭包</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript 内置对象的扩展</title>
    <url>/2022/06/27/JavaScript/%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E6%89%A9%E5%B1%95/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="内置对象的扩展"><a href="#内置对象的扩展" class="headerlink" title="内置对象的扩展"></a>内置对象的扩展</h1><h2 id="模板字符串"><a href="#模板字符串" class="headerlink" title="模板字符串"></a>模板字符串</h2><p><code>模板字符串</code>（template string）是增强版的字符串，用反引号 `` 标识。它可以：</p>
<ul>
<li>当作普通字符串使用</li>
<li>可以用来定义多行字符串</li>
<li>模板字符串中可以换行，而传统的字符串拼接不能换行。</li>
<li>在字符串中嵌入变量。</li>
<li>在模板字符串中可以调用函数 </li>
</ul>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 普通字符串</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">`JavaScript &lt;br&gt; so good`</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 多行字符串</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">write</span>(<span class="string">`</span></span><br><span class="line"><span class="string">        只剩下钢琴陪我弹了一天&lt;br/&gt;</span></span><br><span class="line"><span class="string">        睡着的大提琴&lt;br/&gt;</span></span><br><span class="line"><span class="string">        安静的旧旧的 `</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 模板字符串中可以换行</span></span><br><span class="line"><span class="keyword">let</span> info = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is <span class="subst">$&#123;info.name&#125;</span>, Age is <span class="subst">$&#123;info.age&#125;</span>, Sex is <span class="subst">$&#123;info.sex&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串中嵌入变量</span></span><br><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Bob&quot;</span>, time = <span class="string">&quot;today&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>, how are you <span class="subst">$&#123;time&#125;</span>?`</span>) <span class="comment">// Hello Bob, how are you today?</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在模板字符串中调用函数</span></span><br><span class="line"><span class="keyword">const</span> fruit = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="string">&#x27;apple&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> fruits = <span class="string">`<span class="subst">$&#123;fruit()&#125;</span>, banana`</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fruits) <span class="comment">//apple, banana</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="ES6-中新增的常用字符串"><a href="#ES6-中新增的常用字符串" class="headerlink" title="ES6 中新增的常用字符串"></a>ES6 中新增的常用字符串</h2><h4 id="实例方法：-startsWith-和-endsWith"><a href="#实例方法：-startsWith-和-endsWith" class="headerlink" title="实例方法： startsWith() 和 endsWith()"></a>实例方法： startsWith() 和 endsWith()</h4><p>startsWith(): 表示参数字符串是否在原字符串的头部，返回布尔值<br>endsWith():  表示参数字符串是否在原字符串的尾部，返回布尔值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;hello world !&#x27;</span></span><br><span class="line">str.<span class="title function_">startsWith</span>(<span class="string">&#x27;hello&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">str.<span class="title function_">endsWith</span>(<span class="string">&#x27;!&#x27;</span>) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="实例方法：-includes"><a href="#实例方法：-includes" class="headerlink" title="实例方法： includes()"></a>实例方法： includes()</h4><p>表示某个数组是否包含给定的值， 返回布尔值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">2</span>) <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">includes</span>(<span class="number">4</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="实例方法：repeat"><a href="#实例方法：repeat" class="headerlink" title="实例方法：repeat()"></a>实例方法：repeat()</h4><p><code>repeat</code>方法表示将原字符串重复n次，返回一个新字符串</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> str1 = <span class="string">&#x27;x&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1) <span class="comment">// xxx</span></span><br><span class="line"><span class="keyword">const</span> str2 = <span class="string">&#x27;Hello&#x27;</span>.<span class="title function_">repeat</span>(<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2) <span class="comment">// HelloHello</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="数组的扩展"><a href="#数组的扩展" class="headerlink" title="数组的扩展"></a>数组的扩展</h2><h3 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h3><p>扩展运算符使用三个点 (…) 表示，可以将一个数组转换为用逗号分隔的序列。</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">...数组</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(...arr) <span class="comment">// 1 2 3</span></span><br></pre></td></tr></table></figure>

<p>扩展运算符可以应用于合并数组</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 扩展运算符应用于数组合并</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line"><span class="keyword">let</span> arr3 = [...arr1, ...arr2]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3) <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 合并数组的第二种方法</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">arr1.<span class="title function_">push</span>(...arr2)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1) <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>

<p>该运算符主要用于<code>函数调用</code>。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">push</span>(<span class="params">array, ...items</span>) &#123;  </span><br><span class="line">    array.<span class="title function_">push</span>(...items);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;  </span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> numbers = [<span class="number">4</span>, <span class="number">38</span>];</span><br><span class="line"><span class="title function_">add</span>(...numbers) <span class="comment">// 42</span></span><br></pre></td></tr></table></figure>

<p>上面代码中， array.push(…items) 和 add(…numbers) 这两行，都是函数的调用，它们都使用了扩展运算符。该运算符将一个数组，变为参数序列。</p>
<h3 id="Array-from-方法"><a href="#Array-from-方法" class="headerlink" title="Array.from() 方法"></a>Array.from() 方法</h3><p>该方法用于将类数组对象或可遍历对象转换成一个真正的数组。</p>
<p>其中，类数组对象必须有<code>length</code>属性，用于指定数组的长度。没有则转换出来的是空数组。</p>
<p>其中，类数组对象的属性必须为数值型或字符型的数字。</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = &#123;</span><br><span class="line">    <span class="string">&#x27;0&#x27;</span>: <span class="string">&#x27;a&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;1&#x27;</span>: <span class="string">&#x27;b&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;2&#x27;</span>: <span class="string">&#x27;c&#x27;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayNum) <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>



<h3 id="数组遍历方法"><a href="#数组遍历方法" class="headerlink" title="数组遍历方法"></a>数组遍历方法</h3><p>ES6 提供三个新的方法—— <code>entries()</code> ，<code>keys()</code> 和 <code>values()</code>——用于遍历数组。它们都返回一个<code>遍历器对象</code>（详见查看文档《Iterator》一章），可以用 for…of 循环进行遍历，唯一的区别是 keys() 是对键名的遍历、 values() 是对键值的遍历， entries() 是对键值对的遍历。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index <span class="keyword">of</span> [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>].<span class="title function_">keys</span>()) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> elem <span class="keyword">of</span> [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>].<span class="title function_">values</span>()) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &#x27;张三&#x27;</span></span><br><span class="line"><span class="comment">// &#x27;李四&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [index, elem] <span class="keyword">of</span> [<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span>].<span class="title function_">entries</span>()) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(index, elem);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0 &quot;张三&quot;</span></span><br><span class="line"><span class="comment">// 1 &quot;李四&quot;</span></span><br></pre></td></tr></table></figure>

<p>如果不使用 for…of 循环，可以手动调用遍历器对象的 next 方法，进行遍历。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> letter = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">let</span> entries = letter.<span class="title function_">entries</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(entries.<span class="title function_">next</span>().<span class="property">value</span>); <span class="comment">// [0, &#x27;a&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(entries.<span class="title function_">next</span>().<span class="property">value</span>); <span class="comment">// [1, &#x27;b&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(entries.<span class="title function_">next</span>().<span class="property">value</span>); <span class="comment">// [2, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h2><h3 id="属性简洁的表示法"><a href="#属性简洁的表示法" class="headerlink" title="属性简洁的表示法"></a>属性简洁的表示法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 普通写法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Person1</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: name;</span><br><span class="line">    <span class="attr">age</span>: age;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 简洁写法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Person2</span> = &#123;</span><br><span class="line">    name,</span><br><span class="line">    age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="方法简洁的表示法"><a href="#方法简洁的表示法" class="headerlink" title="方法简洁的表示法"></a>方法简洁的表示法</h3><p>除属性拥有简介写法外，对象中的方法可以使用简洁写法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;Joke&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//普通写法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Person1</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: name,</span><br><span class="line">    <span class="attr">getInfo</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is：$(this.name)`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person1</span>.<span class="title function_">getInfo</span>();	<span class="comment">//调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 简洁写法</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Person2</span> = &#123;</span><br><span class="line">    name,</span><br><span class="line">    <span class="title function_">getInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`My name is：$(this.name)`</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person2</span>.<span class="title function_">getInfo</span>();	<span class="comment">//调用</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="对象新增方法"><a href="#对象新增方法" class="headerlink" title="对象新增方法"></a>对象新增方法</h3><blockquote>
<p><a href="https://www.w3cschool.cn/escript6/escript6-1vdc37f2.html">ES6 对象的新增方法_w3cschool</a> </p>
</blockquote>
<h4 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h4><p>ES5 比较两个值是否相等，只有两个运算符：<code>相等运算符</code>（ == ）和<code>严格相等运算符</code>（ === ）。它们都有缺点，前者会自动转换数据类型，后者的 NaN 不等于自身，以及 +0 等于 -0 。JavaScript 缺乏一种运算，在所有环境中，只要两个值是一样的，它们就应该相等。</p>
<p>ES6 提出<code>“Same-value equality”</code>（同值相等）算法，用来解决这个问题。<code>Object.is</code>就是部署这个算法的新方法。它用来比较两个值是否严格相等，与严格比较运算符（===）的行为基本一致。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="string">&#x27;foo&#x27;</span>) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(&#123;&#125;, &#123;&#125;) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<p>不同之处只有两个：一是 +0 不等于 -0 ，二是 NaN 等于自身。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">+<span class="number">0</span> === -<span class="number">0</span> <span class="comment">//true</span></span><br><span class="line"><span class="title class_">NaN</span> === <span class="title class_">NaN</span> <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>, -<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>, <span class="title class_">NaN</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>



<hr>
<h4 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h4><h5 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h5><p><code>Object.assign</code>方法用于对象的合并，将<code>源对象</code>（source）的所有<code>可枚举</code>属性，复制到目标对象（target）。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> source1 = &#123; <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> source2 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source1, source2);target <span class="comment">// &#123;a:1, b:2, c:3&#125;</span></span><br></pre></td></tr></table></figure>

<p>Object.assign 方法的第一个参数是目标对象，后面的参数都是源对象。</p>
<p>注意，如果目标对象与源对象有同名属性，或多个源对象有同名属性，则后面的属性会覆盖前面的属性。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> source1 = &#123; <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> source2 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(target, source1, source2);target <span class="comment">// &#123;a:1, b:2, c:3&#125;</span></span><br></pre></td></tr></table></figure>

<p>如果只有一个参数，<code>Object.assign</code> 会直接返回该参数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj) === obj <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>如果该参数不是对象，则会先转成对象，然后返回。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="number">2</span>) <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>

<p>由于 undefined 和 null 无法转成对象，所以如果它们作为参数，就会报错。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">undefined</span>) <span class="comment">// 报错</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="literal">null</span>) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<p>如果非对象参数出现在源对象的位置（即非首参数），那么处理规则有所不同。首先，这些参数都会转成对象，如果无法转成对象，就会跳过。这意味着，如果 undefined 和 null 不在首参数，就不会报错。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">undefined</span>) === obj <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj, <span class="literal">null</span>) === obj <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>其他类型的值（即数值、字符串和布尔值）不在首参数，也不会报错。但是，除了字符串会以数组形式，拷贝入目标对象，其他值都不会产生效果。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> v1 = <span class="string">&#x27;abc&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> v2 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> v3 = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, v1, v2, v3);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; &quot;0&quot;: &quot;a&quot;, &quot;1&quot;: &quot;b&quot;, &quot;2&quot;: &quot;c&quot; &#125;</span></span><br></pre></td></tr></table></figure>

<p>上面代码中， v1 、 v2 、 v3 分别是字符串、布尔值和数值，结果只有字符串合入目标对象（以字符数组的形式），数值和布尔值都会被忽略。这是因为只有字符串的包装对象，会产生可枚举属性。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>(<span class="literal">true</span>) <span class="comment">// &#123;[[PrimitiveValue]]: true&#125;</span></span><br><span class="line"><span class="title class_">Object</span>(<span class="number">10</span>)  <span class="comment">//  &#123;[[PrimitiveValue]]: 10&#125;</span></span><br><span class="line"><span class="title class_">Object</span>(<span class="string">&#x27;abc&#x27;</span>) <span class="comment">// &#123;0: &quot;a&quot;, 1: &quot;b&quot;, 2: &quot;c&quot;, length: 3, [[PrimitiveValue]]: &quot;abc&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，布尔值、数值、字符串分别转成对应的包装对象，可以看到它们的原始值都在包装对象的<code>内部属性</code> [[PrimitiveValue]] 上面，这个属性是不会被 Object.assign 拷贝的。只有字符串的包装对象，会产生可枚举的实义属性，那些属性则会被拷贝。</p>
<p>Object.assign 拷贝的属性是有限制的，只拷贝源对象的自身属性（不拷贝继承属性），也不拷贝<code>不可枚举</code>的属性（ enumerable: false ）。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">b</span>: <span class="string">&#x27;c&#x27;</span>&#125;,  </span><br><span class="line">	<span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(&#123;&#125;, <span class="string">&#x27;invisible&#x27;</span>, &#123;    		</span><br><span class="line">    	<span class="attr">enumerable</span>: <span class="literal">false</span>,    </span><br><span class="line">         <span class="attr">value</span>: <span class="string">&#x27;hello&#x27;</span>  </span><br><span class="line">     &#125;)</span><br><span class="line">) <span class="comment">// &#123; b: &#x27;c&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

<p>上面代码中， <code>Object.assign</code>要拷贝的对象只有一个<code>不可枚举属性</code> invisible ，这个属性并没有被拷贝进去。</p>
<p>属性名为 Symbol 值的属性，也会被 Object.assign 拷贝。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123; <span class="attr">a</span>: <span class="string">&#x27;b&#x27;</span> &#125;, &#123; [<span class="title class_">Symbol</span>(<span class="string">&#x27;c&#x27;</span>)]: <span class="string">&#x27;d&#x27;</span> &#125;)</span><br><span class="line"><span class="comment">// &#123; a: &#x27;b&#x27;, Symbol(c): &#x27;d&#x27; &#125;</span></span><br></pre></td></tr></table></figure>



<hr>
<h3 id="对象遍历方法"><a href="#对象遍历方法" class="headerlink" title="对象遍历方法"></a>对象遍历方法</h3><h3 id="Object-keys"><a href="#Object-keys" class="headerlink" title="Object.keys()"></a>Object.keys()</h3><p>ES5 引入了 <code>Object.keys</code>方法，返回一个<code>数组</code>，成员是参数对象自身的（不含继承的）所有可遍历（enumerable）属性的键名。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">&#x27;bar&#x27;</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">keys</span>(obj)<span class="comment">// [&quot;foo&quot;, &quot;baz&quot;]</span></span><br></pre></td></tr></table></figure>

<p>ES2017 <a href="https://github.com/tc39/proposal-object-values-entries">引入</a>了跟 <code>Object.keys</code>配套的<code>Object.values</code>和 <code>Object.entries</code> ，作为遍历一个对象的补充手段，供 for…of 循环使用。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> &#123;keys, values, entries&#125; = <span class="title class_">Object</span>;</span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title function_">keys</span>(obj)) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(key); <span class="comment">// &#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> <span class="title function_">values</span>(obj)) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 1, 2, 3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> <span class="title function_">entries</span>(obj)) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>([key, value]); <span class="comment">// [&#x27;a&#x27;, 1], [&#x27;b&#x27;, 2], [&#x27;c&#x27;, 3]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Set-和-Map-对象"><a href="#Set-和-Map-对象" class="headerlink" title="Set 和 Map 对象"></a>Set 和 Map 对象</h2><blockquote>
<p><a href="https://www.w3cschool.cn/escript6/escript6-lx3y37f4.html">ES6 Set 与 Map 数据结构_w3cschool</a> </p>
</blockquote>
<h3 id="Set-对象"><a href="#Set-对象" class="headerlink" title="Set 对象"></a>Set 对象</h3><p>Set 对象的数据结构类似于数组，但成员的值都是唯一的，不允许有重复的值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例1</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>].<span class="title function_">forEach</span>(<span class="function"><span class="params">x</span> =&gt;</span> s.<span class="title function_">add</span>(x));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> s) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125; <span class="comment">// 1 2 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例2</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);	<span class="comment">// 1 2 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例3</span></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> arr3 = <span class="keyword">new</span> <span class="title class_">Set</span>([...arr1, ...arr2]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);	<span class="comment">// 1 2 3 4 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 示例4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...<span class="keyword">new</span> <span class="title class_">Set</span>(<span class="string">&#x27;ababc&#x27;</span>)].<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>));	<span class="comment">// abc</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Set-实例的属性和方法"><a href="#Set-实例的属性和方法" class="headerlink" title="Set 实例的属性和方法"></a>Set 实例的属性和方法</h3><p>Set 结构的实例有以下属性。</p>
<ul>
<li>Set.prototype.constructor ：构造函数，默认就是 Set 函数。</li>
<li>Set.prototype.size ：返回 Set 实例的成员总数。</li>
</ul>
<p>Set 实例的方法分为两大类：<code>操作方法</code>（用于操作数据）和<code>遍历方法</code>（用于遍历成员）。下面先介绍四个操作方法。</p>
<ul>
<li>Set.prototype.add(value) ：添加某个值，返回 Set 结构本身。</li>
<li>Set.prototype.delete(value) ：删除某个值，返回一个布尔值，表示删除是否成功。</li>
<li>Set.prototype.has(value) ：返回一个布尔值，表示该值是否为 Set 的成员。</li>
<li>Set.prototype.clear() ：清除所有成员，没有返回值。</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> set1 = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 添加元素</span></span><br><span class="line">set1.<span class="title function_">add</span>(<span class="number">1</span>).<span class="title function_">add</span>(<span class="number">2</span>).<span class="title function_">add</span>(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 返回Set实例的成员总数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1.<span class="property">size</span>); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 从Set中删除元素</span></span><br><span class="line">set1.<span class="title function_">delete</span>(<span class="number">1</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1);  <span class="comment">// [2,3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断某元素是否存在</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1.<span class="title function_">has</span>(<span class="number">1</span>));   <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1.<span class="title function_">has</span>(<span class="number">2</span>));   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 清除所有元素</span></span><br><span class="line">set1.<span class="title function_">clear</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set1);  <span class="comment">//&#123;&#125;</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Set-遍历操作"><a href="#Set-遍历操作" class="headerlink" title="Set 遍历操作"></a>Set 遍历操作</h3><p>Set 结构的实例有四个遍历方法，可以用于遍历成员。</p>
<ul>
<li>Set.prototype.keys() ：返回键名的遍历器</li>
<li>Set.prototype.values() ：返回键值的遍历器</li>
<li>Set.prototype.entries() ：返回键值对的遍历器</li>
<li>Set.prototype.forEach() ：使用回调函数遍历每个成员</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.<span class="title function_">values</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> set.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(item);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// [&quot;red&quot;, &quot;red&quot;]</span></span><br><span class="line"><span class="comment">// [&quot;green&quot;, &quot;green&quot;]</span></span><br><span class="line"><span class="comment">// [&quot;blue&quot;, &quot;blue&quot;]</span></span><br></pre></td></tr></table></figure>

<p>上面代码中，<code>entries</code>方法返回的遍历器，同时包括<code>键名</code>和<code>键值</code>，所以每次输出一个数组，它的两个成员完全相等。</p>
<p><code>Set</code>结构的实例默认<code>可遍历</code>，它的默认遍历器生成函数就是它的 values 方法。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Set</span>.<span class="property"><span class="keyword">prototype</span></span>[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] === <span class="title class_">Set</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">values</span> <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<p>这意味着，可以省略<code>values</code>方法，直接用 <code>for...of</code> 循环遍历 Set。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> set) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// red</span></span><br><span class="line"><span class="comment">// green</span></span><br><span class="line"><span class="comment">// blue</span></span><br></pre></td></tr></table></figure>

<p><strong>forEach()</strong></p>
<p>Set 结构的实例与数组一样，也拥有 <code>forEach</code> 方法，用于对每个成员执行某种操作，没有返回值。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>]);</span><br><span class="line">set.<span class="title function_">forEach</span>(<span class="function">(<span class="params">value, key</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(key + <span class="string">&#x27; : &#x27;</span> + value))</span><br><span class="line"><span class="comment">// 1 : 1</span></span><br><span class="line"><span class="comment">// 4 : 4</span></span><br><span class="line"><span class="comment">// 9 : 9</span></span><br></pre></td></tr></table></figure>

<p>上面代码说明， forEach 方法的参数就是一个处理函数。该函数的参数与数组的 forEach 一致，依次为键值、键名、集合本身（上例省略了该参数）。这里需要注意，Set 结构的键名就是键值（两者是同一个值），因此第一个参数与第二个参数的值永远都是一样的。</p>
<p>另外，<code>forEach</code> 方法还可以有第二个参数，表示绑定处理函数内部的 this 对象。</p>
<hr>
<h2 id="Map-对象"><a href="#Map-对象" class="headerlink" title="Map 对象"></a>Map 对象</h2><blockquote>
<p>引自 <a href="https://juejin.cn/post/7099051641696944136#heading-7">ES6新增Set、Map两种数据结构的理解</a> </p>
</blockquote>
<p><code>Map</code>类型是键值对的有序列表，而键和值都可以是任意类型</p>
<p><code>Map</code>本身是一个构造函数，用来生成 <code>Map</code> 数据结构</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br></pre></td></tr></table></figure>

<h3 id="增删改查"><a href="#增删改查" class="headerlink" title="增删改查"></a>增删改查</h3><p><code>Map</code> 结构的实例针对增删改查有以下属性和操作方法：</p>
<ul>
<li>size 属性</li>
<li>set()</li>
<li>get()</li>
<li>has()</li>
<li>delete()</li>
<li>clear()</li>
</ul>
<h4 id="size"><a href="#size" class="headerlink" title="size"></a>size</h4><p><code>size</code>属性返回 Map 结构的成员总数。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">map.<span class="property">size</span> <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="set"><a href="#set" class="headerlink" title="set()"></a>set()</h4><p>设置键名<code>key</code>对应的键值为<code>value</code>，然后返回整个 Map 结构</p>
<p>如果<code>key</code>已经有值，则键值会被更新，否则就新生成该键</p>
<p>同时返回的是当前<code>Map</code>对象，可采用链式写法</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line"></span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;edition&#x27;</span>, <span class="number">6</span>)        <span class="comment">// 键是字符串</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="number">262</span>, <span class="string">&#x27;standard&#x27;</span>)     <span class="comment">// 键是数值</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="literal">undefined</span>, <span class="string">&#x27;nah&#x27;</span>)    <span class="comment">// 键是 undefined</span></span><br><span class="line">m.<span class="title function_">set</span>(<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>).<span class="title function_">set</span>(<span class="number">2</span>, <span class="string">&#x27;b&#x27;</span>).<span class="title function_">set</span>(<span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>) <span class="comment">// 链式操作</span></span><br></pre></td></tr></table></figure>

<h4 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h4><p>get<code>方法读取</code>key<code>对应的键值，如果找不到</code>key<code>，返回</code>undefined</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">    </span><br><span class="line"><span class="keyword">const</span> hello = <span class="keyword">function</span>(<span class="params"></span>) &#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello&#x27;</span>);&#125;;</span><br><span class="line">m.<span class="title function_">set</span>(hello, <span class="string">&#x27;Hello ES6!&#x27;</span>) <span class="comment">// 键是函数</span></span><br><span class="line"></span><br><span class="line">m.<span class="title function_">get</span>(hello)  <span class="comment">// Hello ES6!</span></span><br></pre></td></tr></table></figure>

<h4 id="has"><a href="#has" class="headerlink" title="has()"></a>has()</h4><p><code>has</code>方法返回一个布尔值，表示某个键是否在当前 Map 对象之中</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">  </span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&#x27;edition&#x27;</span>, <span class="number">6</span>);</span><br><span class="line">m.<span class="title function_">set</span>(<span class="number">262</span>, <span class="string">&#x27;standard&#x27;</span>);</span><br><span class="line">m.<span class="title function_">set</span>(<span class="literal">undefined</span>, <span class="string">&#x27;nah&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">m.<span class="title function_">has</span>(<span class="string">&#x27;edition&#x27;</span>)     <span class="comment">// true</span></span><br><span class="line">m.<span class="title function_">has</span>(<span class="string">&#x27;years&#x27;</span>)       <span class="comment">// false</span></span><br><span class="line">m.<span class="title function_">has</span>(<span class="number">262</span>)           <span class="comment">// true</span></span><br><span class="line">m.<span class="title function_">has</span>(<span class="literal">undefined</span>)     <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="delete"><a href="#delete" class="headerlink" title="delete()"></a>delete()</h4><p>delete<code>方法删除某个键，返回</code>true<code>。如果删除失败，返回</code>false</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">m.<span class="title function_">set</span>(<span class="literal">undefined</span>, <span class="string">&#x27;nah&#x27;</span>);</span><br><span class="line">m.<span class="title function_">has</span>(<span class="literal">undefined</span>)     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">m.<span class="title function_">delete</span>(<span class="literal">undefined</span>)</span><br><span class="line">m.<span class="title function_">has</span>(<span class="literal">undefined</span>)       <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="clear"><a href="#clear" class="headerlink" title="clear()"></a>clear()</h4><p><code>clear</code>方法清除所有成员，没有返回值</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;foo&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&#x27;bar&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"></span><br><span class="line">map.<span class="property">size</span> <span class="comment">// 2</span></span><br><span class="line">map.<span class="title function_">clear</span>()</span><br><span class="line">map.<span class="property">size</span> <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>

<h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><p><code>Map</code>结构原生提供三个遍历器生成函数和一个遍历方法：</p>
<ul>
<li>keys()：返回键名的遍历器</li>
<li>values()：返回键值的遍历器</li>
<li>entries()：返回所有成员的遍历器</li>
<li>forEach()：遍历 Map 的所有成员</li>
</ul>
<p>遍历顺序就是插入顺序</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">	[<span class="string">&#x27;F&#x27;</span>, <span class="string">&#x27;no&#x27;</span>],</span><br><span class="line">	[<span class="string">&#x27;T&#x27;</span>,  <span class="string">&#x27;yes&#x27;</span>],</span><br><span class="line">]);</span><br><span class="line">   </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">of</span> map.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;F&quot;</span></span><br><span class="line"><span class="comment">// &quot;T&quot;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> value <span class="keyword">of</span> map.<span class="title function_">values</span>()) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;no&quot;</span></span><br><span class="line"><span class="comment">// &quot;yes&quot;</span></span><br><span class="line">      </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> map.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(item[<span class="number">0</span>], item[<span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;F&quot; &quot;no&quot;</span></span><br><span class="line"><span class="comment">// &quot;T&quot; &quot;yes&quot;</span></span><br><span class="line">      </span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map.<span class="title function_">entries</span>()) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;F&quot; &quot;no&quot;</span></span><br><span class="line"><span class="comment">// &quot;T&quot; &quot;yes&quot;</span></span><br><span class="line">      </span><br><span class="line"><span class="comment">// 等同于使用map.entries()</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] <span class="keyword">of</span> map) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(key, value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;F&quot; &quot;no&quot;</span></span><br><span class="line"><span class="comment">// &quot;T&quot; &quot;yes&quot;</span></span><br><span class="line">      </span><br><span class="line">map.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value, key, map</span>) &#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Key: %s, Value: %s&quot;</span>, key, value);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// Key: F, Value: no</span></span><br><span class="line"><span class="comment">// Key: T, Value: yes</span></span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title>如何深度理解JavaScript的回调函数</title>
    <url>/2022/06/20/JavaScript/%E5%A6%82%E4%BD%95%E6%B7%B1%E5%BA%A6%E7%90%86%E8%A7%A3JavaScript%E7%9A%84%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="如何深度理解JavaScript的回调函数"><a href="#如何深度理解JavaScript的回调函数" class="headerlink" title="如何深度理解JavaScript的回调函数"></a>如何深度理解JavaScript的回调函数</h2><p>首先，回调函数这个概念，他是<code>JS</code>中的一个核心。</p>
<p>作为<code>JS</code>的核心，回调函数和异步执行是紧密相关的，也是必须跨过去的一道个门槛。</p>
<p>当然，我们这篇文字只谈回调，不说异步。</p>
<h3 id="对象？"><a href="#对象？" class="headerlink" title="对象？"></a>对象？</h3><p>JavaScript有对象嘛？</p>
<p>我们知道，JavaScript他不是一个面向对象语言，但是，我们的JavaScript是一个基于对象的脚本语言。</p>
<p>啥意思，也就是基本上，JavaScript里面的函数啊，变量啊，这些都是一个对象，当然这个概念不是像面向对象语言那样。</p>
<h3 id="回调？"><a href="#回调？" class="headerlink" title="回调？"></a>回调？</h3><p><img src="https://a.ideaopen.cn/JanYork/rVze09aQ.png"></p>
<p>看这张图，是一个简单的回调函数，怎么回调了呢？</p>
<p>在一个函数里面，我们将另一个函数作为参数，并在<strong>函数体内部调用</strong>它。在 JavaScript 里，我们叫它<strong>“回调”</strong>。所以，被传递给另一个函数作为参数的函数叫作回调函数。</p>
<h3 id="为什么需要回调函数？"><a href="#为什么需要回调函数？" class="headerlink" title="为什么需要回调函数？"></a>为什么需要回调函数？</h3><p>我们知道，JavaScript是一个典型的解释型的脚本语言，他在运行时，是一行一行执行的。</p>
<p>但是，我们有时候，必须在某些情况发生之后，代码才能运行（或者说必须运行），这就不是按顺序运行了。</p>
<p>但是我们上面说了，JavaScript他是一个逐行执行的语言，那咋还能不按顺序来呢？</p>
<p>这是是我们所说的<strong>异步编程</strong>，即没有按照原本顺序来逐行执行。</p>
<blockquote>
<p>回调函数确保：函数在某个任务完成之前不运行，在任务完成之后立即运行。它帮助我们编写异步 JavaScript 代码，避免问题和错误。</p>
</blockquote>
<p>说白了就是，将函数当作对象传入另一个函数里面运行，而且可以多层嵌套。</p>
<p>到了接触<code>Node.js</code>或者<code>ajax</code>异步时，自然就明白其概念了。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript 回调函数</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaScript函数篇之ES6箭头函数与匿名函数</title>
    <url>/2022/06/20/JavaScript/JavaScript%E5%87%BD%E6%95%B0%E7%AF%87%E4%B9%8BES6%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E4%B8%8E%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="JavaScript函数篇之ES6箭头函数与匿名函数"><a href="#JavaScript函数篇之ES6箭头函数与匿名函数" class="headerlink" title="JavaScript函数篇之ES6箭头函数与匿名函数"></a>JavaScript函数篇之ES6箭头函数与匿名函数</h2><h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;  </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;This message is shown after 3 seconds&quot;</span>);</span><br><span class="line">&#125;, <span class="number">3000</span>);</span><br></pre></td></tr></table></figure>

<p>看这样一段代码，我们平常定义一个函数，至少会给他一个函数名。但是，我们这里的<code>function()</code>没有名字。</p>
<p>这也行？？？</p>
<p>当然可以，我们称这种函数为匿名函数，顾名思义，没有名字。</p>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>在<code>ES6</code>版本中，JavaScript加入了一个新的函数，箭头函数。</p>
<p>箭头函数是 JavaScript 里的一种新的函数形式。</p>
<p>数如其名哈！真就有一个箭头。</p>
<p><img src="https://a.ideaopen.cn/JanYork/633bcVxr.png"></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//普通函数</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//箭头函数</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params">x, y</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> x + y;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//箭头函数简写</span></span><br><span class="line"><span class="keyword">var</span> <span class="title function_">add</span> = (<span class="params">x, y</span>) =&gt; x + y;</span><br></pre></td></tr></table></figure>

<p>其实，他出现的目的是为了简化我们的代码。</p>
<p>如果函数只有一个语句，并且该语句返回一个值，则可以去掉括号和 <code>return</code> 关键字（即第三局句代码）。</p>
<p>事实上，如果只有一个参数，您也可以略过括号（有兴趣自行尝试）。</p>
<h4 id="箭头函数的this"><a href="#箭头函数的this" class="headerlink" title="箭头函数的this"></a>箭头函数的<code>this</code></h4><p>与常规函数相比，箭头函数对 <code>this</code> 的处理也有所不同。</p>
<p>简而言之，使用箭头函数没有对 <code>this</code> 的绑定。</p>
<p>在常规函数中，关键字 <code>this</code> 表示调用该函数的对象，可以是窗口、文档、按钮或其他任何东西。</p>
<p>对于箭头函数，<code>this</code> 关键字始终表示定义箭头函数的对象。</p>
]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript箭头函数</tag>
      </tags>
  </entry>
  <entry>
    <title>JDBC</title>
    <url>/2022/05/25/MySQL/JDBC/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><h3 id="一、简介"><a href="#一、简介" class="headerlink" title="一、简介"></a>一、简介</h3><h3 id="1-什么是JDBC"><a href="#1-什么是JDBC" class="headerlink" title="1. 什么是JDBC"></a>1. 什么是JDBC</h3><p>JDBC (<strong>Ĵ</strong>ava <strong>D</strong>ate <strong>B</strong>ase  <strong>Ç</strong>onnectivity)，指 Java 数据库连接，是一种标准Java应用编程接口 (Java API)，用来连接Java编程语言和广泛的数据库。</p>
<p>JDBC API 库包含下面提高的每个任务，都是与数据库相关的常用用法。</p>
<ul>
<li>制作到数据库的连接</li>
<li>创建 SQL 或 MySQL 语句</li>
<li>创建 SQL 或 MySQL 查询数据库</li>
<li>查看和修改所产生的记录</li>
</ul>
<p>从根本上来说，JDBC 是一种规范，它提供了一套完整的接口，允许便携式访问到底层数据库，因此可以用 Java 编写不同类型的可执行文件，例如：</p>
<ul>
<li>Java 应用程序</li>
<li>Java Applets</li>
<li>Java Servlets</li>
<li>Java ServerPages (JSPs)</li>
<li>Enterprise JavaBeans (EJBs)</li>
</ul>
<p>所有这些不同的可执行文件就可以使用JDBC驱动程序来访问数据库，这样可以方便的访问数据。</p>
<p>JDBC 具有 ODBC 一样的性能，允许 Java 程序包含与数据库无关的代码。</p>
<h3 id="2-先决条件"><a href="#2-先决条件" class="headerlink" title="2. 先决条件"></a>2. 先决条件</h3><p>为了更好的理解本教程，需要对以下两个主题内容很好的理解：</p>
<ul>
<li>核心 Java 编程</li>
<li>SQL 或 MySQL 数据库</li>
</ul>
<h3 id="3-JDBC-架构"><a href="#3-JDBC-架构" class="headerlink" title="3. JDBC 架构"></a>3. JDBC 架构</h3><p>JDBC 的 API 支持两层和三层处理模式进行数据库访问，但一般的 JDBC 架构由两层处理模式组成：</p>
<ul>
<li>JDBC API：提供了应用程序对  JDBC 管理器的连接</li>
<li>JDBC DRIVER API：提供了 JDBC 管理器对驱动程序连接</li>
</ul>
<p>JDBC API 使用驱动程序管理器和数据库特定的驱动程序来提供异构 (heterogeneous) 数据库的透明连接。</p>
<p>JDBC 驱动程序管理器可确保正确的驱动程序来访问每个数据源。该驱动程序管理器能够支持连接到多个异构数据库的多个并发的驱动 程序。</p>
<p>以下是结构图，其中显示了驱动程序管理器相对于在 JDBC 驱动程序和 Java 应用程序所处的位置。</p>
<p><img src="https://a.ideaopen.cn/Mercury/zqw723ie.png" alt="img"></p>
<blockquote>
<p>以上引自 <a href="https://www.w3cschool.cn/jdbc/84pl1my8.html">JDBC 简介_w3cschool</a> </p>
</blockquote>
<h3 id="二、常用接口"><a href="#二、常用接口" class="headerlink" title="二、常用接口"></a>二、常用接口</h3><p>在开发 JDBC 程序前，首先了解一下 JDBC 常用的 API。JDBC API主要位于 java.sql 包中，该包定义了一系列访问数据库的接口和类，具体如下：</p>
<ol>
<li><strong>Driver 接口</strong></li>
</ol>
<p>Driver 接口由数据库厂家提供，作为 Java 开发人员，只需要使用 Driver 接口就可以了。在编程中要连接的数据库，必须先装载特定厂商的数据库驱动程序，不同的数据库有不同的装载方法。如：</p>
<p>​    装载 MySQL 驱动：<code>Class.forName ( &quot;ciom.mysql.jdvc.Driver&quot; );</code></p>
<p>​    装载 Oracle 驱动：<code>Class.forName ( &quot;oracle.jdbc.driver.OracleDriver&quot; );</code></p>
<ol start="2">
<li><strong>Connection 接口</strong></li>
</ol>
<p>Connection 与特定数据库的连接（会话），在连接上下文中执行 sql 语句并返回结果。</p>
<p><code>DriverManager.getConnection ( url ,user ,password )</code>方法建立在 JDBC URL 中定义的数据库 Connection 连接上。</p>
<p><strong>连接 MySQL 数据库：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Connection conn = DriverManager.getConnection ( &quot;jdbc:mysql://host:port/database&quot; , &quot;user&quot; , &quot;password&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>连接 Oracle 数据库：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Connection conn = DriverManager.getConnection ( &quot;jdbc:oracle:thin:@host:port:database&quot; , &quot;user&quot; , &quot;password&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>连接 SqlServer 数据库：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Connection conn = DriverManager.getConnection ( &quot;jdbc:microsoft:sqlsever://host:port;DatabaseName=database&quot; , &quot;user&quot; , &quot;password&quot;);</span><br></pre></td></tr></table></figure>

<p><strong>常用方法：</strong></p>
<ul>
<li><code>createStatement()</code>：创建向数据库发送 sql 的 statement 对象。</li>
<li><code>prepareStatement (sql)</code>：创建向数据库发送预编译 sql 的 PrepareSatement 对象。</li>
<li><code>prepareCall (sql)</code>：创建执行存储过程的 callableStatement 对象。</li>
<li><code>setAutoCommit (boolean autoCommit)</code>：设置事物是否自动提交。</li>
<li><code>commit()</code>：在链接上提交事物。</li>
<li><code>rollback()</code>：在此链接上回滚事物。</li>
</ul>
<ol start="3">
<li><strong>Statement 接口</strong></li>
</ol>
<p>用于执行静态 SQL 语句并返回它所生成结果的<strong>对象</strong>。</p>
<p>三种 Statement 类：</p>
<ul>
<li><code>Statement</code>：由 <code>createStatement</code> 创建，用于发送简单的 SQL 语句 (不带参数)。</li>
<li><code>PreparedStatement</code>：继承自<code>Statement</code>接口，由 <code>preparedStatement</code> 创建，用于发送含有一个或多个参数的 SQL 语句。<code>PreparedStatement</code> 对象比 <code>Startement</code> 对象的效率更高，并且可以防止 SQL 注入，所以一般我们都使用 <code>PreparedStatement</code>。</li>
<li><code>CallableStatement</code>：继承自 <code>PreparedStatement</code> 接口，由方法 <code>prepareCall</code> 创建，用于调用 存储过程。</li>
</ul>
<p>常用<code>Statement</code> 方法：</p>
<ul>
<li><code>execute (String sql)</code>：运行语句，返回是否有结果集</li>
<li><code>executeQuery (String sql)</code>：运行<code>select</code>语句，返回 <code>ResultSet</code> 结果集。</li>
<li><code>executeUpdate (String sql)</code>：运行<code>insert/update/delete</code>操作，返回更新的行数。</li>
<li><code>addBatch (String sql)</code>：把多条 sql 语句放到一个批处理中。</li>
<li><code>executeBatch()</code>：向数据库发送一批 sql 语句并执行。</li>
</ul>
<ol start="4">
<li><strong>ResultSet 接口</strong></li>
</ol>
<p>ResulttSet 提供检索不同类型字段的方法，常用的有：</p>
<ul>
<li>getString (int index)、getString (String columnName)：获得在数据库里是varchar、char等类型的数据对象。</li>
<li>getFloat (int index)、getFloat (String columnName)：获得在数据库里是Float类型的数据对象。</li>
<li>getDate (int index)、getDate (String columnName)：获得在数据库里是Date类型的数据。</li>
<li>getBoolean (int index)、getBoolean (String columnName)：获得在数据库里是Boolean类型的数据。</li>
<li>getObject(int index)、getObject(String columnName)：获取在数据库里任意类型的数据。</li>
</ul>
<p>ResultSet还提供了对结果集进行滚动的方法：</p>
<ul>
<li>next ()：移动到下一行</li>
<li>Previous ()：移动到前一行</li>
<li>absolute (int row)：移动到指定行</li>
<li>beforeFirst ()：移动resultSet的最前面。</li>
<li>afterLast ()：移动到resultSet的最后面。</li>
</ul>
<p><strong>使用后依次关闭对象及连接：</strong>ResultSet → Statement →Connection</p>
<p><strong>三、使用JDBC的步骤</strong></p>
<p>加载JDBC驱动程序 → 建立数据库连接Connection → 创建执行SQL的语句Statement → 处理执行结果ResultSet → 释放资源</p>
<ol>
<li>注册驱动 (只做一次)</li>
</ol>
<p><strong>方式一</strong>：Class.forName(“com.MySQL.jdbc.Driver”);<br>　　推荐这种方式，不会对具体的驱动类产生依赖。</p>
<p><strong>方式二</strong>：DriverManager.registerDriver(com.mysql.jdbc.Driver);<br>　　会造成DriverManager中产生两个一样的驱动，并会对具体的驱动类产生依赖。</p>
<ol start="2">
<li>建立连接</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">　Connection conn = DriverManager.getConnection(url, user, password); </span><br></pre></td></tr></table></figure>

<p>​    URL用于标识数据库的位置，通过URL地址告诉JDBC程序连接哪个数据库，URL的写法为：</p>
<p>　　<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAhkAAAByCAIAAABx1FRsAAASVUlEQVR4nO2dTY7ruBHHdRYfQAcwfAoBfQWtvPMJ+gbu3vR+LtBeBD7FGwQZZBXvM5kBkkUQBJiXGXQW+uJHFVkURYm0/j8Qgzd+lERWFfkni7Jf9QUAAADEUW3dAAAAAMUDLQEAABALtAQAAEAs0BIAAACxQEsAAADEAi0BAAAQC7QEAABALNASAAAAsUBLAAAAxAItyZPH9ViZHK8Ps9q9tWpR1QAogXs7L3gf12PV3olPw2439/HLsokR7q11abD5oCV5QgeGn3sLLQFF0q+LxOH7uLZD1cf1OFw4zYD9ckw8ivr62w6fjYzQPVav1V0aMAkFa4noCXrTghtVPl2XI8JyPS15XI+Gc8ZPonsxE+O56zZDtCzUt430BZI6dj3G6fJK498lWmXPsI/feffWrGN/Ql/V3r/U0XJvq2PbXu/q38p4XI+cIx9rRd5WRiBr2QZ5XK+uW0FLklCOljikZH9aInoSlX4041tS5+vrS5akpG9GpjOGjxOZLMY+3GV2AJp34sfBMN0No+VxPY6Vw0YQ12iHuZdkWyN0UuI1gc8QaXJc0JJStMQlJdAStopmMysvIalDf0pUG9TGWWl8av/I7bSE6Ps0URsRLZy9HJNHn+LpRsvwPw89zTNxv7O34fYkauYoDdsbgZkzmCmI36VBS5JQipbYI0X9BFoirKF/KqkzfUJmqY2xY96MeoLmys20hKvB2aRVPuHyMVRMU/u5ieP1zs3Q1OzIj7V7m37m2toI3JQRPAUtk+NStbW981pi1rPQraNX6f7OXP2xt1VuZcxKbKqBulbS1OP1YdzCGjpm432spCXuFK1rUrRsa93XaT9zGBAZIkJLtEdT5vG2jfcs0yKR4ySVrDpMMGqdDzg/Hh3nMu3y9pFybz0WcuwN+r927RyIbhqmHixqLqvvbXW8Xqlhk3xLYrO+EcwLXfrksUW8lhB7tOORWFu1rd1KUx8JpiqMllzN5x+vD7tNw2XUCwv6p/Se055wzXa2BWqJ57TP1hLaR17jaCb359NpLTl63pL2ts3t2dlaQmV1JHW4O6vBSIcrxeQ4btL3BvYs+4gwdlfytI4JvQpU54Bjn+5pr8pBMTuaHsYLT2aUJtyS5GGE3qvtdVCXsISXRqyW2INkijk7iK2cr62H9pzDpwmP3F2JFrrERF0z2SPcknyrqUpYLJWvXkVL7B28/onZC95Hcj868umchk3mtXwQ0jaBZ4Pc5t0keepwOqE0wvoj+zTDlbKE2jCRpLGPaQP3ettakAgFdDROe/8aMkTdq2b3qxYcpM3M3jLCsgobGOFxPXaZMM3FG2kJHVx6jDI5X2ozQKfO3OPUzvbTC+XhLvYQ1rbf/pUguZ40psgitORxdZy7j/9rribpnIzUj4xhqKSoqSXGRURO0d02wRp/vpYwV7nqyLWkbYklrMtxzL6YO8ZIYx/NAK5r1Elu6oj3bdZ7q12lrDOu/f5M/Wsi5FxnJKsfEm5hhE5u9Osc26W0WsLFluzsXakl38ubLSEOIJ2zjvW/7CKYaQ/TG302K0FLvFJi9IL1UZQf1dSJU0voYxttTe1um9ezs91m74kkdcRaYt6b2YLZOz0za8jR1UtgH+aNM6OK5ejr3TeK9DlW+8rL+CWI6UzbOyOPBG5Iltq/bGKE4a8sLdlmX8LZktq8uGpF7J3120q0RK/EZgNUrF2MWxmL0BK/lPgMpVeT+5Gd2PQdkEhL1GnQ3Tb6wYLwkcBsvZ11ArTEqqTvjRlX0slfr90Xs487rfBlTG9Glm5MzkxNV6RRO0DnR+SRmCzZtnYHcsz6sWVjy91FPxsZYeoStCRCS+zRyrWNGnBPoiWP65HKDxIZw2W1xDSsml9JrSVkAxyH/gFIriS75Q4kgd5QjmO0RBRQy9nH9VBN/iwttPYzXRePRz1CGBS1HnI4nia7t21apNodnC8leRghKy2JynEd+7ReuE/ma8lUTbJJHdcEXTVRn/PXEs8rXGMjFs5xMS8vRWqJqG1cY6xI9eX2fZO7SADYeiIBtzpPHt/FiuQM+9iX0+NeCyrRMRKDNlCMPM5jOFp2tLgX4rtzvAW90SIjHyNYWiIXU50Vz96NpmifMtthZ+xGaMngvu5Q0+8y7Q5PcfYukRKjF04fCf3I2MVYgoVriaRtrB1C5spoI9jDlorg8UNae7VKhOPsjhhDku4+Qah9QrBinNhgUZ0z2jfeglh7e7dGagCtqiVqKzY0gtWCzfYl0xxKpWYNLdH6Y23giP2i5+QuSkuIZqptpT4z5jZnn3PXEiMvS37CLaSJ6dDM+PJ+tOc0ZSE0X0sEbZN71m1A/kESQ9mTBHWhUou4UL875TiiI7anjPXPUvaZBXXjsXlX/icF73ftZ6ToRYr1KfG0eVpi5aWiWNcI2iOy0JIvdSIdJ9SWWM0Q31UkBxZbx1yixWkJq1TMMaWvrfr3M5l1oXwUptUSewyQo8K2ps9H/jrOJC9tPZGWCNom8KxShd+FxhvBXY/Z5tOVmOnM7ghneWt9F2YfHmYrpEFLrKVhXsi5tFvO3+11PnODUC0ZHxoprhsbIZccF9GA9s6flyihSHdMD2dqeC6mJS65NkYVvybh+py3lgilxJ3BnO1HK1wn69GnBEItEbXN69mxgnIY4V1x0J6S1LHM4TvaMVrDr4zNjhDPcmuQzD48Xi2hlsDBE6iZARpOC9RTA8Hgm7UvIfbgwWxvhO32JYGnQvni2fnNu99ihkl9XgJATgzTclDwkuvaL+v0Wb2/+/DEwRqjahsjhGgJmVAdCNUS/2lmGSwvictriSCcJSkSALLDDNywccPkp/UDIPsq7ifnv76+NvnnefMwwr2tlB/zOlK/Ztg9ZTji534xIEBLQnKl2eI8pIriaTZsAAAQjFxLfLvEQhi7sXQvoCUAgP2S5t/CAgAAsCegJQAAAGKBlgAAAIgFWgIAACAWaAkAAIBYoCUAAABigZYAAACIBVoCAAAgFmgJAACAWKAlAAAAYoGWAAAAiGWWllTVZiXbhuVclmXz7qCoJWd/gT0BLdlBWZbNu4Oilpz9BfbE2v6u9hFhO+lmtnQ/Bb11K4oHNgRyVo2V8V8OWfOh67OTbuYM7B8PbAiCgJYsz066mS3qvwe3dVsKBjYEQawXKMY/+rjac1dmJ93MGdg/HtgQhILzkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI50JIk7KSbOQMXxAMbAjnQkiTspJs5AxfEAxsCOdCSJOykmzkDF8QDGwI5iBUAAACxQEsAAADEAi0BAAAQC7QEAABALH4t+euvv377+e/5l8e//hnU81L6FVr++/373GDw8+d//Lx5B5+s/Pu332a74/vvv2/e/hTlp19+WTBowTr4taQqioCePy8R8bBfo23IbHf85/tvW7c9IQvGLVgBkZZ8/Pgt//Knx9+C4q+UfoWWpIPwWY1WqL86Ldm8C4uXH376C7SkOKAlz1agJWUVaIldoCUlAi15tgItKatAS+wCLSkRaMmzFWhJWQVaYhdoSYnEasnrpa6aN+3D96aqL6+rx18OWpKDNcrTktvlUFWHy+dqJrLK50tdmY4rwV9CLTk31end/MQVlgsE7edLXVVVc551ObSkRJbQkkofh+9NVbnD6O1kVSDuE1jW1JK+tVYfc7BGFlpyuxyqqqrMKcxZubeAocfnZjmZ6R40zpKThnUTX3W4fH68N7NnwHklnZaMgnFuqqqqX27dH5rz0F9WMNSg7f9M4YnPLrBlMaAXaEmJLKMlWrh0weeOsz5A65fb+KEynrsoDJxJF9WSYbA5qGt7NZ2DNbLQEtWG3pZ3U/xQbdBpjRnzkSNc+2dNGtY1tX65Db7QJ1liu2n1dHYL02nJaNheVEaBv2jizQVkH9tUAPdmVK1Ebi4NYSbinC7QkhLZSEuM0VtfXodbHS6f46o2aEG6zr7EvWPIwRrZaIlkT6ZNeaoN+84aO4n4crscxrlseq6pJeQSwbu48E6Ri/vLl+P6fKmrqr68NP1/+8ik+mg7zqslWpwPUermcHmTpBOhJSWSVkvO/WTiDJ3b5bBEhmcFLem64xiEOVgjIy0xS5/0MPvSz+lNt/1KoyXDo6eZ//I6uUakJazf4xqZUkuUuK3rQ92c6mGboigfEZZKXuvUsDkuQkumm/QyNs8m0JISWUhL+IATrNfeTnpcdsEdmjRIqiXjytTdqhyssZGWWJM1TXN+bwYjmInEw+Xtpa5PTcp9SdfU+nK+XE5Ndahr5dGsj0rUkjMZg72QmJyapqqas7W3OL3r8v/edKFIJP0MLbldDlbQyiMZWlIis7XEmjvGMDJX4urI1K8aht+5UVc0XZ3gjMEaWsJuDjKyRtJBOMNo3tSckXxPluN6O3UbvpvotECd8krUEqUv9aFWYkxLPBLvfYwWIHJcjqSlJMfVK5n/1QZoSYksmOMaFtRKIFqzp33VFPF9NerwU1LW1pIxD6B8mIM1StMSdXfSnBNqyedLPb6pNe1IyDnvpE95pWrJIAP9DK6dvdcvN15WOxM1zWHYZNu6Ygazti95O/UGUZKHITaBlpTIcloyzIDqwJs21PaLMdrS7+2kXzLjrZiFtESYqxlURH9TJQdrFKYl43q2Oy+pL+dkZ+/d60znS23Mbq/WJ2EdyVJL1NXP9F71e1M1b8ZCh2j5uE4a3EEF/0U7EVG0RIln9XXEAJtAS0pkMS3R32Hvp79uQfRiLertM+rXS60snea84L9pjisja2SqJczbaNMrUs3bx+1ykGkJp8ru0tn/NHzrwv12ltrOArVkWo5QgtF/N5Pol3LqTmymHS8lTvvvcVPybdoLyl8Q//HbB7SkTJbRkiFjML6q309/+uaaWr93f1Zefp+xiulKPlqyrTW20xLfl3J6nVCl8fOl7nMpQe8EawoU5MThXSblQW/d+vrce4H96mhRWsKcvVeVsl3uUnnKImaMzEkY9NexJi15Oxk7ufGQ6XY51DV1dqK+duEp0JISWfqdYC1tOs6k4/LEvEp9y5b7Mrmw5KMl21pjOy2hreH7HsMgroNttYXw8u9xdemdt9Mg+c+qJXbbtHzptP+gAmzUkv7yURt6mRkXB2OXmTyh+Usqwl8xgJaUyMJaop/Ise+Yq+mF4drpoKL0fcm21ihHS4avi9PHtt8+tKlQSdrMLVpSa0qmPbOWTPphNrIPMLpTg5b0CvFudtA2CL8NIvD6EVpSIotqiZlO1ecFalQPUTW++RqWV1VLdlqykTWK0ZLb5dBZwzq2nS5htGSauaSWIabO0ByXhyy15MOa5adU6mBBfl/SW+bVEkvLs9zP/BC/8Oj7QZpvH9CSMln4neBx2PdfaGKmEu2rttb5wRj9Qe8vZaYlm1kjby2hNmeTllhyO85i+nQWriWO5i2yL5n5AyqR/pJoifL1nX6NMn4blP0G7vTatPLqsENL2IOQmb8WDC0pkaW0RBuBylLIM8aIH4lTP+fWTVRJoiX6j6QKv3a3rTW20JKQF6l7S1iCQX+RzTjPnz9lc9butGSS/8Coiy8x/hJ9v0SLW/MlXSW0plfYzYBnvoeobRNpUYeW7IhF/v2Shv72rLvM+gFHR0m4L6F+ECJba2yhJXFFmaqW+j1gSelfmTM+t770nrqk0RL7p89GVRbpsWYc6zeArb/l7jnnB78/oCVlgn9X8dlKeVqy75JwX1JsgZaUCLTk2Qq0pKwCLbELtKREoCXPVqAlZRVoiV2gJSUCLXm2Ai0pq0BL7AItKRGRlhREQM+fl4h42K/RNmS2O/73xx9btz0hC8YtWAE4DAAAQCzQEgAAALFASwAAAMQCLQEAABALtAQAAEAs0BIAAACxQEsAAADE8n/0TD/0Jgby6gAAAABJRU5ErkJggg==" alt="img"></p>
<p>​    其他参数如：useUnicode=true&amp;characterEncoding=utf8</p>
<ol start="3">
<li>创建执行SQL语句的statement</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Statement  </span></span><br><span class="line"><span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> <span class="string">&quot;5&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from table where id=&quot;</span> +  id;</span><br><span class="line"><span class="type">Statement</span> <span class="variable">st</span> <span class="operator">=</span> conn.createStatement();  </span><br><span class="line">st.executeQuery(sql);  </span><br><span class="line"><span class="comment">//存在sql注入的危险</span></span><br><span class="line"><span class="comment">//如果用户传入的id为“5 or 1=1”，那么将删除表中的所有记录</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//PreparedStatement 有效的防止sql注入(SQL语句在程序运行前已经进行了预编译,当运行时动态地把参数传给PreprareStatement时，即使参数里有敏感字符如 or &#x27;1=1&#x27;也数据库会作为一个参数一个字段的属性值来处理而不会作为一个SQL指令)</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> “insert into <span class="title function_">user</span> <span class="params">(name,pwd)</span> values(?,?)”;  </span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.preparedStatement(sql);  </span><br><span class="line">ps.setString(<span class="number">1</span>, <span class="string">&quot;col_value&quot;</span>);  <span class="comment">//占位符顺序从1开始</span></span><br><span class="line">ps.setString(<span class="number">2</span>, <span class="string">&quot;123456&quot;</span>);     <span class="comment">//也可以使用setObject</span></span><br><span class="line">ps.executeQuery(); </span><br></pre></td></tr></table></figure>



<ol start="4">
<li>处理执行结果(ResultSet)</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery();  </span><br><span class="line">While(rs.next())&#123;  </span><br><span class="line">    rs.getString(<span class="string">&quot;col_name&quot;</span>);  </span><br><span class="line">    rs.getInt(<span class="number">1</span>);  </span><br><span class="line">    <span class="comment">//…</span></span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>



<ol start="5">
<li>释放资源</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 数据库连接（Connection）非常耗资源，尽量晚创建，尽量早的释放 //都要加try catch 以防前面关闭出错，后面的就不执行了  </span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">     <span class="keyword">if</span> (rs != <span class="literal">null</span>) &#123;</span><br><span class="line">         rs.close();</span><br><span class="line">     &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">     e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">	<span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="keyword">if</span> (st != <span class="literal">null</span>) &#123;</span><br><span class="line">             st.close();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">         e.printStackTrace();</span><br><span class="line">     &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">         <span class="keyword">try</span> &#123;</span><br><span class="line">             <span class="keyword">if</span> (conn != <span class="literal">null</span>) &#123;</span><br><span class="line">                 conn.close();</span><br><span class="line">             &#125;</span><br><span class="line">         &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">             e.printStackTrace();</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<blockquote>
<p>上文引自  <a href="https://www.cnblogs.com/erbing/p/5805727.html">JDBC详解 - ErBing - 博客园 (cnblogs.com)</a> ，如有侵权请通知。</p>
</blockquote>
<h3 id="三、PreparedStatement-接口的解释和用法"><a href="#三、PreparedStatement-接口的解释和用法" class="headerlink" title="三、PreparedStatement 接口的解释和用法"></a>三、PreparedStatement 接口的解释和用法</h3><p><code>PreparedStatement</code> 是 Statement 接口的子接口</p>
<p>优点：</p>
<ol>
<li>使用 PreparedStatement 接口可以防止 SQL 注入</li>
<li>PreparedStatement  是预编译(Statement 每次执行sql语句，都要执行相关数据库的编译，而 PreparedStatement 的sql是一个模板 (可以类比函数)，编译过程与执行是分开的，当为其参数赋予值时，实际上只是将值给传入进去，放进模板中，需要时取出插入数据即可，不需要继续编译。)的，对于批量处理可以大大提高效率。总的来说，区别在于前者编译执行一体化，后者属于先编译后执行。</li>
<li>可以重复使用同一SQL模板，给予其不同的参数来重复的使用。</li>
</ol>
<p>第二点也就是为什么预编译能够防止SQL注入。</p>
<h3 id="创建-PreparedStatement-对象"><a href="#创建-PreparedStatement-对象" class="headerlink" title="创建 PreparedStatement 对象"></a>创建 PreparedStatement 对象</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    ……</span><br><span class="line">    <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select studentNo from student where studentName = ?&quot;</span>;</span><br><span class="line">    ps = connection.prepareStatement(sql);</span><br><span class="line">    ……</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">    ……</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    ps.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在使用 PreparedStatement 对象的同时，所有的参数都被用 ？符号表示，而为其参数<strong>赋值</strong>则需要用到 setXXX() 方法将值绑定到参数，其中 XXX 表示参数的<strong>数据类型</strong>。</p>
<blockquote>
<p>当你没有给参数赋予值，你会收到一个 SQLException</p>
</blockquote>
<p>setXXX (int parementerIndex , XXX类型变量) ，每个参数的起始下标为1。</p>
<h3 id="Statement-和-PreparedStatement-执行SQL语句方法的区别"><a href="#Statement-和-PreparedStatement-执行SQL语句方法的区别" class="headerlink" title="Statement 和 PreparedStatement 执行SQL语句方法的区别"></a>Statement 和 PreparedStatement 执行SQL语句方法的区别</h3><p>PreparedStatement对象独有的executeQuery()方法是没有参数的，而Statement的executeQuery()是需要参数（SQL语句）的。因为在创建PreparedStatement对象时已经让它与一条SQL模板绑定在一起了，所以在调用它的executeQuery()和executeUpdate()方法时就不再需要参数了。</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>JDBC 由一组使用 Java 语言编写的类和接口组成，可以为多种关系型数据库提供统一的访问方式。</li>
<li>JDBC API 是一套接口规范，数据库厂商或第三方中间件厂商根据这套接口规范提供针对不同数据库的数据库驱动</li>
<li>JDBC操作步骤<ul>
<li>加载JDBC驱动</li>
<li>获取数据库连接</li>
<li>创建SQL语句集，发送SQL语句，并得到返回结果</li>
<li>处理返回结果</li>
</ul>
</li>
<li>每个JDBC驱动只对应一种数据库，甚至只对应某个版本的数据库</li>
<li>数据库操作结束后，应该关闭数据库连接，释放系统资源。为了确保程序的执行，关闭数据库连接语句要放到 finally 语句块中</li>
<li>Connection 接口负责连接数据库并担任传达数据库的任务</li>
<li>Statement 接口负责执行 SQL 语句</li>
<li>ResultSet 接口负责保存和处理 Statement 接口执行后所产生的查询结果</li>
<li>SQL 注入是通过提交一段 SQL 代码，执行超出用户权限的数据库操作的攻击行为</li>
<li>PreparedStatement 接口能够提高代码的可读性、可维护性、SQL语句的执行性能和安全性</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>JDBC</tag>
      </tags>
  </entry>
  <entry>
    <title>DAO</title>
    <url>/2022/05/26/MySQL/DAO/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="数据访问和DAO模式"><a href="#数据访问和DAO模式" class="headerlink" title="数据访问和DAO模式"></a>数据访问和DAO模式</h2><h3 id="Properties-配置文件"><a href="#Properties-配置文件" class="headerlink" title="Properties 配置文件"></a>Properties 配置文件</h3><p>在不同业务场景的实际开发过程中，数据库服务器的 IP 地址，访问数据库的用户名或密码经常会发生变化，维护和修改比较麻烦，而为了避免这种情况，Java 中有一个比较重要的 Properties 类，它可以读取 Java 配置文件，这样就可以把常用的配置信息卸载配置文件中，程序员进行维护和修改。</p>
<ol>
<li><strong>添加 .properties 文件</strong></li>
</ol>
<p>选择 src 文件夹并右击，New → File，命名为 database.properties</p>
<p><img src="https://a.ideaopen.cn/Mercury/ghnRpISP.png" alt="img"></p>
<ol start="2">
<li><strong>编辑配置文件</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">driver=com.mysql.cj.jdbc.Driver</span><br><span class="line">url=jdbc:mysql://localhost:3306/hospital?serverTimezone=GMT-8</span><br><span class="line">username=root</span><br><span class="line">password=123456</span><br></pre></td></tr></table></figure>

<p>格式无需分号结尾，与Java中的Map结构相似，等号之前是键，等号之后是只。在一个配置文件中，键应该唯一，但值可以不唯一，通过一个键就可以找到确定值。</p>
<ol start="3">
<li><strong>读取配置文件</strong></li>
</ol>
<p>使用<code>java.util</code>包下的 <code>Properties</code>类读取配置文件。</p>
<p><code>Properties</code> 类继承自<code>Hashtable</code>类，其常用方法如下：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>String getProperty (String key)</strong></td>
<td>用指定的键在此属性列表中搜索属性</td>
</tr>
<tr>
<td><strong>Object setProperty(String key, String value)</strong></td>
<td>通过调用基类 Hashtable 的 put() 方法设置键-值对</td>
</tr>
<tr>
<td><strong>void load(InputStream streamIn) throws IOException</strong></td>
<td>从输入流中读取属性列表（键和元素对）</td>
</tr>
<tr>
<td><strong>void clear()</strong></td>
<td>清除所装载的键-值对，该方法由基类 Hashtable 提供</td>
</tr>
</tbody></table>
<h2 id="DAO"><a href="#DAO" class="headerlink" title="DAO"></a>DAO</h2><p>简介</p>
<p>DAO (DataAccessobjects) 数据存取对象是指位于业务逻辑和持久化数据之间，实现对持久化数据的访问的工作模式。 </p>
<p>通俗来讲，就是将数据库操作都<strong>封装</strong>起来，对外提供相应的接口。 </p>
<h3 id="DAO的优势"><a href="#DAO的优势" class="headerlink" title="DAO的优势"></a>DAO的优势</h3><ol>
<li><strong>提高代码的复用性</strong> </li>
<li><strong>隔离性</strong><ol>
<li>隔离了数据访问代码和业务逻辑代码</li>
<li>隔离了不同数据库实现</li>
</ol>
</li>
<li><strong>易维护</strong></li>
</ol>
<h3 id="DAO-的组成"><a href="#DAO-的组成" class="headerlink" title="DAO 的组成"></a>DAO 的组成</h3><ol>
<li>数据库连接和关闭工具类：避免了数据库连接和关闭代码的重复使用，方便修改。</li>
<li>实体类：用于存放与传输对象数据。</li>
<li>DAO 接口：把对数据库的所有操作定义成抽象方法，可以提供多种实现</li>
<li>DAO 实现类：针对不同数据库给出DAO接口定义方法的具体实现。</li>
</ol>
<h3 id="工具类-连接数据库"><a href="#工具类-连接数据库" class="headerlink" title="工具类 连接数据库"></a>工具类 连接数据库</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.hospital.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 数据库通用工具类 即基类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Connection conn;</span><br><span class="line">    <span class="keyword">private</span> PreparedStatement ps;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String pwd;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 省略封装</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        init();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//创建 Properties 对象</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">pt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="string">&quot;database.properties&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Dao.class.getClassLoader().getResourceAsStream(filePath);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            pt.load(is);</span><br><span class="line">            <span class="comment">//根据键来获取对应的值</span></span><br><span class="line">            driver = pt.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">            url = pt.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">            userName = pt.getProperty(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">            pwd = pt.getProperty(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Connection <span class="title function_">getConnection</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(conn == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 1.加载驱动</span></span><br><span class="line">                Class.forName(getDriver());</span><br><span class="line">                <span class="comment">// 2.获取连接</span></span><br><span class="line">                conn = DriverManager.getConnection(getUrl(),getUserName(),getPwd());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException | SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 关闭</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> rs 结果集</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ps 接口</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> conn 数据库连接</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">closeAll</span><span class="params">(ResultSet rs , PreparedStatement ps , Connection conn)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!= rs)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!= ps)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ps.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="literal">null</span>!= conn)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">executeUpdate</span><span class="params">(String sql , Object ... prams)</span>&#123;</span><br><span class="line">        <span class="comment">// 受影响的行数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 1.获取连接</span></span><br><span class="line">        conn = getConnection();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 2.发送sql语句</span></span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            <span class="comment">// 3.判断是否有参数</span></span><br><span class="line">            <span class="keyword">if</span> (prams != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// 4.循环遍历参数</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; prams.length;i++)&#123;</span><br><span class="line">                    ps.setObject(i+<span class="number">1</span>,prams[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 5.执行 返回受影响的行数</span></span><br><span class="line">                result = ps.executeUpdate();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<p><strong>菜鸟教程 —— 连接数据库</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String driver=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String url=<span class="string">&quot;jdbc:mysql://127.0.0.1:3306/epet&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String user=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String password=<span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="keyword">static</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Class.forName(driver);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url, user, password);    </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">closeAll</span><span class="params">(Connection conn,Statement stmt,ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="keyword">if</span>(rs!=<span class="literal">null</span>) &#123;</span><br><span class="line">            rs.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(stmt!=<span class="literal">null</span>) &#123;</span><br><span class="line">            stmt.close();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(conn!=<span class="literal">null</span>) &#123;</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">executeSQL</span><span class="params">(String preparedSql, Object[] param)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">/* 处理SQL,执行SQL */</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            conn = getConnection(); <span class="comment">// 得到数据库连接</span></span><br><span class="line">            pstmt = conn.prepareStatement(preparedSql); <span class="comment">// 得到PreparedStatement对象</span></span><br><span class="line">            <span class="keyword">if</span> (param != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; param.length; i++) &#123;</span><br><span class="line">                    pstmt.setObject(i + <span class="number">1</span>, param[i]); <span class="comment">// 为预编译sql设置参数</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">num</span> <span class="operator">=</span> pstmt.executeQuery(); <span class="comment">// 执行SQL语句</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace(); <span class="comment">// 处理SQLException异常</span></span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                BaseDao.closeAll(conn, pstmt, <span class="literal">null</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException e) &#123;    </span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="实体类"><a href="#实体类" class="headerlink" title="实体类"></a>实体类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实体类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hospital</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> patientID;</span><br><span class="line">    <span class="keyword">private</span> String patientName;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> Date birthDate;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line">    <span class="keyword">private</span> String phoneNum;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> String identityNum;</span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 省略封装、无参有参</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="DAO-接口"><a href="#DAO-接口" class="headerlink" title="DAO 接口"></a>DAO 接口</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.hospital.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> entity.Hospital;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">HospitalDao</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 添加数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addPaitent</span><span class="params">(Hospital h)</span>;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 根据 id 删除表中数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deletePaitent</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 更新值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updatePaitent</span><span class="params">(Hospital h)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询检查表中的信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Hospital&gt; <span class="title function_">getHospitalList</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="DAO-实现类"><a href="#DAO-实现类" class="headerlink" title="DAO 实现类"></a>DAO 实现类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.hospital.dao.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.hospital.dao.Dao;</span><br><span class="line"><span class="keyword">import</span> cn.hospital.dao.HospitalDao;</span><br><span class="line"><span class="keyword">import</span> entity.Hospital;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.Date;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DAO 实现类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HospitalDemo</span> <span class="keyword">extends</span> <span class="title class_">Dao</span> <span class="keyword">implements</span> <span class="title class_">HospitalDao</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addPaitent</span><span class="params">(Hospital h)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into patient(patientName, password, birthDate, gender, phoneNum, email, identityNum, address) &quot;</span> +</span><br><span class="line">                     <span class="string">&quot;values(?,?,?,?,?,?,?,?)&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.executeUpdate(sql,h.getPatientName(),h.getPassword(),h.getBirthDate(),h.getGender(),h.getPhoneNum(),h.getEmail(),h.getIdentityNum(),h.getAddress());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deletePaitent</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete from patient where patientID = ?&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.executeUpdate(sql,id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">updatePaitent</span><span class="params">(Hospital h)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update patient set patientName = ? where patientName = &#x27;张三&#x27;&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.executeUpdate(sql,h.getPatientName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查询检查表中的信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Hospital&gt; <span class="title function_">getHospitalList</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        List&lt;Hospital&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from patient&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 1.获取连接</span></span><br><span class="line">            conn = getConnection();</span><br><span class="line">            <span class="comment">// 2.发送sql</span></span><br><span class="line">            ps = conn.prepareStatement(sql);</span><br><span class="line">            <span class="comment">// 3.执行sql</span></span><br><span class="line">            rs = ps.executeQuery();</span><br><span class="line">            <span class="comment">// 4.循环遍历输出</span></span><br><span class="line">            <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">                <span class="comment">//创建 hospital对象，用来存储查询德信息</span></span><br><span class="line">                <span class="type">Hospital</span> <span class="variable">hospital</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Hospital</span>();</span><br><span class="line">                hospital.setPatientID(rs.getInt(<span class="string">&quot;patientID&quot;</span>));</span><br><span class="line">                hospital.setPatientName(rs.getString(<span class="string">&quot;patientName&quot;</span>));</span><br><span class="line">                hospital.setBirthDate(rs.getDate(<span class="string">&quot;birthDate&quot;</span>));</span><br><span class="line">                hospital.setPassword(rs.getString(<span class="string">&quot;password&quot;</span>));</span><br><span class="line">                hospital.setGender(rs.getString(<span class="string">&quot;gender&quot;</span>));</span><br><span class="line">                hospital.setPhoneNum(rs.getString(<span class="string">&quot;phoneNum&quot;</span>));</span><br><span class="line">                hospital.setEmail(rs.getString(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">                hospital.setIdentityNum(rs.getString(<span class="string">&quot;identityNum&quot;</span>));</span><br><span class="line">                hospital.setAddress(rs.getString(<span class="string">&quot;address&quot;</span>));</span><br><span class="line">                <span class="comment">//将对象添加到集合中</span></span><br><span class="line">                list.add(hospital);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.closeAll(rs,ps,conn);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>DAO模式</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL存储过程</title>
    <url>/2022/05/11/MySQL/MySQL%20%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-存储过程"><a href="#1-存储过程" class="headerlink" title="1. 存储过程"></a>1. 存储过程</h2><h3 id="1-1-存储过程简介"><a href="#1-1-存储过程简介" class="headerlink" title="1.1 存储过程简介"></a>1.1 存储过程简介</h3><p>存储过程是一组为了完成特定功能的SQL语句集合，经编译后存储在数据库中。用户通过指定存储过程的名字并给出参数的值</p>
<p>MySQL 5.0 版本开始支持存储过程。</p>
<p>存储过程（Stored Procedure）是一种在数据库中存储复杂程序，以便外部程序调用的一种数据库对象。</p>
<p>存储过程是为了完成特定功能的SQL语句集，经编译创建并保存在数据库中，用户可通过指定存储过程的名字并给定参数(需要时)来调用执行。</p>
<p>存储过程思想上很简单，就是数据库 SQL 语言层面的代码封装与重用。</p>
<h3 id="1-2-存储过程的优缺点"><a href="#1-2-存储过程的优缺点" class="headerlink" title="1.2 存储过程的优缺点"></a>1.2 存储过程的优缺点</h3><p><strong>优点：</strong></p>
<p><strong>1) 封装性</strong></p>
<p>存储过程被创建后，可以在程序中被多次调用，而不必重新编写该存储过程的 SQL 语句，并且数据库专业人员可以随时对存储过程进行修改，而不会影响到调用它的应用程序源代码。</p>
<p><strong>2) 可增强 SQL 语句的功能和灵活性</strong></p>
<p>存储过程可以用流程控制语句编写，有很强的灵活性，可以完成复杂的判断和较复杂的运算。</p>
<p><strong>3) 可减少网络流量</strong></p>
<p>由于存储过程是在服务器端运行的，且执行速度快，因此当客户计算机上调用该存储过程时，网络中传送的只是该调用语句，从而可降低网络负载。</p>
<p><strong>4) 高性能</strong></p>
<p>存储过程执行一次后，产生的二进制代码就驻留在缓冲区，在以后的调用中，只需要从缓冲区中执行二进制代码即可，从而提高了系统的效率和性能。</p>
<p><strong>5) 提高数据库的安全性和数据的完整性</strong></p>
<p>使用存储过程可以完成所有数据库操作，并且可以通过编程的方式控制数据库信息访问的权限。</p>
<blockquote>
<p>此数据来自知乎大佬 —— <a href="https://zhuanlan.zhihu.com/p/91558644">Mysql存储过程的详细讲解 - 知乎 (zhihu.com)</a> </p>
</blockquote>
<p><strong>缺点：</strong></p>
<ul>
<li>存储过程，往往定制化于特定的数据库上，因为支持的编程语言不同。当切换到其他厂商的数据库系统时，需要重写原有的存储过程。</li>
<li>存储过程的性能调校与撰写，受限于各种数据库系统。</li>
</ul>
<h3 id="1-3-使用存储过程"><a href="#1-3-使用存储过程" class="headerlink" title="1.3 使用存储过程"></a>1.3 使用存储过程</h3><p><strong>1. 创建存储过程</strong></p>
<p>使用  CREATE PROCEDURE 语句创建存储过程。语法格式如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE PROCEDURE 过程名（过程参数）</span><br><span class="line">[特性]</span><br><span class="line">存储过程体</span><br></pre></td></tr></table></figure>

<p><strong>说明</strong></p>
<p>常用特性有：</p>
<ol>
<li>LANGUAGE SQL：存储过程语言，默认值为 SQL</li>
<li>CONTAINS SQL：表示子程序<strong>不包含读或写数据</strong>的语句</li>
<li>NOT SQL：表示子程序<strong>不包含</strong> SQL 语句</li>
<li>READDS SQL DATA：表示子程序包含<strong>读数据</strong>的语句，但<strong>不包含</strong>写的语句</li>
<li>MODIFIES SQL DATA：表示子程序包含<strong>写数据</strong>的语句 </li>
</ol>
<p>如果 2~5 这些特征<strong>没有明确指定</strong>，默认值为：CONTAINS SQL</p>
<ol start="6">
<li>SQL SECURITY { DEFINER | INVOKER }：用来指定存储过程的<strong>执行权限</strong>，默认值为 DEFINER<ol>
<li>DEFINER：使用创建者的权限执行</li>
<li>INVOKER：使用执行者的权限执行</li>
</ol>
</li>
</ol>
<p>下面结合具体实例讲解存储过程的创建过程：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELIMITER //</span><br><span class="line">CREATE PROCEDURE student(过程参数)</span><br><span class="line">BEGIN</span><br><span class="line">   SELECT * FROM student;</span><br><span class="line">END</span><br><span class="line">DELIMITER ;</span><br></pre></td></tr></table></figure>

<p><strong>说明</strong></p>
<p><strong>1）声明语句分隔符</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELIMITER $$ 或者 DELIMITER //</span><br></pre></td></tr></table></figure>

<p>需注意的是，如果没有声明语句分隔符的话，编译器就会把存储过程当成 SQL 语句处理，这样编译过程就会报错。</p>
<p><strong>2）定义存储过程的参数</strong></p>
<p>在 MySQL 中，存储过程的参数包括 3 种类型</p>
<ul>
<li><code>IN</code>：输入参数：表示调用者向过程传入值（传入值可以是字面量或变量）</li>
<li><code>OUT</code>： 输出参数：表示过程向调用者传出值(可以返回多个值)（传出值只能是变量）；</li>
<li><code>INOUT</code>：输入输出参数：既表示调用者向过程传入值，又表示过程向调用者传出值（值只能是变量）。</li>
</ul>
<p><strong>3）过程体的标识</strong></p>
<p>在定义存储过程的过程体时，需要标识开始和结束。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BEGIN …… END 分隔符</span><br></pre></td></tr></table></figure>

<p><strong>2. 调用存储过程</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CALL 存储过程名（参数列表）;</span><br></pre></td></tr></table></figure>

<p><strong>3.存储过程中的变量</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DECLARE 变量名 数据类型 [DEFAULT 值]</span><br></pre></td></tr></table></figure>

<h3 id="1-4-查看存储过程"><a href="#1-4-查看存储过程" class="headerlink" title="1.4 查看存储过程"></a>1.4 查看存储过程</h3><p><strong>1.查看存储过程的状态</strong></p>
<p>类似查看数据库中的数据表信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW PROCEDURE STATUS;</span><br></pre></td></tr></table></figure>

<p><strong>2.查看存储过程的创建代码</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW CREATE PROCEDURE 存储过程名;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-修改存储过程"><a href="#1-5-修改存储过程" class="headerlink" title="1.5 修改存储过程"></a>1.5 修改存储过程</h3><p>在MySQL中，使用 <code>ALTER PROCEDURE</code>语句可以修改已创建的存储过程，但是仅仅能够修改存储过程时定义的特性。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER PROCEDURE 存储过程名 [特性 ……]</span><br></pre></td></tr></table></figure>

<h3 id="1-6-删除存储过程"><a href="#1-6-删除存储过程" class="headerlink" title="1.6 删除存储过程"></a>1.6 删除存储过程</h3><p>类似删除数据库中的数据表，MySQL用户可以使用 <code>DROP PROCEDURE</code>语句删除已创建的存储过程。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP PROCEDURE 存储过程名;</span><br></pre></td></tr></table></figure>

<h2 id="2-存储过程的控制语句"><a href="#2-存储过程的控制语句" class="headerlink" title="2. 存储过程的控制语句"></a>2. 存储过程的控制语句</h2><h3 id="2-1-条件语句"><a href="#2-1-条件语句" class="headerlink" title="2.1 条件语句"></a>2.1 条件语句</h3><p><strong>1.<code>IF-ELSEIF-ELSE</code>条件语句</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">IF 条件 THEN 语句列表</span><br><span class="line">	[ELSEIF 条件 THEN 语句列表]</span><br><span class="line">	[ELSE 语句列表]</span><br><span class="line">END IF;</span><br></pre></td></tr></table></figure>

<p><strong>2.<code>CASE</code>条件语句</strong></p>
<p>在 MySQL 中的 CASE 条件语句有两种写法。</p>
<p><strong>第一种语法格式如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CASE</span><br><span class="line">	WHEN 条件 THEN 语句列表</span><br><span class="line">	[WHEN 条件 THEN 语句列表]</span><br><span class="line">	[ELSE 语句列表]</span><br><span class="line">END CASE;</span><br></pre></td></tr></table></figure>

<p>在 CASE 语句中，若条件为真，则相应的 SQL 语句列表来执行。</p>
<p>若没有条件匹配，则在 ELSE 子句里的语句列表被执行。</p>
<p>另外，CASE 语句只返回第一个符合条件的值，剩下的部分将会被自动忽略。</p>
<p><strong>实例：</strong></p>
<p>定义存储过程，输入一个整数，使用 case 语句判断是正数还是负数，代码如下所示： </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 创建过程</span><br><span class="line">create procedure pro_demo(in num int)</span><br><span class="line">begin</span><br><span class="line">case -- 条件开始</span><br><span class="line">when num &lt; 0 then select &#x27;负数&#x27;;</span><br><span class="line">when num = 0 then select &#x27;不是正数也不是负数&#x27;;</span><br><span class="line">else select &#x27;正数&#x27;;</span><br><span class="line">end case; -- 条件结束</span><br><span class="line">end;</span><br><span class="line">-- 调用过程</span><br><span class="line">call pro_demo(1);</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">正数</span><br><span class="line">正数</span><br></pre></td></tr></table></figure>

<p><strong>第二种语法格式如下：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CASE 列名</span><br><span class="line">	WHEN 条件 THEN 语句列表</span><br><span class="line">	[WHEN 条件 THEN 语句列表]</span><br><span class="line">	[ELSE 语句列表]</span><br><span class="line">END CASE;</span><br></pre></td></tr></table></figure>

<p><strong>实例：</strong></p>
<p>定义存储过程，输入一个整数，使用 case 语句判断是 1 还是 2，代码如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">-- 创建过程</span><br><span class="line">create procedure pro_demo(in num int)</span><br><span class="line">begin</span><br><span class="line">case num -- 条件开始</span><br><span class="line">when 1 then select &#x27;数值是 1&#x27;;</span><br><span class="line">when 2 then select &#x27;数值是 2&#x27;;</span><br><span class="line">else select &#x27;不是 1 也不是 2&#x27;;</span><br><span class="line">end case; -- 条件结束</span><br><span class="line">end;</span><br><span class="line">-- 调用过程</span><br><span class="line">call pro_demo(3);</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">不是 1 也不是 2</span><br><span class="line">不是 1 也不是 2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此处实例来自 <a href="https://blog.csdn.net/whf_a/article/details/114871866">(398条消息) MySQL—存储过程详解_ʜғ的博客-CSDN博客_mysql存储过程详解</a> </p>
</blockquote>
<h3 id="2-2-循环语句"><a href="#2-2-循环语句" class="headerlink" title="2.2 循环语句"></a>2.2 循环语句</h3><p><strong>1）WHILE 循环语句</strong></p>
<p><code>WHILE</code> 循环语句时最普遍使用的循环语句，它首先判断条件是否成立，若成立，则执行循环体。语法如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">while 条件 DO</span><br><span class="line">	循环体</span><br><span class="line">end while;</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delimiter //</span><br><span class="line">-- 创建过程 使用 while 循环输出 1 到 10 的累加和</span><br><span class="line">create procedure pro_demoWhile(in i int)</span><br><span class="line">begin</span><br><span class="line">    declare num int default 0;</span><br><span class="line">    declare sum int default 0;</span><br><span class="line">    while num &lt; 10 do -- 循环开始</span><br><span class="line">        set num = num + i;</span><br><span class="line">        set sum = sum + num;</span><br><span class="line">        end while; -- 循环结束</span><br><span class="line">    select sum;</span><br><span class="line">end;</span><br><span class="line">-- 调用过程</span><br><span class="line">call pro_demoWhile(1);</span><br></pre></td></tr></table></figure>

<p><strong>运行结果：55</strong></p>
<p><strong>2）LOOP 循环语句</strong></p>
<p><code>LOOP</code>循环结构不需要判断初始条件，直接执行循环体，直到遇到 <code>LEAVE</code> 语句才退出循环。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">loop_name: LOOP</span><br><span class="line">        IF 条件 THEN -- 满足条件时离开循环</span><br><span class="line">                LEAVE loop_name;  -- 和 break 差不多都是结束循环</span><br><span class="line">        END IF；</span><br><span class="line">END LOOP;</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delimiter //</span><br><span class="line">-- 创建过程 使用 loop 循环输出 1 到 10 的累加和</span><br><span class="line">create procedure pro_demoLoop(i int)</span><br><span class="line">begin</span><br><span class="line">    declare num int default 0;</span><br><span class="line">    declare sum int default 0;</span><br><span class="line">    #loop 循环语法：</span><br><span class="line">    loop_name:loop</span><br><span class="line">        set num = num + i;</span><br><span class="line">        set sum = sum + num;</span><br><span class="line">        if num &gt;= 10 THEN -- 满足条件时离开循环</span><br><span class="line">            leave loop_name;  -- 和 break 差不多都是结束循环</span><br><span class="line">        end if;</span><br><span class="line">    end loop;</span><br><span class="line">    select sum;</span><br><span class="line">end;</span><br><span class="line">-- 调用过程</span><br><span class="line">call pro_demoLoop(1);</span><br></pre></td></tr></table></figure>

<p><strong>运行结果：55</strong></p>
<p><strong>3）REPEAT 循环语句</strong></p>
<p>REPEAT 循环与 LOOP 循环类似，不需要初始条件就可以直接进入循环体。</p>
<p>但是LOOP 循环不同的是，它有退出条件。因此，REPEAT 是执行一次操作后检查条件是否成立。若成立，则结束循环；若不成立，则继续执行下一次循环操作。</p>
<p>这种先执行循环操作再判断循环条件的循环与 Java 中的 do-while 循环类似。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">repeat</span><br><span class="line">    循环体</span><br><span class="line">until 条件 end repeat;</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delimiter //</span><br><span class="line">-- 创建过程 使用 while 循环输出 1 到 10 的累加和</span><br><span class="line">create procedure pro_demoRepeat(i int)</span><br><span class="line">begin</span><br><span class="line">    declare num int default 0;</span><br><span class="line">    declare sum int default 0;</span><br><span class="line">    # repeat 循环语法</span><br><span class="line">    repeat</span><br><span class="line">        set num = num + i;</span><br><span class="line">        set sum = sum + num;</span><br><span class="line">    until num &gt;= 10 end repeat;</span><br><span class="line">    select sum;</span><br><span class="line">end;</span><br><span class="line">-- 调用过程</span><br><span class="line">call pro_demoRepeat(1);</span><br></pre></td></tr></table></figure>

<p><strong>运行结果：55</strong></p>
<h2 id="3-总结"><a href="#3-总结" class="headerlink" title="3. 总结"></a>3. 总结</h2><ol>
<li>存储过程是一组为了完成特定功能的 SQL 语句集合，MySQL 从5.0版本之后开始支持存储过程。</li>
<li>存储过程具有安全性高、减少网络流量等优势，在实际项目开发过程中具有广泛的应用。</li>
<li>创建存储过程使用 CREATE PROCEDURE 结构，调用存储过程使用 CALL 关键字。</li>
<li>MySQL 存储过程支持多种控制语句，包括条件语句（ IF和 CASE ）、循环语句（WHILE、LOOP、REPEAT）。</li>
</ol>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL基础</title>
    <url>/2022/05/11/MySQL/MySQL/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-MySQL"><a href="#1-MySQL" class="headerlink" title="1. MySQL"></a>1. MySQL</h2><p>连接数据库的方式：服务器、本地</p>
<p>使用工具：Navicat、Microsoft SQL Server、DataGrip等</p>
<h3 id="1-1-MySQL-操作数据库"><a href="#1-1-MySQL-操作数据库" class="headerlink" title="1.1 MySQL 操作数据库"></a>1.1 MySQL 操作数据库</h3><ol>
<li>查看 MySQL 版本信息及当前用户</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT VERSION(),USER();</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>创建数据库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE 数据库名;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>查看数据库列表</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW DATABASES;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>选择数据库</li>
</ol>
<p>在操作数据之前，需要先选定表所在的数据库。选择数据库的语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">USE 数据库名;</span><br></pre></td></tr></table></figure>

<p>当选择不存在的数据库时，系统会报错：Unknown database ‘不存在的数据库名’</p>
<ol start="5">
<li>删除数据库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP DATABASE 数据库名;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-MySQL-数据类型"><a href="#1-2-MySQL-数据类型" class="headerlink" title="1.2 MySQL 数据类型"></a>1.2 MySQL 数据类型</h3><p>MySQL 中定义数据字段的类型对你数据库的优化是非常重要的。</p>
<p>MySQL 支持多种类型，大致可以分为三类：数值、日期/时间和字符串(字符)类型。</p>
<h4 id="1-2-1-数值类型"><a href="#1-2-1-数值类型" class="headerlink" title="1.2.1 数值类型"></a>1.2.1 数值类型</h4><p>笔记取自 <a href="https://www.runoob.com/mysql/mysql-data-types.html">MySQL 数据类型 | 菜鸟教程 (runoob.com)</a> </p>
<table>
<thead>
<tr>
<th>类型</th>
<th>大小</th>
<th>范围(有符号)</th>
<th>范围(无符号)</th>
<th>用途</th>
</tr>
</thead>
<tbody><tr>
<td>TINYINT</td>
<td>1 Bytes</td>
<td>(-126,127)</td>
<td>(0, 255)</td>
<td>小整数值</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>2 Bytes</td>
<td>(-32 768,32 767)</td>
<td>(0, 65 535)</td>
<td>大整数值</td>
</tr>
<tr>
<td>MEDIUMINT</td>
<td>3 Bytes</td>
<td>(-9 399 608, 8 388 607)</td>
<td>(0, 16 777 215)</td>
<td>大整数值</td>
</tr>
<tr>
<td>INT或INTEGER</td>
<td>4 Bytes</td>
<td>(-2 147 483 648，2 147 483 647)</td>
<td>(0，4 294 967 295)</td>
<td>大整数值</td>
</tr>
<tr>
<td>BIGINT</td>
<td>8 Bytes</td>
<td>(-9,223,372,036,854,775,808，9 223 372 036 854 775 807)</td>
<td>0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td>极大整数值</td>
</tr>
<tr>
<td>FLOAT</td>
<td>4 Bytes</td>
<td>(-3.402 823 466 E+38，-1.175 494 351 E-38)，0，(1.175 494 351 E-38，3.402 823 466 351 E+38)</td>
<td>0，(1.175 494 351 E-38，3.402 823 466 E+38)</td>
<td>单精度<br/>浮点数值</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>8 Bytes</td>
<td>(-1.797 693 134 862 315 7 E+308，-2.225 073 858 507 201 4 E-308)，0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>0，(2.225 073 858 507 201 4 E-308，1.797 693 134 862 315 7 E+308)</td>
<td>双精度<br/>浮点数值</td>
</tr>
<tr>
<td>DECIMAL</td>
<td>对DECIMAL(M,D) ，如果M&gt;D，为M+2否则为D+2</td>
<td>依赖于M和D的值</td>
<td>依赖于M和D的值</td>
<td>小数值</td>
</tr>
</tbody></table>
<h4 id="1-2-2-日期和时间类型"><a href="#1-2-2-日期和时间类型" class="headerlink" title="1.2.2 日期和时间类型"></a>1.2.2 日期和时间类型</h4><p>表示时间值的日期和时间类型为DATETIME、DATE、TIMESTAMP、TIME和、YEAR。</p>
<p>每个时间类型有 一个有效值范围和一个”零“值，当指定不合法的MySQL不能表示的值时使用”零“值。</p>
<p>TIMESTAMP类型有专有的自动更新特性，将在后面描述。</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">大小 ( bytes)</th>
<th align="left">范围</th>
<th align="left">格式</th>
<th align="left">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="left">DATE</td>
<td align="left">3</td>
<td align="left">1000-01-01/9999-12-31</td>
<td align="left">YYYY-MM-DD</td>
<td align="left">日期值</td>
</tr>
<tr>
<td align="left">TIME</td>
<td align="left">3</td>
<td align="left">‘-838:59:59’/‘838:59:59’</td>
<td align="left">HH:MM:SS</td>
<td align="left">时间值或持续时间</td>
</tr>
<tr>
<td align="left">YEAR</td>
<td align="left">1</td>
<td align="left">1901/2155</td>
<td align="left">YYYY</td>
<td align="left">年份值</td>
</tr>
<tr>
<td align="left">DATETIME</td>
<td align="left">8</td>
<td align="left">1000-01-01 00:00:00/9999-12-31 23:59:59</td>
<td align="left">YYYY-MM-DD HH:MM:SS</td>
<td align="left">混合日期和时间值</td>
</tr>
<tr>
<td align="left">TIMESTAMP</td>
<td align="left">4</td>
<td align="left">1970-01-01 00:00:00/2038结束时间是第 <strong>2147483647</strong> 秒，北京时间 <strong>2038-1-19 11:14:07</strong>，格林尼治时间 2038年1月19日 凌晨 03:14:07</td>
<td align="left">YYYYMMDD HHMMSS</td>
<td align="left">混合日期和时间值，时间戳</td>
</tr>
</tbody></table>
<h4 id="1-2-3-字符串类型"><a href="#1-2-3-字符串类型" class="headerlink" title="1.2.3 字符串类型"></a>1.2.3 字符串类型</h4><p>字符串类型指CHAR、VARCHAR、BINARY、VARBINARY、BLOB、TEXT、ENUM和SET。该节描述了这些类型如何工作以及如何在查询中使用这些类型。</p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">大小</th>
<th align="left">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="left">CHAR</td>
<td align="left">0-255 bytes</td>
<td align="left">固定长度字符串</td>
</tr>
<tr>
<td align="left">VARCHAR</td>
<td align="left">0-65535 bytes</td>
<td align="left">可变长度字符串</td>
</tr>
<tr>
<td align="left">TINYBLOB</td>
<td align="left">0-255 bytes</td>
<td align="left">不超过 255 个字符的二进制字符串</td>
</tr>
<tr>
<td align="left">TINYTEXT</td>
<td align="left">0-255 bytes</td>
<td align="left">短文本字符串</td>
</tr>
<tr>
<td align="left">BLOB</td>
<td align="left">0-65 535 bytes</td>
<td align="left">二进制形式的长文本数据</td>
</tr>
<tr>
<td align="left">TEXT</td>
<td align="left">0-65 535 bytes</td>
<td align="left">长文本数据</td>
</tr>
<tr>
<td align="left">MEDIUMBLOB</td>
<td align="left">0-16 777 215 bytes</td>
<td align="left">二进制形式的中等长度文本数据</td>
</tr>
<tr>
<td align="left">MEDIUMTEXT</td>
<td align="left">0-16 777 215 bytes</td>
<td align="left">中等长度文本数据</td>
</tr>
<tr>
<td align="left">LONGBLOB</td>
<td align="left">0-4 294 967 295 bytes</td>
<td align="left">二进制形式的极大文本数据</td>
</tr>
<tr>
<td align="left">LONGTEXT</td>
<td align="left">0-4 294 967 295 bytes</td>
<td align="left">极大文本数据</td>
</tr>
</tbody></table>
<p><strong>注意</strong>：char(n) 和 varchar(n) 中括号中 n 代表字符的个数，并不代表字节个数，比如 CHAR(30) 就可以存储 30 个字符。</p>
<p>CHAR 和 VARCHAR 类型类似，但它们保存和检索的方式不同。它们的最大长度和是否尾部空格被保留等方面也不同。在存储或检索过程中不进行大小写转换。</p>
<p>BINARY 和 VARBINARY 类似于 CHAR 和 VARCHAR，不同的是它们包含二进制字符串而不要非二进制字符串。也就是说，它们包含字节字符串而不是字符字符串。这说明它们没有字符集，并且排序和比较基于列值字节的数值值。</p>
<p>BLOB 是一个二进制大对象，可以容纳可变数量的数据。有 4 种 BLOB 类型：TINYBLOB、BLOB、MEDIUMBLOB 和 LONGBLOB。它们区别在于可容纳存储范围不同。</p>
<p>有 4 种 TEXT 类型：TINYTEXT、TEXT、MEDIUMTEXT 和 LONGTEXT。对应的这 4 种 BLOB 类型，可存储的最大长度不同，可根据实际情况选择。</p>
<h3 id="1-3-MySQL-创建数据表"><a href="#1-3-MySQL-创建数据表" class="headerlink" title="1.3 MySQL 创建数据表"></a>1.3 MySQL 创建数据表</h3><p>创建MySQL数据表需要以下信息：</p>
<ul>
<li>表名</li>
<li>表字段名</li>
<li>定义每个表字段</li>
</ul>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>以下为创建MySQL数据表的SQL通用语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE [IF NOT EXISTS] 表名 (</span><br><span class="line">    字段1 数据类型 [字段属性 | 约束] [索引] [字段备注],</span><br><span class="line">    字段2 数据类型 [字段属性 | 约束] [索引] [字段备注],</span><br><span class="line">    ……</span><br><span class="line">)[表类型][表字符集][表备注];</span><br></pre></td></tr></table></figure>

<p>如：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE IF NOT EXISTS `student`(</span><br><span class="line">   `studentNo` INT(4) UNSIGNED AUTO_INCREMENT NOT NULL COMMENT &#x27;学号&#x27;,</span><br><span class="line">   `studentName` VARCHAR(50) NOT NULL COMMENT &#x27;学生姓名&#x27;,</span><br><span class="line">   `submission_date` DATE,</span><br><span class="line">   PRIMARY KEY ( `runoob_id` )</span><br><span class="line">)ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT=&#x27;学生表&#x27;;</span><br></pre></td></tr></table></figure>

<p>实例解析：</p>
<ul>
<li>IF NOT EXISTS 配合创建表使用，意为如果此表不存在，则创建，反之报错。</li>
<li>字段之间使用逗号(,)分隔，而最后一个字段无需使用逗号。</li>
<li>当SQL语句中出现的数据库名、表名或字段名与保留字冲突时，可以使用撇号 `` 括起来避免冲突。</li>
<li>如果你不想字段为 <strong>NULL</strong> 可以设置字段的属性为 <strong>NOT NULL</strong>， 在操作数据库时如果输入该字段的数据为<strong>NULL</strong> ，就会报错。</li>
<li>COMMENT 用于字段备注，也可用于表备注。</li>
<li>AUTO_INCREMENT定义列为自增的属性，一般用于主键，数值会自动加1。</li>
<li>PRIMARY KEY(PK)关键字用于定义列为主键。 您可以使用多列来定义主键，列间以逗号分隔。</li>
<li>ENGINE 设置存储引擎，CHARSET 设置编码。</li>
</ul>
<p>除此解析之外，还须补充的有：</p>
<p>MySQL注释</p>
<ul>
<li>单行注释：# ……</li>
<li>多行注释：/* …… */</li>
</ul>
<p>字段的约束和属性</p>
<ul>
<li><p>外键约束： FOREIGN KEY(FK) ——用于在两表之间建立关系，需要指定引用主表的某一字段。</p>
</li>
<li><p>默认约束：DEFAULT —— 保证字段总会有值，即使没有插入值，也有默认值。例如学生表中的家庭地址信息，若为填写，可默认设置为地址不详。</p>
</li>
<li><p>唯一约束：UNIQUE KEY(UK) —— 设置字段的值是唯一的。允许为空，但只能有一个空值，如学生的身份证号。</p>
</li>
</ul>
<h3 id="1-4-查看表"><a href="#1-4-查看表" class="headerlink" title="1.4 查看表"></a>1.4 查看表</h3><p>用于查看数据库中存在的表。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW tables;</span><br></pre></td></tr></table></figure>

<p>需注意的是，在使用SHOW table语句之前，必须先选择数据库，否则将会给出错误提示 ”No database selected“</p>
<h3 id="1-5-删除表"><a href="#1-5-删除表" class="headerlink" title="1.5 删除表"></a>1.5 删除表</h3><p>用于删除数据库中存在的表。语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DROP TABLE [IF EXISTS] 表名;</span><br></pre></td></tr></table></figure>

<p>需注意的是，如果要删除的表是空表，那便可以直接删除。如果要删除的表中已存储数据，需注意所建立的约束以及表与表之间的关系，不然会对数据带有一定影响。</p>
<h3 id="1-6-MySQL的存储引擎"><a href="#1-6-MySQL的存储引擎" class="headerlink" title="1.6 MySQL的存储引擎"></a>1.6 MySQL的存储引擎</h3><ol>
<li><strong>存储引擎的类型</strong></li>
</ol>
<p>MyISAM、InnoDB 、Memory、CSV等9种</p>
<ol start="2">
<li><strong>MyISAM与InnoDB类型主要区别</strong></li>
</ol>
<p>适用场合</p>
<ul>
<li>使用MyISAM:   不需事务，空间小，以查询访问为主</li>
<li>使用InnoDB:   多删除、更新操作，安全性高，事务处理及并发控制 </li>
</ul>
<ol start="3">
<li><strong>查看当前默认存储引擎</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SHOW VARIABLES LIKE ‘storage_engine%’;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li><p><strong>修改存储引擎</strong></p>
<p>修改<code>my.ini</code>配置文件</p>
</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">default-storage-engine= InnoDB</span><br></pre></td></tr></table></figure>

<ol start="5">
<li><strong>设置表的存储引擎</strong></li>
</ol>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE 表名(</span><br><span class="line">    #省略代码</span><br><span class="line">)ENGINE=存储引擎;</span><br></pre></td></tr></table></figure>

<h3 id="1-7-数据表的存储位置"><a href="#1-7-数据表的存储位置" class="headerlink" title="1.7 数据表的存储位置"></a>1.7 数据表的存储位置</h3><ol>
<li>MyISAM 类型表文件<pre><code>**.frm**：表结构定义文件
**.MYD**：数据文件
**.MYI**：索引文件
</code></pre>
</li>
<li>InnoDB 类型表文件<pre><code>**.frm**：表结构定义文件
ibdata1文件
</code></pre>
</li>
<li>  注意：存储位置  因操作系统而异，可查 my.ini</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">datadir=&quot;C:/ProgramData/MySQL/MySQL Server 5.5/Data/&quot;</span><br><span class="line">innodb_data_home_dir=&quot;D:/MySQL Datafiles/&quot;</span><br></pre></td></tr></table></figure>

<h2 id="2-MySQL系统帮助"><a href="#2-MySQL系统帮助" class="headerlink" title="2.MySQL系统帮助"></a>2.MySQL系统帮助</h2><p>  HELP 查询内容;<br>  HELP contents;<br>  HELP Data Types;<br>  HELP INT;</p>
<h3 id="2-1-补充：mysql-数值类型-中带符号的-无带符号的-区别"><a href="#2-1-补充：mysql-数值类型-中带符号的-无带符号的-区别" class="headerlink" title="2.1 补充：mysql 数值类型 中带符号的/无带符号的 区别"></a>2.1 补充：mysql 数值类型 中带符号的/无带符号的 区别</h3><p>带符号和无符号,顾名思义,就是是否有正负之分:<br>比如8为二进制,如果带符号,需要用1位表示符号(1表示负数,0表示正),剩下7位表示数据.<br>那么表示范围是-127—127(包括-0和+0).<br>如果不带符号,8位全部表示数据,<br>那么表示范围是 0–256</p>
<h3 id="2-1-补充：-mysql-有没有nvarchar-nchar"><a href="#2-1-补充：-mysql-有没有nvarchar-nchar" class="headerlink" title="2.1 补充：  mysql 有没有nvarchar nchar"></a>2.1 补充：  mysql 有没有nvarchar nchar</h3><p>有，但是，mysql采用utf-8编码,而传统的数据库采用unicode,一个汉字要用两个unicode的char,而在mysql中由于使用了utf-8,所以无论汉字还是字母,都是一个长度的char,所以就不用分nvarhcar和varchar了,一律作varchar</p>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Log4j2 日志</title>
    <url>/2022/05/24/MySQL/Log4j2%20%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Log4j2-日志"><a href="#Log4j2-日志" class="headerlink" title="Log4j2 日志"></a>Log4j2 日志</h2><p>Apache Log4j2 是 Log4j 的升级，对其前身 Log4j 1.x进行了重大改进，并提供了Logback 中可用的许多改进，同时修复了 Logback 架构中的一些固有问题。 </p>
<h3 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h3><p>Log4j2.13.0 及更高版本需要 Java 8。版本 2.4 到 2.12.1 需要 Java 7（Log4j 团队不再支持 Java 7）。某些功能需要可选的依赖项;这些功能的文档将指定所需的依赖项。</p>
<h3 id="Log4j2-的优势"><a href="#Log4j2-的优势" class="headerlink" title="Log4j2 的优势"></a>Log4j2 的优势</h3><ul>
<li>性能提升： 在多线程方案中，异步记录器 (异常)的吞吐量比 Log4j 1.x 和 Logback 高 18 倍，延迟低几个数量级。 </li>
<li>支持多个接口： 虽然Log4j 2 API将提供最佳性能，但Log4j 2提供了对Log4j 1.2，SLF4J，Commons Logging 和 java.util.logging（JUL）API的支持。 </li>
<li>自动重载配置： 参考Logback，与Logback一样，Log4j 2可以在修改时自动重新加载其配置。但与 Logback 不同的是，在重新配置发生时，它将在不丢失日志事件的情况下执行此操作。 </li>
<li>无垃圾：在稳态日志记录期间，Log4j 2 在独立应用程序中是<a href="https://logging.apache.org/log4j/2.x/manual/garbagefree.html">无垃圾</a>的，在 Web 应用程序中是低垃圾。这减少了垃圾回收器的压力，并可以提供更好的响应时间性能。</li>
</ul>
<blockquote>
<p>更多详细转看官网：<a href="https://logging.apache.org/log4j/2.x/index.html">Log4j – Apache Log4j 2</a> </p>
</blockquote>
<h3 id="配置Log4j2"><a href="#配置Log4j2" class="headerlink" title="配置Log4j2"></a>配置Log4j2</h3><p>在<code>src</code>下创建一个 log4j2.xml 文件，将以下代码添加进入即可</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="line">&lt;!--</span><br><span class="line">    status=<span class="string">&quot;warn&quot;</span> 日志框架本身的输出日志级别，可以修改为debug</span><br><span class="line">    monitorInterval=<span class="string">&quot;5&quot;</span> 自动加载配置文件的间隔时间，不低于 <span class="number">5</span> 秒；生产环境中修改配置文件，是热更新，无需重启应用</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;configuration status=<span class="string">&quot;warn&quot;</span> monitorInterval=<span class="string">&quot;5&quot;</span>&gt;</span><br><span class="line">    &lt;!--</span><br><span class="line">    集中配置属性进行管理</span><br><span class="line">    使用时通过:$&#123;name&#125;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;LOG_HOME&quot;</span>&gt;D:/logs&lt;/property&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- 日志处理 --&gt;</span><br><span class="line">    &lt;Appenders&gt;</span><br><span class="line">        &lt;!-- 控制台输出 appender，SYSTEM_OUT输出黑色，SYSTEM_ERR输出红色 --&gt;</span><br><span class="line">        &lt;Console name=<span class="string">&quot;Console&quot;</span> target=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span><br><span class="line">            &lt;PatternLayout pattern=<span class="string">&quot;%d&#123;HH:mm:ss.SSS&#125; [%t] [%-5level] %c&#123;36&#125;:%L --- %m%n&quot;</span> /&gt;</span><br><span class="line">        &lt;/Console&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!-- 日志文件输出 appender --&gt;</span><br><span class="line">        &lt;File name=<span class="string">&quot;file&quot;</span> fileName=<span class="string">&quot;$&#123;LOG_HOME&#125;/myfile.log&quot;</span>&gt;</span><br><span class="line">            &lt;PatternLayout pattern=<span class="string">&quot;[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] [%-5level] %l %c&#123;36&#125; - %m%n&quot;</span> /&gt;</span><br><span class="line">        &lt;/File&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!-- 使用随机读写流的日志文件输出 appender，性能提高 --&gt;</span><br><span class="line">        &lt;RandomAccessFile name=<span class="string">&quot;accessFile&quot;</span> fileName=<span class="string">&quot;$&#123;LOG_HOME&#125;/myAcclog.log&quot;</span>&gt;</span><br><span class="line">            &lt;PatternLayout pattern=<span class="string">&quot;[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] [%-5level] %l %c&#123;36&#125; - %m%n&quot;</span> /&gt;</span><br><span class="line">        &lt;/RandomAccessFile&gt;</span><br><span class="line"> </span><br><span class="line">        &lt;!-- 按照一定规则拆分的日志文件的appender --&gt;  &lt;!-- 拆分后的文件 --&gt;</span><br><span class="line">        &lt;!-- filePattern=<span class="string">&quot;$&#123;LOG_HOME&#125;/$$&#123;date:yyyy-MM-dd&#125;/myrollog-%d&#123;yyyy-MM-dd-HH-mm&#125;-%i.log&quot;</span>&gt; --&gt;</span><br><span class="line">        &lt;RollingFile name=<span class="string">&quot;rollingFile&quot;</span> fileName=<span class="string">&quot;$&#123;LOG_HOME&#125;/myrollog.log&quot;</span></span><br><span class="line">                     filePattern=<span class="string">&quot;$&#123;LOG_HOME&#125;/$$&#123;date:yyyy-MM-dd&#125;/myrollog-%d&#123;yyyy-MM-dd&#125;-%i.log&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 日志级别过滤器 --&gt;</span><br><span class="line">            &lt;ThresholdFilter level=<span class="string">&quot;debug&quot;</span> onMatch=<span class="string">&quot;ACCEPT&quot;</span> onMismatch=<span class="string">&quot;DENY&quot;</span> /&gt;</span><br><span class="line">            &lt;!-- 日志消息格式 --&gt;</span><br><span class="line">            &lt;PatternLayout pattern=<span class="string">&quot;[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] [%-5level] %l %c&#123;36&#125; - %msg%n&quot;</span> /&gt;</span><br><span class="line">            &lt;Policies&gt;</span><br><span class="line">                &lt;!-- 在系统启动时，出发拆分规则，生产一个新的日志文件 --&gt;</span><br><span class="line">                &lt;OnStartupTriggeringPolicy /&gt;</span><br><span class="line">                &lt;!-- 按照文件大小拆分，10MB --&gt;</span><br><span class="line">                &lt;SizeBasedTriggeringPolicy size=<span class="string">&quot;2MB&quot;</span> /&gt;</span><br><span class="line">                &lt;!-- 按照时间节点拆分，规则根据filePattern定义的 --&gt;</span><br><span class="line">                &lt;TimeBasedTriggeringPolicy /&gt;</span><br><span class="line">            &lt;/Policies&gt;</span><br><span class="line">            &lt;!-- 在同一个目录下，文件的个限定为 <span class="number">30</span>个，超过进行覆盖 --&gt;</span><br><span class="line">            &lt;DefaultRolloverStrategy max=<span class="string">&quot;10&quot;</span> /&gt;</span><br><span class="line">        &lt;/RollingFile&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;/Appenders&gt;</span><br><span class="line"> </span><br><span class="line">    &lt;!-- logger 定义 --&gt;</span><br><span class="line">    &lt;Loggers&gt;</span><br><span class="line">        &lt;!-- 使用 rootLogger 配置 日志级别 level=<span class="string">&quot;trace&quot;</span> --&gt;</span><br><span class="line">        &lt;Root level=<span class="string">&quot;trace&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 指定日志使用的处理器 --&gt;</span><br><span class="line">           &lt;!-- &lt;AppenderRef ref=<span class="string">&quot;Console&quot;</span> /&gt;--&gt;</span><br><span class="line">            &lt;AppenderRef ref=<span class="string">&quot;file&quot;</span> /&gt;</span><br><span class="line">            &lt;AppenderRef ref=<span class="string">&quot;rollingFile&quot;</span> /&gt;</span><br><span class="line">            &lt;AppenderRef ref=<span class="string">&quot;accessFile&quot;</span> /&gt;</span><br><span class="line">        &lt;/Root&gt;</span><br><span class="line">    &lt;/Loggers&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此处代码引自  <a href="https://blog.csdn.net/weixin_32265569/article/details/110723441">log4j2 的使用【超详细图文】_不埋雷的探长的博客-CSDN博客_log4j2</a> </p>
</blockquote>
<p>完成以上步骤后，接下来讲解如何使用 log4j2</p>
<h3 id="Log4j2-的使用"><a href="#Log4j2-的使用" class="headerlink" title="Log4j2 的使用"></a>Log4j2 的使用</h3><ol>
<li>导包</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>定义一个成员字段</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 获取Logger对象，调用方法记录日志</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LogManager.getLogger(Demo.class.getName());</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>编写代码</li>
</ol>
<p><img src="https://a.ideaopen.cn/Mercury/agtRfRfb.png" alt="img"></p>
<h3 id="日志级别"><a href="#日志级别" class="headerlink" title="日志级别"></a>日志级别</h3><p>Log4j2中日志有六个级别（level）：</p>
<ul>
<li><code>trace</code>：追踪，是最低的日志级别，相当于追踪程序的执行，一般不怎么使用</li>
<li><code>debug</code>：调试，一般在开发中，都将其设置为最低的日志级别</li>
<li><code>info</code>：信息，输出重要的信息，使用较多</li>
<li><code>warn</code>：警告，有些时候,虽然程序不会报错，但是还是需要告诉程序员的</li>
<li><code>error</code>：错误，这个在开发中也挺常用的</li>
<li><code>fatal</code>：严重错误，这个一旦发生，程序基本上也要停止了</li>
</ul>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>Log4j2日志</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL语法进阶</title>
    <url>/2022/05/11/MySQL/mysql%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-MySQL高级语法"><a href="#1-MySQL高级语法" class="headerlink" title="1.MySQL高级语法"></a>1.MySQL高级语法</h2><h3 id="1-1-修改表"><a href="#1-1-修改表" class="headerlink" title="1.1 修改表"></a>1.1 修改表</h3><ol>
<li>修改表名</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 旧表名 RENAME 新表名;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>添加字段</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 表名 ADD 字段名  数据类型  [属性];</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>修改字段</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 表名 CHANGE 原字段名 新字段名 数据类型 [属性];</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>删除字段</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 表名 DROP 字段名;</span><br></pre></td></tr></table></figure>



<h2 id="2、添加主键"><a href="#2、添加主键" class="headerlink" title="2、添加主键"></a>2、添加主键</h2><p>  <strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 表名 ADD CONSTRAINT 主键名 </span><br><span class="line">PRIMARY KEY 表名（主键字段）;</span><br></pre></td></tr></table></figure>

<p>  <strong>例：</strong>设置grade表中gradeId字段为主键</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE `grade` ADD CONSTRAINT `pk_grade` PRIMARY KEY `grade`(`gradeId`);</span><br></pre></td></tr></table></figure>



<h2 id="3、添加外键"><a href="#3、添加外键" class="headerlink" title="3、添加外键"></a>3、添加外键</h2><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ALTER TABLE 表名 ADD CONSTRAINT 外键名  FOREIGN KEY（外键字段）REFERENCES 关联表名（关联字段）;</span><br></pre></td></tr></table></figure>

<p><strong>例：</strong>将student表的gradeId字段和grade表的gradeId字段建立外键关联</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table `student`  add  constraint fk_student_grade foreign key(`gradeId`) </span><br><span class="line">references `grade` (`gradeId`);</span><br></pre></td></tr></table></figure>



<h2 id="4、DML语句–插入单条数据记录"><a href="#4、DML语句–插入单条数据记录" class="headerlink" title="4、DML语句–插入单条数据记录"></a>4、DML语句–插入单条数据记录</h2><p><strong>语法：</strong>INSERT INTO 表名 [(字段名列表)] VALUES (值列表);</p>
<p><strong>注意：</strong></p>
<ul>
<li>字段名是可选的，如省略则依次插入所有字段</li>
<li>多个列表和多个值之间使用逗号分隔</li>
<li>值列表和字段名列表一一对应</li>
<li>如插入的是表中部分数据，字段名列表必填</li>
</ul>
<p><strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INSERT INTO `student`(`loginPwd`,`studentName`,`gradeId`,`phone`,`bornDate`)</span><br><span class="line">VALUES(&#x27;123&#x27;,&#x27;黄小平&#x27;,1,&#x27;13956799999&#x27;,&#x27;1996-5-8&#x27;);</span><br></pre></td></tr></table></figure>



<h2 id="5、DML语句–插入多条数据记录"><a href="#5、DML语句–插入多条数据记录" class="headerlink" title="5、DML语句–插入多条数据记录"></a>5、DML语句–插入多条数据记录</h2><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INSERT INTO 新表（字段名列表）VALUES(值列表1),(值列表2),……,(值列表n);</span><br></pre></td></tr></table></figure>

<p><strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INSERT INTO `subject`(`subjectName`,`classHour`,`gradeID`)</span><br><span class="line">VALUES(&#x27;Logic Java&#x27;,220,1),(&#x27;HTML&#x27;,160,1),(&#x27;Java OOP&#x27;,230,2);</span><br></pre></td></tr></table></figure>

<p><strong>经验：</strong><br>      为避免表结构发生变化引发的错误，建议插入数据时写明具体字段名！</p>
<h2 id="6、DML语句——将查询结果插入新表"><a href="#6、DML语句——将查询结果插入新表" class="headerlink" title="6、DML语句——将查询结果插入新表"></a>6、DML语句——将查询结果插入新表</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">CREATE TABLE `phoneList`(</span><br><span class="line">    SELECT `studentName`,`phone`</span><br><span class="line">    FROM `student`</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>注：如新表已存在，将会报错！</p>
<h2 id="7、DML语句——数据更新、删除"><a href="#7、DML语句——数据更新、删除" class="headerlink" title="7、DML语句——数据更新、删除"></a>7、DML语句——数据更新、删除</h2><ol>
<li>更新数据记录</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update 表名 set 字段1=值1,字段2=值2,...,字段n=值n [where 条件];</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>删除数据记录</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">DELETE FROM 表名 [WHERE条件];</span><br><span class="line">TRUNCATE TABLE 表名;</span><br></pre></td></tr></table></figure>

<p>TRUNCATE语句删除后将重置自增列，表结构及其字段、约束、索引保持不变，执行速度比DELETE语句快。</p>
<h2 id="8、DQL语句"><a href="#8、DQL语句" class="headerlink" title="8、DQL语句"></a>8、DQL语句</h2><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT  &lt;字段名列表&gt;</span><br><span class="line">FROM  &lt;表名或视图&gt;</span><br><span class="line">[WHERE  &lt;查询条件&gt;]</span><br><span class="line">[GROUP BY &lt;分组的字段名&gt;]</span><br><span class="line">[HAVING &lt;条件&gt;]</span><br><span class="line">[ORDER BY &lt;排序的字段名&gt; [ASC 或 DESC]]</span><br></pre></td></tr></table></figure>


<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentNo`,`studentName`,`phone`,`address`,`bornDate` </span><br><span class="line">FROM `student`</span><br><span class="line">WHERE `gradeId` = 1</span><br><span class="line">ORDER BY studentNo;</span><br></pre></td></tr></table></figure>



<h2 id="9、LIMIT子句"><a href="#9、LIMIT子句" class="headerlink" title="9、LIMIT子句"></a>9、LIMIT子句</h2><p>MySQL查询语句中使用LIMIT子句限制结果集<br><strong>语法</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT  &lt;字段名列表&gt;</span><br><span class="line">FROM  &lt;表名或视图&gt;</span><br><span class="line">[WHERE  &lt;查询条件&gt;]</span><br><span class="line">[GROUP BY &lt;分组的字段名&gt;]</span><br><span class="line">[ORDER BY  &lt;排序的列名&gt; [ASC 或 DESC]]</span><br><span class="line">[LIMIT [位置偏移量, ]行数];</span><br></pre></td></tr></table></figure>

<p>  <strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentNo`,`studentName`,`phone`,`address`,`bornDate` </span><br><span class="line">FROM `student`</span><br><span class="line">WHERE `gradeId` = 1</span><br><span class="line">ORDER BY studentNo</span><br><span class="line">LIMIT 4,4; #(从第5条开始显示4条)</span><br></pre></td></tr></table></figure>

<p>  <strong>注：使用LIMIT子句时，注意第1条记录的位置是0！</strong></p>
<h2 id="10、常用函数——聚合函数"><a href="#10、常用函数——聚合函数" class="headerlink" title="10、常用函数——聚合函数"></a>10、常用函数——聚合函数</h2><p>  <strong>AVG()</strong> 返回某字段的平均值</p>
<p>  <strong>COUNT()</strong> 返回某字段的行数</p>
<p>  <strong>MAX()</strong> 返回某字段的最大值</p>
<p>  <strong>MIN()</strong> 返回某字段的最小值</p>
<p>  <strong>SUM()</strong> 返回某字段的和</p>
<h2 id="11、常用函数——字符串函数"><a href="#11、常用函数——字符串函数" class="headerlink" title="11、常用函数——字符串函数"></a>11、常用函数——字符串函数</h2><ol>
<li>CONCAT(str1,str1…strn)     字符串连接       SELECT CONCAT(‘My’,’S’,’QL’);    返回：MySQL</li>
<li>INSERT(str,pos,len,newstr)  字符串替换     SELECT INSERT( ‘这是SQL Server数据库’,3,10,’MySQL’);   返回：这是MySQL数据库</li>
<li>LOWER(str)     将字符串转为小写  SELECT LOWER(‘MySQL’);  返回：mysql</li>
<li>UPPER(str)    将字符串转为大写    SELECT UPPER(‘MySQL’);   返回：MYSQL</li>
<li>SUBSTRING(str,num,len)   字符串截取  SELECT SUBSTRING( ‘JavaMySQLOracle’,5,5);   返回：MySQL</li>
</ol>
<h2 id="12、常用函数——时间日期函数"><a href="#12、常用函数——时间日期函数" class="headerlink" title="12、常用函数——时间日期函数"></a>12、常用函数——时间日期函数</h2><p>CURDATE()  获取当前日期   SELECT CURDATE();返回：2016-08-08<br>CURTIME()  获取当前时间   SELECT CURTIME();  返回：19:19:26<br>NOW()   获取当前日期和时间   SELECT NOW();返回：2016-08-08 19:19:26<br>WEEK(date)  返回日期date为一年中的第几周  SELECT WEEK(NOW());<br>YEAR(date)  返回日期date的年份   SELECT YEAR(NOW());<br>HOUR(time)  返回时间time的小时值  SELECT HOUR(NOW());<br>DATEDIFF(date1,date2)  返回日期参数date1和date2之间相隔的天数  SELECT DATEDIFF(NOW(),’2008-8-8’);  返回：2881    </p>
<h2 id="13、常用函数——数学函数"><a href="#13、常用函数——数学函数" class="headerlink" title="13、常用函数——数学函数"></a>13、常用函数——数学函数</h2><p>CEIL(x)返回大于或等于数值x的最小整数   SELECT CEIL(2.3) 返回：3<br>FLOOR(x)  返回小于或等于数值x的最大整数  SELECT FLOOR(2.3) 返回：2<br>RAND()  返回0~1间的随机数  SELECT RAND()  返回：0.5525468583708134</p>
<h2 id="14、子查询"><a href="#14、子查询" class="headerlink" title="14、子查询"></a>14、子查询</h2><p><strong>1）子查询是一个嵌套在 SELECT、INSERT、UPDATE 或 DELETE 语句或其他子查询中的查询</strong><br><strong>2）子查询在WHERE语句中的一般用法</strong><br><strong>语法：</strong>SELECT … FROM 表1 WHERE 字段1  比较运算符(子查询)<br><strong>注：</strong>将子查询和比较运算符联合使用，必须保证子查询返回的值不能多于一个<br><strong>示例：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentNo`,`studentName`,`sex`,`bornDate`,`address`</span><br><span class="line"> FROM `student` </span><br><span class="line"> WHERE `bornDate` &gt; (SELECT `bornDate` FROM `student` WHERE `studentName`=&#x27;李斯文&#x27;);</span><br></pre></td></tr></table></figure>



<h2 id="15、使用子查询替换表连接"><a href="#15、使用子查询替换表连接" class="headerlink" title="15、使用子查询替换表连接"></a>15、使用子查询替换表连接</h2><p><strong>1）实现方法一：采用表连接</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentName` FROM `student` stu </span><br><span class="line"> INNER JOIN `result` r ON stu.studentNO = r.studentNo     	</span><br><span class="line"> INNER JOIN `subject` sub ON r.subjectNo = sub.subjectNo 	</span><br><span class="line">WHERE `studentResult` = 60 AND `subjectName` = &#x27;Logic Java&#x27;;</span><br></pre></td></tr></table></figure>

<p><strong>2）实现方法二：采用子查询</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentName` FROM `student` WHERE `studentNo` = (</span><br><span class="line">SELECT `studentNo` FROM `result` </span><br><span class="line">INNER JOIN `Subject` ON result.subjectNo= subject.subjectNo </span><br><span class="line"> WHERE `studentResult`=60 AND `subjectName`=&#x27;Logic Java&#x27;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>子查询比较灵活、方便，常作为增删改查的筛选条件，适合于操纵一个表的数据<br>表连接更适合于查看多表的数据</p>
<h2 id="16、IN子查询"><a href="#16、IN子查询" class="headerlink" title="16、IN子查询"></a>16、IN子查询</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SELECT `studentName` FROM `student` </span><br><span class="line">WHERE `studentNo` IN(</span><br><span class="line">    SELECT `studentNo` FROM `result` </span><br><span class="line">    WHERE `subjectNo` =  (</span><br><span class="line">        SELECT `subjectNo` FROM `subject`</span><br><span class="line">        WHERE `subjectName`=&#x27;Logic Java&#x27;</span><br><span class="line">    )AND `studentResult` = 60  </span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>常用IN替换等于（＝）的子查询<br>IN后面的子查询可以返回多条记录</p>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL —— SQL综合实战练习</title>
    <url>/2022/05/11/MySQL/SQL%E7%BB%BC%E5%90%88%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="SQL综合实战"><a href="#SQL综合实战" class="headerlink" title="SQL综合实战"></a>SQL综合实战</h2><h3 id="MySQL练习：职工表和部门表"><a href="#MySQL练习：职工表和部门表" class="headerlink" title="MySQL练习：职工表和部门表"></a>MySQL练习：职工表和部门表</h3><ol>
<li>创建数据库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create database if not exists `Firm`;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>使用数据库</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">use Firm;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>创建职工表</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 职工表</span><br><span class="line">CREATE TABLE if not exists emp(</span><br><span class="line">	empno INT comment &#x27;编号&#x27;,</span><br><span class="line">	ename VARCHAR(50) comment &#x27;姓名&#x27;,</span><br><span class="line">	job VARCHAR(50) comment &#x27;职务&#x27;,</span><br><span class="line">	mgr INT comment&#x27;上级&#x27;,</span><br><span class="line">	hiredate DATE comment &#x27;入职日期&#x27;,</span><br><span class="line">	sal DECIMAL(7,2) comment &#x27;薪资&#x27;,</span><br><span class="line">	comm DECIMAL(7,2) comment &#x27;奖金&#x27;,</span><br><span class="line">	deptno INT comment &#x27;部门编号&#x27;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>插入数据到职工表</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 新增数据</span><br><span class="line">INSERT INTO emp VALUES(7369,&#x27;SMITH&#x27;,&#x27;CLERK&#x27;,7902,&#x27;1980-12-17&#x27;,800,NULL,20);</span><br><span class="line">INSERT INTO emp VALUES(7499,&#x27;ALLEN&#x27;,&#x27;SALESMAN&#x27;,7698,&#x27;1981-02-20&#x27;,1600,300,30);</span><br><span class="line">INSERT INTO emp VALUES(7521,&#x27;WARD&#x27;,&#x27;SALESMAN&#x27;,7698,&#x27;1981-02-22&#x27;,1250,500,30);</span><br><span class="line">INSERT INTO emp VALUES(7566,&#x27;JONES&#x27;,&#x27;MANAGER&#x27;,7839,&#x27;1981-04-02&#x27;,2975,NULL,20);</span><br><span class="line">INSERT INTO emp VALUES(7654,&#x27;MARTIN&#x27;,&#x27;SALESMAN&#x27;,7698,&#x27;1981-09-28&#x27;,1250,1400,30);</span><br><span class="line">INSERT INTO emp VALUES(7698,&#x27;BLAKE&#x27;,&#x27;MANAGER&#x27;,7839,&#x27;1981-05-01&#x27;,2850,NULL,30);</span><br><span class="line">INSERT INTO emp VALUES(7782,&#x27;CLARK&#x27;,&#x27;MANAGER&#x27;,7839,&#x27;1981-06-09&#x27;,2450,NULL,10);</span><br><span class="line">INSERT INTO emp VALUES(7788,&#x27;SCOTT&#x27;,&#x27;ANALYST&#x27;,7566,&#x27;1987-04-19&#x27;,3000,NULL,20);</span><br><span class="line">INSERT INTO emp VALUES(7839,&#x27;KING&#x27;,&#x27;PRESIDENT&#x27;,NULL,&#x27;1981-11-17&#x27;,5000,NULL,10);</span><br><span class="line">INSERT INTO emp VALUES(7844,&#x27;TURNER&#x27;,&#x27;SALESMAN&#x27;,7698,&#x27;1981-09-08&#x27;,1500,0,30);</span><br><span class="line">INSERT INTO emp VALUES(7876,&#x27;ADAMS&#x27;,&#x27;CLERK&#x27;,7788,&#x27;1987-05-23&#x27;,1100,NULL,20);</span><br><span class="line">INSERT INTO emp VALUES(7900,&#x27;JAMES&#x27;,&#x27;CLERK&#x27;,7698,&#x27;1981-12-03&#x27;,950,NULL,30);</span><br><span class="line">INSERT INTO emp VALUES(7902,&#x27;FORD&#x27;,&#x27;ANALYST&#x27;,7566,&#x27;1981-12-03&#x27;,3000,NULL,20);</span><br><span class="line">INSERT INTO emp VALUES(7934,&#x27;MILLER&#x27;,&#x27;CLERK&#x27;,7782,&#x27;1982-01-23&#x27;,1300,NULL,10);</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>创建部门表</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 部门表</span><br><span class="line">CREATE TABLE dept(</span><br><span class="line">	deptno INT comment &#x27;部门编号&#x27;,</span><br><span class="line">	dname VARCHAR(14) comment &#x27;部门名称&#x27; ,</span><br><span class="line">	loc VARCHAR(13) comment &#x27;坐落城市&#x27;</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>插入数据到部门表</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 新增数据</span><br><span class="line">INSERT INTO dept VALUES(10, &#x27;ACCOUNTING&#x27;, &#x27;NEW YORK&#x27;);</span><br><span class="line">INSERT INTO dept VALUES(20, &#x27;RESEARCH&#x27;, &#x27;DALLAS&#x27;);</span><br><span class="line">INSERT INTO dept VALUES(30, &#x27;SALES&#x27;, &#x27;CHICAGO&#x27;);</span><br><span class="line">INSERT INTO dept VALUES(40, &#x27;OPERATIONS&#x27;, &#x27;BOSTON&#x27;);</span><br></pre></td></tr></table></figure>



<h3 id="题目："><a href="#题目：" class="headerlink" title="题目："></a>题目：</h3><p>详细的解题~~</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># 1、查询出高于10号部门的平均工资的员工信息</span><br><span class="line">    # 1.查询10部门的平均工资的员工信息</span><br><span class="line">select avg(sal) from emp where deptno = 10;</span><br><span class="line">    # 2.查询出高于10号部门的平均工资的员工信息</span><br><span class="line">select * from emp</span><br><span class="line">where sal &gt; (select avg(sal) from emp where deptno = 10);</span><br><span class="line"></span><br><span class="line"># 2、查询出比10号部门任何员工薪资高的员工信息</span><br><span class="line">    # 1.得到10部门最高薪资的员工信息</span><br><span class="line">select max(sal) from emp where deptno = 10;</span><br><span class="line">    # 2.得出结论 查询出比10号部门任何员工薪资高的员工信息</span><br><span class="line">select * from emp</span><br><span class="line">where sal &gt; (select max(sal) from emp where deptno = 10);</span><br><span class="line"></span><br><span class="line"># 3、和10号部门同名同工作的员工信息</span><br><span class="line">    # 1.得到10部门的姓名和工作</span><br><span class="line">select ename ,job from emp where deptno = 10;</span><br><span class="line">    # 2。查询和10号部门同名同工作的员工信息</span><br><span class="line">select * from emp where (ename,job) in (</span><br><span class="line">    (SELECT ename,job FROM emp WHERE deptno = 10)</span><br><span class="line">) and deptno != 10;</span><br><span class="line"></span><br><span class="line"># 4、获取员工的名字和部门的名字</span><br><span class="line">    # 1.查询员工姓名和部门信息</span><br><span class="line">select deptno as 部门,ename as 员工姓名 from emp;</span><br><span class="line">    # 2.得出结果</span><br><span class="line">select (select dname from dept where emp.deptno = dept.deptno) ,ename as 员工姓名 from emp;</span><br><span class="line"></span><br><span class="line"># 5、查询emp表中经理信息</span><br><span class="line">    # 1.查询emp表中经理信息</span><br><span class="line">select mgr from emp;</span><br><span class="line">    #2.得出结果</span><br><span class="line">SELECT * FROM emp as e</span><br><span class="line">inner join dept d</span><br><span class="line">on e.deptno = d.deptno</span><br><span class="line">where mgr;</span><br><span class="line"></span><br><span class="line"># 6、薪资高于10号部门平均工资的所有员工信息</span><br><span class="line">    # 1.查询10号部门所有员工的平均工资信息</span><br><span class="line">select avg(sal) from emp where deptno = 10;</span><br><span class="line">    # 2.查询薪资高于10号部门平均工资的所有员工信息</span><br><span class="line">select * from emp where sal &gt; (select avg(sal) from emp where deptno = 10) ;</span><br><span class="line"></span><br><span class="line"># 7、有哪些部门的平均工资高于30号部门的平均工资</span><br><span class="line">    #1.查询30号部门的平均工资</span><br><span class="line">select avg(sal) from emp where deptno = 30;</span><br><span class="line">    #2.查询高于30号部门的平均工资的部门平均工资</span><br><span class="line">select deptno</span><br><span class="line">from emp</span><br><span class="line">group by deptno</span><br><span class="line">having avg(sal) &gt; (</span><br><span class="line">    select avg(sal) from emp where deptno = 30</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 8、查询工资 &gt; JONES工资</span><br><span class="line">    #1.查询 JONES 的工资信息</span><br><span class="line">select sal from emp where ename = &#x27;JONES&#x27;;</span><br><span class="line">    #2.查询工资大于 JONES 的工资信息</span><br><span class="line">select sal</span><br><span class="line">from emp</span><br><span class="line">where sal &gt; (</span><br><span class="line">    select sal from emp where ename = &#x27;JONES&#x27;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 9、查询与SCOTT同一个部门的员工</span><br><span class="line">    #1.查询 SCOTT 的所处部门信息</span><br><span class="line">select deptno from emp where ename = &#x27;SCOTT&#x27;;</span><br><span class="line">    #2.查询与SCOTT同一个部门的员工信息</span><br><span class="line">select ename as 员工 ,deptno as 部门</span><br><span class="line">from emp</span><br><span class="line">where deptno = (</span><br><span class="line">    select deptno from emp where ename = &#x27;SCOTT&#x27;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 10、工资高于30号部门所有人的员工信息</span><br><span class="line">    #1.查询30号部门的工资信息</span><br><span class="line">select sal from emp where deptno = 30;</span><br><span class="line">    #2.查询工资大于30号部门的员工信息</span><br><span class="line">select *</span><br><span class="line">from emp</span><br><span class="line">where sal &gt; all(</span><br><span class="line">    select sal from emp where deptno = 30</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 11、查询工作和工资与MARTIN完全相同的员工信息</span><br><span class="line">    #1.查询名叫 MARTIN 的员工的工作与工资</span><br><span class="line">select job,sal from emp where ename = &#x27;MARTIN&#x27;;</span><br><span class="line">    #2.查询查询工作和工资与 MARTIN 完全相同的员工信息</span><br><span class="line">select * from emp where (job,sal) = (</span><br><span class="line">    select job,sal from emp where ename = &#x27;MARTIN&#x27;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 12、查询员工编号为7788的员工名称,员工工资,部门名称,部门地址</span><br><span class="line">    #1.将职工表和部门表链接起来</span><br><span class="line">select * from emp,dept where emp.deptno = dept.deptno;</span><br><span class="line">    #2.查询编号为7788的所有信息</span><br><span class="line">select * from emp,dept where emp.deptno = dept.deptno and empno = 7788;</span><br><span class="line">    #3.显示题目所需的信息</span><br><span class="line">select e.ename as 员工名称 ,e.sal as 员工工资 ,e.deptno as 部门名称 ,d.loc as 部门地址</span><br><span class="line">from emp as e</span><br><span class="line">inner join dept d</span><br><span class="line">on e.deptno = d.deptno</span><br><span class="line">where empno = 7788;</span><br><span class="line"></span><br><span class="line"># 13、查询出高于本部门平均工资的员工信息</span><br><span class="line">    #1.分组统计每个部门的平均工资</span><br><span class="line">    SELECT deptno,AVG(sal) FROM emp GROUP BY deptno;</span><br><span class="line">    #2.得出相应的结果</span><br><span class="line">select *</span><br><span class="line">from emp as e1</span><br><span class="line">where sal &gt; (</span><br><span class="line">    select avg(sal) from emp as e2 where e1.deptno = e2.deptno GROUP BY e2.deptno</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># 14、列出达拉斯加工作的人中,比纽约平均工资高的人</span><br><span class="line">    #1.容易理解的方法 —— 列出 达拉斯加 工作的人的信息</span><br><span class="line">SELECT * FROM emp WHERE deptno = (</span><br><span class="line">    SELECT deptno FROM dept WHERE loc = ‘DALLAS’</span><br><span class="line">);</span><br><span class="line">    #2.查询纽约的平均工资</span><br><span class="line">select avg(sal)</span><br><span class="line">from emp as e</span><br><span class="line">inner join dept d</span><br><span class="line">on e.deptno = d.deptno</span><br><span class="line">where d.loc = &#x27;NEW YORK&#x27;;</span><br><span class="line">    #3.得出结果</span><br><span class="line">SELECT *</span><br><span class="line">FROM emp</span><br><span class="line">WHERE deptno = (</span><br><span class="line">    SELECT deptno FROM dept WHERE loc = ‘DALLAS’</span><br><span class="line">) AND sal &gt; (</span><br><span class="line">    SELECT AVG(sal) FROM emp WHERE deptno = (SELECT deptno FROM dept WHERE loc = &#x27;NEW YORK&#x27;</span><br><span class="line">    )</span><br><span class="line">);</span><br><span class="line">    #4.高效率写法</span><br><span class="line">     # 1.将职工表和部门表连接起来</span><br><span class="line">select * from emp inner join dept;</span><br><span class="line">     #2.查询纽约的平均工资</span><br><span class="line">select avg(sal)</span><br><span class="line">from emp as e</span><br><span class="line">inner join dept d</span><br><span class="line">on e.deptno = d.deptno</span><br><span class="line">where d.loc = &#x27;NEW YORK&#x27;;</span><br><span class="line">     #3.列出 达拉斯加 工作的人的信息</span><br><span class="line">select * from dept as d inner join emp e</span><br><span class="line">on d.deptno = e.deptno</span><br><span class="line">where d.loc = &#x27;DALLAS&#x27;;</span><br><span class="line">     #4.得出结果</span><br><span class="line">select *</span><br><span class="line">from emp inner join dept</span><br><span class="line">where sal &gt; (</span><br><span class="line">    select avg(sal)</span><br><span class="line">    from emp as e inner join dept d</span><br><span class="line">    on e.deptno = d.deptno where d.loc = &#x27;NEW YORK&#x27;</span><br><span class="line">) AND emp.deptno = dept.deptno and dept.loc = &#x27;DALLAS&#x27;;</span><br><span class="line"></span><br><span class="line"># 15、查询7369员工编号,姓名,经理编号和经理姓名</span><br><span class="line">select e.empno as 员工编号 , e.ename as 姓名 , e.mgr as 经理编号 ,e2.ename</span><br><span class="line">from emp as e inner join emp as e2</span><br><span class="line">on e.mgr = e2.empno</span><br><span class="line">where e.empno = 7369;</span><br><span class="line"></span><br><span class="line"># 16、查询出各个部门薪水最高的员工所有信息</span><br><span class="line">    #1.分组统计每个部门员工最高的薪资是多少</span><br><span class="line">SELECT MAX(sal),deptno FROM emp GROUP BY deptno;</span><br><span class="line">    #2.得出结果</span><br><span class="line">select *</span><br><span class="line">from emp as e1</span><br><span class="line">where e1.sal = (</span><br><span class="line">    select max(sal) from emp as e2 where e1.deptno = e2.deptno group by e2.deptno</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>遇事不决 可问春风</title>
    <url>/2022/05/11/Life/%E9%81%87%E4%BA%8B%E4%B8%8D%E5%86%B3%20%E5%8F%AF%E9%97%AE%E6%98%A5%E9%A3%8E/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>每当我们感到迷茫了，便会心烦意乱，每天心不在焉，对自己也少了些自信，多了些自负，遇到事情，犹豫不决。</p>
<p>这时候我们就会去寻找一个答案，寻找一个解答自己内心疑惑的答案，寻找，那个曾经自信的自己。</p>
<p>面对生活的种种刁难以及磨难，我们伤痕累累，我们苦不堪言。而在我走出丧气的那些日子里，我也渐渐明白了一个道理：世界以痛吻我，要我报之以歌。</p>
<p>人活一世，面对人生，我们都有着不同的选择，而不论我们选择了怎样的人生，只要尽力地接纳生活所赋予自己的一切，让每一天都有所值，我觉得这样就足够了。</p>
<blockquote>
<p>每个人都有自己的活法<br> 你有你的繁华似锦，我有我的岁月静好<br> 轰烈有轰烈的迷人，平淡有平淡的趣味<br> 不是所有的鲜花都开在春天<br> 不是所有的河流都奔向大海<br> 鲜花开在四季，河流奔向八方。<br> 每一种选择，都是一种人生模式<br> 而所谓的命运，就是在这一次又一次的<br> 选择中所得出的结果<br> 人生就是随着时间的流逝逐渐认识自我的过程<br> 途中有收获也有失去，而不论结果如何 都要自己去面对<br> 生活对你最好的温柔<br> 是不被情绪打扰<br> 没来由的自信以及夜夜好眠。<br> 遇事不决，可问春风，春风不语，既随本心。<br> 往自己心里感到踏实的地方走<br> 就不会错<br> 来自知乎：一路向东的学子 链接：<a href="https://zhuanlan.zhihu.com/p/401208627">https://zhuanlan.zhihu.com/p/401208627</a> 的一段话。</p>
</blockquote>
]]></content>
      <categories>
        <category>生活</category>
      </categories>
      <tags>
        <tag>人生</tag>
        <tag>文章</tag>
      </tags>
  </entry>
  <entry>
    <title>谈艺考经历</title>
    <url>/2022/03/18/Life/ArtExam/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="谈艺考经历"><a href="#谈艺考经历" class="headerlink" title="谈艺考经历"></a>谈艺考经历</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p><strong>2020年5月初</strong>，地点永州，那时<strong>高三</strong>刚开学没多久，长沙某艺校的音乐老师来到我校做艺考宣传，之后来到我们班宣传， 了解了一番+试课后，我的内心兵荒马乱。</p>
<p>那时，我又心动了。</p>
<p><strong>高二下半学期</strong>时，执行分班制，分班后，原来的音乐课代表<strong>转走</strong>了，而我喜欢唱歌、听歌，跟同学们相处也融洽，便很荣幸的<strong>当选</strong>了班上的音乐课代表。</p>
<p>在高二下半学期的某节的音乐课，老师没有像往常那样，坐在讲台放任我们不管，让我们自己放歌听，然后时不时下来巡逻巡逻、转一转。而是坐下后便在班上问道：”有没有人想上来唱唱歌，露一手的？”</p>
<p>这时班上便热闹起来了，大家都开始起哄，时不时有人叫叫我的名字，想让我上台展示展示。这时的我还有许些放不开，眼睛到处瞟。这时看见唐 (我的同学，这里给他化名为唐) 在向我打手势，意会我跟他一起上台。</p>
<p>内心做了一番斗争后，便和唐一起上台了，跟唐合唱薛之谦的歌曲。大概唱完一两首后，同学廖(这里化名廖)参与我们，三个人合唱着薛之谦的歌曲，等我们唱完后，老师把我们叫了出去</p>
<p>老师让我们三个围在一起，然后对我们说道：”你们三个音色蛮不错的，有兴趣学音乐吗？”</p>
<p>我心动了。当时的我很既开心又担心，开心的是我有这个机会，担心的是，了解到学习音乐<strong>耗钱</strong>，可我家并不富裕。</p>
<p>后来经过几番周折，我们三个都没有同意老师的邀请。唐是家里不同意学音乐，廖是对音乐，只是唱着开心，而我，是担心学不好，到时候会浪费很多钱。</p>
<p><strong>时间回到高三</strong>，艺校老师来我校宣传了艺考后，我开始内心挣扎，因为学艺术会减分，而我的成绩不好，可以靠艺术来弥补，即使我的成绩不好，但这也是一个机会。不过我对自己并不自信。对此我找班主任谈心，班主任语重心长的跟我说：”担心钱的问题，说明你懂事，是个好孩子，而现阶段也正是人生的第一个十字路口，眼前的费钱跟改变命运的机会相比，哪个更重要？当然是改变命运的机会 。”</p>
<p>后来在深思熟虑以及老师的建议下我在艺校招生的表单下毅然填下了我的名字，随之唐成功说服家人，我两跟着我们学校的音乐、舞蹈班一起，我们踏上了这条”命运”路，<strong>少年的梦悄然启航。</strong></p>
<p>2020年7月20日凌晨，到达学校，坐的大巴车，学校地较偏，坐了十几个小时，大巴车的气味很难闻，加上我还晕车，吐了两次，也是十分的难受。这是我第一次来到长沙，内心激动与忧虑交杂。</p>
<p><strong>这是我最压抑的一段日子。</strong></p>
<p>是的，这是我最压抑的一段日子。在没来之前，以为音乐只是唱歌，来了之后才知道，分<strong>小三门</strong>(视唱、乐理、练耳)和主专业(民族、美声、流行)。我们学校仅有三个音乐班，一班和二班，还有个乐器班，我在一班(现在还没有按成绩分班)。老师很少，只有三个(小三门的专业老师)，视唱、练耳两个老师各教管一个班(两位老师视唱、练耳都精通)，乐理一个老师照顾两个班。我的同学大部分都是有基础、学过的，而我只是个零基础小白。刚开始的时候，脑子不够用，课程跟不上，为了追赶进度，我成为了最后离开教室的那个人。</p>
<p>他们玩，我学习；他们午休，我学习；他们休息，我学习。以这样的状态持续了两周，发现有些吃不消，精神状态下降了不少，我意识到这样不行，<strong>需要合理安排时间。</strong></p>
<p>这时放假时间一天，每周周日。</p>
<p>值得开心的是，刚开始，老师都很负责，很关心班上的每一个人，给不懂的、零基础的补课，不收费用。</p>
<p>即便这样，我的成绩也不理想。后来渐渐忙了，老师们没空补课，两位视唱练耳老师会换着班上课，不过我们班的主视唱练耳老师对我们班不上心，因为分了一次班，一班原来他喜欢的学生分到二班去了，现在的一班，成绩普遍都不好，二班的同学普遍成绩都很好，所以他对二班更喜欢，对我们班就有些敷衍了，我们班的人也有些讨厌他了，因为不负责嘛。对比二班的老师很负责，也很有耐心，教学质量也好，我们很喜欢他来上课。</p>
<p>乐理老师发现了这个问题，随即老师们便开了一个会，然后我们班主视唱老师，就对我们说道理，他说：”其实我对我们班也很上心的对不对？”之类的屁道理，不过因为这次开会，他收敛了许多，对我们班也上心了一些。</p>
<p><strong>我有很多问题不懂</strong>，我旁边安排了个学习较好的女同学，有这机会当然不能浪费，我不会的问题便向她请教，但她对于我的问题很敷衍，有次对我说让我自己翻书。经过那一次问问题，我之后都没有问过她，也不再想跟她有交流。有一回我在写乐理，她在旁边聊天，聊天对象是我高中学校音乐班的同学，我跟他没什么交流，就见面会打招呼，是一个有礼貌。只听见我的同桌对他说:”xxx(我)不会做题，你不去教教他？”，然后他笑着说：”你是她同桌，你不教他谁教他？”听到这时我挺无语的，对此我对我的同桌有些偏见。</p>
<p>没过多久发生了一件事，让我们班的人很<strong>愤怒</strong>。</p>
<p>这天二班的视唱老师来上课，校长来听课了，看到我们班的人表现的很不好，有些生气，就指责老师，怪是老师的错，就把老师调走了。而我们班的人都知道，是因为我们的问题，并不是老师的问题。对此我很难过，因为我喜欢他的上课方式以及教学方法。</p>
<p>大概来到这里两个月左右，学校进行<strong>分班</strong>，按成绩分，主要改变是，分成一、二、三班，我分在二班，一班由原一班老师为班主任，兼视唱练耳，而我们班乐理老师为班主任，视唱练耳一班老师来教，而三班谁来管理呢？那就要说到之前没有解释的乐器班。乐器班有三个老师，三人负责乐器、乐理、视唱、练耳。而乐器班，管理很严。</p>
<p>怎么个严法？三班老师用午休时间来补习他们班学生的练耳(这里阐述一下练耳，简单来说就是听出钢琴弹出来的音，便写下来，当然弹钢琴是有范围的，考试是用音响、广播播放音频)，以及没有完成每日任务的不许回寝室。我们一班二班的学生，都是学生们互相练习，不过这样严格才好提高学生学习的劲，后来我们班的一些人去三班蹭音频听练耳，提高自己的练耳水平，其中当然包括我。</p>
<p>我的眼里渐渐没了光，脸上的笑容也鲜有了，独来独往（朋友不在一个班）穿梭在琴房与教室，也懒得与同学有多的交流（我觉得班上的同学们学习方法不行，浪费了很多时间），沉默了很多。这时我们的时间很紧，同学们都每天睡4、5个小时。</p>
<p>这时放假时间为两周放假一天</p>
<p>我们一周一次考试，安排在每周六，考完晚上就能出成绩，某次考完后，朋友跟我说，她的专业老师说我坏话，看到我的成绩后，把我当做反面教材，说学成我这样早点回家，在这里浪费时间也浪费钱。而我对她的专业老师是很尊敬的，听到时，真的很压抑，很憋屈。</p>
<p>有天我在琴房等主专业老师(我的主专业老师是外地的，学校里两个流行老师，一男一女，我跟唐是外地老师的学生)来上课，老师来了后，问我：”听xx(监督、管理我们的老师)说，我跟唐没怎么练习啊？”听到这时我挺委屈的，但我没有怪老师，老师的语气只是试探性的问，委屈的是，有没有练习，有没有努力我自个明白，xx怎么能随便的否认我呢。</p>
<p><strong>可能会有人觉得我这样似乎很矫情，</strong>不如大方些，那么在乎别人的感受干嘛。想说的是，每个人对事情的看法不同，对我来说记住这些经历，时刻鞭策自己，虽然这样过的很难受，不过这样很适合我，给了我很大的动力。</p>
<p><strong>不管别人怎么说，请不要忘记所有。</strong>我对自己说道，我在尽力做好每一件事，同时也在警戒自己，<strong>不要感动自己。</strong>所幸我没有辜负每一天。</p>
<p>离12月份艺考还有<strong>2个月</strong>时，学校把班级合并了，还是成绩制的分为一、二班，我还是在二班。乐理老师还是班主任，但不同的是，视唱练耳老师变成了我高中的音乐老师(很牛的)，乐器班的老师也来到我们班了。乐器班的老师乐理试卷、音频资源很足，在每天几套音频、几套试卷以及新老师的滋润下，我的成绩如上楼梯般，一步一步的增长。</p>
<p>这时放假时间为两周放假半天</p>
<p>过了一段时间，某天考试，校长来听我们歌唱水平，在听完我的演唱后，眉头紧皱很不开心的样子，我就知到事情不简单了。写到这时，对于校长的介绍还很少，他是一个，主观意识很强的人，同时他也是一个很成功的人。校长学的是编曲，音乐方面在长沙也是有着一定地位（他自己说的），而立的年纪，开的是奔驰，他的音乐历程很艰苦，很努力，可以说是年轻人的模范（由于我怕说错他的故事，因为记得不太多，便不说）。校长把我的专业老师换成我们学校的男流行老师，但我对我的专业老师有信心，对此我反馈了我的专业老师并不差，只是我太笨（老师是在这里兼职，只带了我跟唐两个学生，他在他的城市也有学生，都很优秀，有些学生开歌唱社以及办演唱活动了）。在这里也是想对专业老师说声对不起，让您失望了。</p>
<p>过了两天我便问新专业老师我什么时候上课，他哼笑了一声，说了句嘲讽的话，便转身离开了（前段时间找了我跟唐，说要不要来他那里学习，我跟唐礼貌的拒绝了）。我那会嫉妒厌恶他，听到那话时我去闹了一场。校方找到我跟他谈话，说是误会，是我理解错了，误解了，呵，眼睛是不会骗人的，只不过身在屋檐下，不得不低头，咬咬牙，也就还有一个月了。</p>
<p><strong>距离艺考还有一个月</strong>，学校举行元旦汇演，其中有一首歌曲，由流行专业学生一起合唱的歌曲，唯独我跟唐没有参加。因为没人通知我们两个。当班主任和同学问到我们两个为什么没有参加，以及有同学对此事还议论我们两时，我跟唐是很无奈的，因为没人通知我们（据了解他们都有被通知），我们不知情，总不能没有不请自来吧。不过倒也无所谓了。</p>
<p>这时放假时间为两周放假一个小时</p>
<p>艺考渐渐接近，在这里时间过的很快，每天都很充实，我的小三门成绩挤进上游，成了一匹黑马。不过比较不满的是，专业，已经尽力了，成绩一般不过及格应该没问题（歌唱有很大进步，老师们都觉得及格应该没问题）。</p>
<p>艺考<strong>结束了</strong>，我的小三门很好，主专业成绩不理想，也是很遗憾。艺考对于大多数人来说便不是一条捷径，相反走上了一条更艰苦的路。很多成绩好的同学考的不太理想，我们都对此考试称大型运气场考试。</p>
<p>在这里学到了很多东西，也认识了很多人，交了几个好朋友，真心祝愿他们能够越来越好，也希望我能够慢慢释怀，与自己和解。</p>
]]></content>
      <categories>
        <category>艺考</category>
      </categories>
      <tags>
        <tag>文章</tag>
        <tag>艺考</tag>
      </tags>
  </entry>
  <entry>
    <title>Java I/O</title>
    <url>/2022/04/27/Java/Java/Java%20IO%20%E6%B5%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="Java-I-O-流"><a href="#Java-I-O-流" class="headerlink" title="Java I/O 流"></a>Java I/O 流</h2><h3 id="1-File类"><a href="#1-File类" class="headerlink" title="1.File类"></a>1.File类</h3><p>Java文件类以<strong>抽象</strong>的方式代表文件名和目录路径名。该类主要用于文件和目录的<strong>创建</strong>、文件的<strong>查找</strong>和文件的<strong>删除</strong>等。</p>
<p>File对象代表磁盘中实际存在的文件和目录。通过以下<strong>构造方法</strong>创建一个File对象。</p>
<ol>
<li>通过给定的父抽象路径名和子路径名字符串创建一个新的<code>File</code>实例。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File(File parent, String child)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>通过将给路径名字符串转换成抽象路径名来创建一个新<code>File</code>示例。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File(String pathname)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>根据<code>parent</code>路径名字符串和<code>child</code>路径字符串创建一个新<code>File</code>示例。</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">File(String parent, String child)</span><br></pre></td></tr></table></figure>

<p> 创建<code>File</code>对象成功后，可以使用以下列表中的<strong>方法</strong>操作文件。 </p>
<p><img src="https://a.ideaopen.cn/Mercury/zKZ3OunF.png" alt="img"></p>
<p><strong>File类创建功能</strong></p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>public boolean createNewFile()</td>
<td>当具有该名称的文件不存在时，创建一个由该抽象路径名命名的新空文件</td>
</tr>
<tr>
<td>public boolean mkdir()</td>
<td>创建由此抽象路径名命名的目录</td>
</tr>
<tr>
<td>public boolean mkdirs()</td>
<td>创建由此抽象路径名命名的目录，包括任何必需但不存在的父目录</td>
</tr>
</tbody></table>
<p>下面演示File对象的一些方法的使用</p>
<p><strong>创建文件</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\demo.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(file.createNewFile());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回true</p>
<p><strong>创建目录</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\Demo&quot;</span>);</span><br><span class="line">        System.out.println(file.mkdir());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回true</p>
<p><strong>创建多级目录</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\Demo\\Demo1&quot;</span>);</span><br><span class="line">        System.out.println(file.mkdir());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回true</p>
<p><strong>在某目录下创建文件</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\Demo\\demo.txt&quot;</span>);</span><br><span class="line">        System.out.println(file.createNewFile());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>返回true</p>
<p><strong>判断文件……</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\test.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//判断文件是否存在</span></span><br><span class="line">        <span class="keyword">if</span>(file.exists())&#123;</span><br><span class="line">            <span class="comment">//判断是否是文件</span></span><br><span class="line">            <span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;文件名：&quot;</span> + file.getName() + <span class="string">&quot;，文件长度：&quot;</span> + file.length() + <span class="string">&quot;字节。&quot;</span>);</span><br><span class="line">                System.out.println(<span class="string">&quot;文件路径：&quot;</span> + file.getPath());</span><br><span class="line">                System.out.println(<span class="string">&quot;文件绝对路径：&quot;</span> + file.getAbsolutePath());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//判断是否是目录</span></span><br><span class="line">            <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;此文件是目录&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;此文件不存在！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">文件名：test.txt，文件长度：10字节。</span><br><span class="line">文件路径：D:\J\test.txt</span><br><span class="line">文件绝对路径：D:\J\test.txt</span><br></pre></td></tr></table></figure>

<h3 id="2-IO-流概述"><a href="#2-IO-流概述" class="headerlink" title="2. IO 流概述"></a>2. IO 流概述</h3><p>IO流概述</p>
<ul>
<li><p>I 即 input，指读入操作，O 即 output，指写出操作。</p>
</li>
<li><p>流：是一种抽象概念，是对数据传输的总称。也就是说数据在设备间的传输称为流，流的本质是<strong>数据传输</strong></p>
</li>
</ul>
<p>IO流分类：</p>
<ul>
<li>按照数据的流向<ul>
<li>输入流：读数据</li>
<li>输出流：写数据</li>
</ul>
</li>
<li>按照数据类型来分<ul>
<li>字节流：字节输入流；字节输出流</li>
<li>字符流：字符输入流；字符输出流</li>
</ul>
</li>
</ul>
<p>一般来说，我们说IO流的分类是按照<strong>数据类型</strong>来分的</p>
<p>那么这两种流都在上面情况下使用呢？</p>
<ul>
<li>如果数据通过Window自带的记事本软件打开，我们还可以读懂里面的内容(不是乱码)，就使用字符流，否则使用字节流。如果你不知道该使用哪种类型的流，就使用字节流</li>
</ul>
<h3 id="3-字节流"><a href="#3-字节流" class="headerlink" title="3. 字节流"></a>3. 字节流</h3><p>java.io 包中的流按<strong>存储单元</strong>分类主要有<strong>字节流</strong>和<strong>字符流</strong>两大类，两类都具有输入/输出操作。它们各自的<strong>基类</strong>如下图所示，这些基类均为<strong>抽象类</strong>。</p>
<p><img src="https://a.ideaopen.cn/Mercury/NPDh69w0.png" alt="img"></p>
<h4 id="一、字节输出流基类-OutputStearm"><a href="#一、字节输出流基类-OutputStearm" class="headerlink" title="一、字节输出流基类 - OutputStearm"></a>一、字节输出流基类 - OutputStearm</h4><p>该类用来<strong>创建一个文件</strong>并向文件中<strong>写数据</strong>。</p>
<p>此抽象类是表示输出字节流的所有类的超类。输出流接受输出字节并将这些字节发送到某个接收器。 </p>
<p>如果该流在打开文件进行输出前，目标文件不存在，那么该流会创建该文件。</p>
<p>有两个构造方法可以用来创建 FileOutputStream 对象。 </p>
<ol>
<li>使用字符串类型的文件名来创建一个输出流对象</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">OutputStream</span> <span class="variable">fOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\java\\helloword&quot;</span>)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>也可以使用一个文件对象来创建一个输出流来写文件，我们首先得使用File()方法</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\java\\helloword&quot;</span>)</span><br><span class="line"><span class="type">OutputStream</span> <span class="variable">fOut</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file);</span><br></pre></td></tr></table></figure>

<p><strong>注意定义文件路径时，可以用“//”或者“\”。</strong></p>
<p><strong>并且在创建一个文件时，如果目录下有同名文件将被覆盖。</strong></p>
<p>创建OutputStream 对象完成后，就可以使用下面的方法来写入流或者进行其他的流操作。 </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>void close()</td>
<td>关闭输出流</td>
</tr>
<tr>
<td>void flush()</td>
<td>刷新缓冲区</td>
</tr>
<tr>
<td>void write(byte[] b)</td>
<td>将某个byte数组写入数据流</td>
</tr>
<tr>
<td>void write(byte[] b,int off,int len)</td>
<td>将某个指定范围的byte数组写入数据流</td>
</tr>
<tr>
<td>void write(int b)</td>
<td>将一个字节流数据写入数据流</td>
</tr>
</tbody></table>
<p>除了OutputStream外，还有一些其他的输出流，更多的细节参考下面链接：</p>
<ul>
<li><a href="https://www.runoob.com/java/java-bytearrayoutputstream.html">ByteArrayOutputStream</a></li>
<li><a href="https://www.runoob.com/java/java-dataoutputstream.html">DataOutputStream</a></li>
</ul>
<h4 id="二、字节输出流FileOutputStream类"><a href="#二、字节输出流FileOutputStream类" class="headerlink" title="二、字节输出流FileOutputStream类"></a>二、字节输出流FileOutputStream类</h4><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FileOutputStream(File file)</td>
<td>用于创建向指定File对象写数据的文件输出流。file：指定目标文件的对象</td>
</tr>
<tr>
<td>FileOutputStream(String name)</td>
<td>用于创建向指定路径的文件写数据输出流。 name：指定目标文件的路径字符串。</td>
</tr>
<tr>
<td>FileOutputStream(String name,boolean append)</td>
<td>创建一个指定路径的文件写入数据的文件输出流。 name：指定目标文件的路径字符串。 append：表示是否在文件末尾追加数据，若为true则表示可以在文件末尾追加数据</td>
</tr>
</tbody></table>
<p>结合OutputStearm和FileOutputStream类演示</p>
<p>使用步骤</p>
<ul>
<li>创建字节输出流对象</li>
<li>调用字节输出流对象的写数据方法</li>
<li>释放资源(关闭文件输出流)</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建文件</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\java\\helloword&quot;</span>)</span><br><span class="line">            <span class="comment">//创建文件输出流对象</span></span><br><span class="line">            fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//执行写操作 准备一个字符串</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;I miss you&quot;</span>;</span><br><span class="line">            <span class="comment">//使用String类中的getBytes()方法将String转换成字节数组</span></span><br><span class="line">            <span class="type">byte</span>[] word = str.getBytes();</span><br><span class="line">            <span class="comment">//将某个指定范围的byte数组写入数据流</span></span><br><span class="line">            fos.write(word,<span class="number">0</span>,word.length);</span><br><span class="line">            <span class="comment">//信息提示</span></span><br><span class="line">            System.out.println(<span class="string">&quot;文件已写入成功！&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关闭输出流</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(fos!=<span class="literal">null</span>)&#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行以上代码后，打开文档查看运行结果，<strong>重复执行</strong>，可实现向文件末尾继续追加数据。运行结果如下</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">I MISS YOU I MISS YOU</span><br></pre></td></tr></table></figure>

<p><strong>字节流写数据的小问题</strong></p>
<p>字节流写数据如何实现换行呢？</p>
<ul>
<li>写完数据后，加换行符<ul>
<li>windows:\r\n</li>
<li>linux:\n</li>
<li>mac:\r</li>
</ul>
</li>
</ul>
<h3 id="3-3-字节输入流基类：InputStream"><a href="#3-3-字节输入流基类：InputStream" class="headerlink" title="3.3 字节输入流基类：InputStream"></a>3.3 字节输入流基类：InputStream</h3><p>该流用于从文件读取数据，它的对象可以用关键字 new 来创建。</p>
<p>有多种构造方法可用来创建对象。</p>
<p>可以使用字符串类型的文件名来创建一个输入流对象来读取文件：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;C:/java/hello&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>也可以使用一个文件对象来创建一个输入流对象来读取文件。我们首先得使用 File() 方法来创建一个文件对象： </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;C:/java/hello&quot;</span>);</span><br><span class="line"><span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(f);</span><br></pre></td></tr></table></figure>

<p>创建了InputStream对象，就可以使用下面的方法来读取流或者进行其他的流操作。</p>
<p><img src="https://a.ideaopen.cn/Mercury/UnnnNqod.png" alt="img"></p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建字节输入流</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//将File对象（即地址）给到FileInputStream</span></span><br><span class="line">            fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file);</span><br><span class="line">            <span class="comment">//创建字节数组</span></span><br><span class="line">            <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="comment">//输出字节数组</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, len));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上文中，我们已经写入了一个I MISS YOU</p>
<p>我们现在这段代码，将会输出文件中的内容。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">((len = fis.read(bytes)) != -<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><strong>len</strong> 定义的是一个数值，而 <strong>read()</strong> 方法，是读取到整个文件里面内容的字节长度，就像数组的 **length() **一样。除可以以字节为一个读取单元外，还可以以字节数组为一个读取单元，实现每次读取多个字节，提高读取文件数据的效率，这里便是以字节数组为读取单元。</p>
<p>而 <strong>!= -1</strong> ，如果值为 <strong>-1</strong>，那么这个文件可以说是没有数据的，也就没必要输出了。</p>
<p><strong>字节流小结</strong></p>
<p>字节流一般是用于读取二进制文件，如音频、图片，而大片的文字内容还是交给字符流吧 </p>
<h3 id="3-4-字符流"><a href="#3-4-字符流" class="headerlink" title="3.4 字符流"></a>3.4 字符流</h3><p>字符流的常用方法</p>
<p><img src="https://a.ideaopen.cn/Mercury/Pjw1KVHH.png" alt="img"></p>
<h4 id="字符输入流-FileWriter"><a href="#字符输入流-FileWriter" class="headerlink" title="字符输入流 FileWriter"></a>字符输入流 FileWriter</h4><p>Java 提供了<strong>写入</strong>字符文件的便捷类——FileWriter，该类的构造方法有如下 4 种重载形式。 </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FileWriter(File file)</td>
<td>在指定 File 对象的情况下构造一个 FileWriter 对象。其中，file 表示要写入数据的 File 对象。</td>
</tr>
<tr>
<td>FileWriter(File file,boolean append)</td>
<td>在指定 File 对象的情况下构造一个 FileWriter 对象，如果 append 的值为 true，则将字节写入文件末尾，而不是写入文件开始处。</td>
</tr>
<tr>
<td>FileWriter(String fileName)</td>
<td>在指定文件名的情况下构造一个 FileWriter 对象。其中，fileName 表示要写入字符的文件名，表示的是完整路径。</td>
</tr>
<tr>
<td>FileWriter(String fileName,boolean append)</td>
<td>在指定文件名以及要写入文件的位置的情况下构造 FileWriter 对象。其中，append 是一个 boolean 值，如果为 true，则将数据写入文件末尾，而不是文件开始处。</td>
</tr>
</tbody></table>
<p>话不多说，演示！</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IoDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;HelloWord&quot;</span>;</span><br><span class="line">        <span class="comment">//创建File对象 这里要提前创建一个文件</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\test.txt&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//将str用writer写入文件</span></span><br><span class="line">            <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file);</span><br><span class="line">            fw.write(str);</span><br><span class="line">            <span class="comment">//关闭流，字符流必须关闭流才可以输出</span></span><br><span class="line">            fw.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行后打开文档查看：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">HelloWord</span><br></pre></td></tr></table></figure>

<h3 id="3-5-FileReader（字符输出流）"><a href="#3-5-FileReader（字符输出流）" class="headerlink" title="3.5 FileReader（字符输出流）"></a>3.5 FileReader（字符输出流）</h3><p>为了读取方便，Java 提供了用来读取字符文件的便捷类——FileReader。FileReader类的构造方法有如下两种重载形式</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FileReader(File file)</td>
<td>在给定要读取数据的文件的情况下创建一个新的 FileReader 对象。其中，file 表示要从中读取数据的文件</td>
</tr>
<tr>
<td>FileReader(String fileName)</td>
<td>在给定从中读取数据的文件名的情况下创建一个新 FileReader 对象。其中，fileName 表示要从中读取数据的文件的名称，表示的是一个文件的完整路径</td>
</tr>
</tbody></table>
<p>字符流和字节流的操作步骤是相同的，都是首先创建输入流或输出流对象，建立完成后进行读或写操作，最后关闭输入/输出流通道。 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//输出文件内容</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//创建输入字符流</span></span><br><span class="line">    <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(file);</span><br><span class="line">    <span class="comment">//输出文件内容</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">ch</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> ((ch = fr.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="comment">//使用char遍历字符数据 将读取的内容强制转换为char类型</span></span><br><span class="line">        System.out.print((<span class="type">char</span>)ch);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//关闭流</span></span><br><span class="line">    fr.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h3 id="3-6-缓冲流"><a href="#3-6-缓冲流" class="headerlink" title="3.6 缓冲流"></a>3.6 缓冲流</h3><p><strong>字符缓冲区输入流</strong></p>
<p>BufferedReader类是Reader类的子类，它与FileReader类的区别在于BufferedReader类有缓冲区，它可以先把一批数据读到缓冲区中，接下来操作都是从缓冲区内获取数据，避免每次都从数据源读取数据进行字符编码转换，从而提高操作的效率。</p>
<p>BufferedReader 类的构造方法有如下两种重载形式 </p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>BufferedReader(Reader in)</td>
<td>创建一个 BufferedReader 来修饰参数 in 指定的字符输入流</td>
</tr>
<tr>
<td>BufferedReader(Reader in,int size)</td>
<td>创建一个 BufferedReader 来修饰参数 in 指定的字符输入流，参数 size 则用于指定缓冲区的大小，单位为字符</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 创建 FileReader 对象</span></span><br><span class="line">            fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\J\\text.txt&quot;</span>);</span><br><span class="line">            <span class="comment">// 创建 BufferedReader 对象</span></span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">            System.out.println(<span class="string">&quot;D:\\myJava\\book.txt 文件中的内容如下：&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">strLine</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="comment">// 循环读取每行数据</span></span><br><span class="line">            <span class="keyword">while</span> ((strLine = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                System.out.println(strLine);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e1) &#123;</span><br><span class="line">            e1.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fr.close(); <span class="comment">// 关闭 FileReader 对象</span></span><br><span class="line">                br.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>字符流缓区输出流</strong></p>
<p>BufferedWriter 类主要用于辅助其他字符输出流，它同样带有缓冲区，可以先将一批数据写入缓冲区，当缓冲区满了以后，再将缓冲区的数据一次性写到字符输出流，从而提高了IO流操作的执行效率。 </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IoDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建File对象</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\J\\test.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//创建缓冲流</span></span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建FileWriter对象</span></span><br><span class="line">            <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(file);</span><br><span class="line">            <span class="comment">//创建BufferedWriter对象</span></span><br><span class="line">            bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">            <span class="comment">//写入一首诗分四次写入</span></span><br><span class="line">            bw.write(<span class="string">&quot;鹅鹅鹅，&quot;</span>);</span><br><span class="line">            bw.write(<span class="string">&quot;曲项向天歌。&quot;</span>);</span><br><span class="line">            bw.write(<span class="string">&quot;白毛浮绿水，&quot;</span>);</span><br><span class="line">            bw.write(<span class="string">&quot;红掌拨清波。&quot;</span>);</span><br><span class="line">            <span class="comment">//刷新缓冲区</span></span><br><span class="line">            bw.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//省略异常处理语句</span></span><br><span class="line">            bw.close();</span><br><span class="line">            fw.colose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-7-序列化和反序列化"><a href="#3-7-序列化和反序列化" class="headerlink" title="3.7 序列化和反序列化"></a>3.7 序列化和反序列化</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><p>序列化和反序列化的定义：</p>
<ul>
<li>Java序列化就是指把Java对象转换为字节序列的过程</li>
<li>Java反序列化就是指把字节序列恢复为Java对象的过程</li>
</ul>
<p>序列化是这个过程的第一部分，将数据分解成字节流，以便存储在文件中或在网络上传输。反序列化就是打开字节流并重构对象。对象序列化不仅要将基本数据类型转换成字节表示，有时还要恢复数据。恢复数据要求有恢复数据的对象实例。</p>
<h4 id="一、对象的序列化主要用途"><a href="#一、对象的序列化主要用途" class="headerlink" title="一、对象的序列化主要用途"></a>一、对象的序列化主要用途</h4><p> 　1） 把对象的字节序列永久地保存到硬盘上，通常存放在一个文件中；<br> 　2） 在网络上传送对象的字节序列  </p>
<p>在很多应用中，需要对某些对象进行序列化，让它们离开内存空间，入住物理硬盘，以便长期保存。比如最常见的是Web服务器中的Session对象，当有 10万用户并发访问，就有可能出现10万个Session对象，内存可能吃不消，于是Web容器就会把一些seesion先序列化到硬盘中，等要用了，再把保存在硬盘中的对象还原到内存中。</p>
<p>当两个进程在进行远程通信时，彼此可以发送各种类型的数据。无论是何种类型的数据，都会以<strong>二进制序列</strong>的形式在网络上传送。发送方需要把这个Java对象转换为<strong>字节序列</strong>，才能在网络上传送；接收方则需要把字节序列再<strong>恢复</strong>为Java对象。</p>
<h4 id="二、Java实现序列化和反序列化的过程"><a href="#二、Java实现序列化和反序列化的过程" class="headerlink" title="二、Java实现序列化和反序列化的过程"></a>二、Java实现序列化和反序列化的过程</h4><ol>
<li><p>只有实现了<code>Serialzable</code>或<code>Externalizable</code>接口的类的对象才能被序列化为字节序列(不是则会抛出 NotSerializableException 异常)。</p>
</li>
<li><p>Java类库中的序列化API</p>
<p>① java.io.ObjectInputStream：对象输入流</p>
<p>该类的readObject()方法从一个输入流中读取字节序列，在把他们反序列化为一个对象并将其返回。</p>
<p>② java.io.ObjectOutputStream：对象输出流  </p>
<p>该类的writeObject(Object obj)方法可对参数指定的obj对象进行序列化，把得到的字节序列写到一个目标输出流中。</p>
</li>
</ol>
<h4 id="三、序列化和反序列化代码示例"><a href="#三、序列化和反序列化代码示例" class="headerlink" title="三、序列化和反序列化代码示例"></a>三、序列化和反序列化代码示例</h4><p>对象输出流<code>ObjectOutputStream</code>实现序列化演示：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="comment">//private static final long serialVersionUID = 1L;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//省略字段封装</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;，年龄：&quot;</span> + <span class="built_in">this</span>.age + <span class="string">&quot;，性别：&quot;</span> + sex + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在上面的代码中，因为Persoon类已经实现了<code>Serializable</code>接口，所以此类的对象可以被序列化的，而如果完成序列化操作，就还需要依靠对象输出流，它可以将对象转成二进制字节数据输出到文件中保存。</p>
<blockquote>
<p> 对象序列化和反序列化操作可能会遇到<strong>版本兼容性</strong>问题，要考虑JDK版本，所以在序列化操作引入了一个<code>serialVersionUID</code>的常量，可通过此常量来验证版本的一致性。在进行反序列化时，JVM会把传来的字节流中的<code>serialVersionUID</code>与本地相应实体(类)的<code>serialVersionUID</code>进行比较。如果二者相同，便认定版本一致，可以进行反序列化，否则就会出现版本不一致的异常。</p>
<p>当实现java.io.Serializable接口的类没有显示定义名为<code>serialVersionUID</code>、类型为long的变量时，Java序列化机制在编译时会自动生成一个此版本的<code>serialVersionUID</code>常量。如果不希望通过编译自动生成，也可以直接显式定义这个变量。</p>
<p>例如，可以在Person类中加入一下常量：</p>
<p>private static final long serialVersionUID = 1L;</p>
</blockquote>
<p>一个对象如果进行序列化输出，则需要使用ObjectOutputStream类，此类的常用方法如下表所示</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>描述</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>ObjectOu tputStream(OutputStream out)</td>
<td>创建对象输出流对象</td>
<td>构造方法</td>
</tr>
<tr>
<td>final void writeObject(Object obj)</td>
<td>将指定对象写入流</td>
<td>实例方法</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="comment">//private static final long serialVersionUID = 1L;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//省略字段封装</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age, String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;，年龄：&quot;</span> + <span class="built_in">this</span>.age + <span class="string">&quot;，性别：&quot;</span> + sex + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectOutput</span>  <span class="variable">ojb</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建ObjectOutputStream输出流</span></span><br><span class="line">            ojb = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\person.bat&quot;</span>));</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;杰克&quot;</span>,<span class="number">20</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            <span class="comment">//对象序列化，写入输出流</span></span><br><span class="line">            ojb.writeObject(person);</span><br><span class="line">            System.out.println(<span class="string">&quot;序列化成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ojb != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ojb.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行完毕后，使用记事本打开，person.bat保存的内容全部是二进制数据，不可以直接修改文件本身，否则会造成数据丢失。</p>
<p>上面实例时将一个对象(Person)保存到文件中，当我们需要保存多个对象时，该怎么办呢？这时候就可以结合使用集合对象啦！</p>
<p>直接上代码！</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="comment">//private static final long serialVersionUID = 1L;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//省略字段封装</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age, String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;，年龄：&quot;</span> + <span class="built_in">this</span>.age + <span class="string">&quot;，性别：&quot;</span> + sex + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectOutput</span>  <span class="variable">ojb</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建ObjectOutputStream输出流</span></span><br><span class="line">            ojb = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\person.bat&quot;</span>));</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;杰克&quot;</span>,<span class="number">20</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;约翰&quot;</span>,<span class="number">25</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            ArrayList&lt;Person&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Person&gt;();</span><br><span class="line">            list.add(person);</span><br><span class="line">            list.add(person2);</span><br><span class="line">            <span class="comment">//对象序列化(多个对象)，写入输出流</span></span><br><span class="line">            ojb.writeObject(list);</span><br><span class="line">            System.out.println(<span class="string">&quot;序列化成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ojb != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ojb.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面来总结一下序列化实现步骤。</p>
<h4 id="实现序列化的操作步骤"><a href="#实现序列化的操作步骤" class="headerlink" title="实现序列化的操作步骤"></a>实现序列化的操作步骤</h4><ol>
<li>导入相关类</li>
<li>创建可序列化的类，要求实现<code>Serialzable</code>接口</li>
<li>创建一个对象输出/输入流</li>
<li>通过对象的对象输出/输入流的 readObject() 方法写对象，也就是输出可序列化对象</li>
<li>关闭对象输出流</li>
</ol>
<p><strong>对象输入流ObjectInputStream实现反序列化</strong></p>
<p>通过反序列化，可以将存储在文件上的对象信息读取出来，然后重新构建为对象。这样就不需要再将文件上的信息一一读取、并分析，重新组织为对象。</p>
<p>执行反序列化操作需使用对象输出流<code>ObjectInputStream</code>，它可以直接把序列化后的对象还原。<code>ObjectInputStream</code>常用方法如下表</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>ObjectInputStream(InputStream in)</td>
<td>创建对象输入流对象</td>
<td>构造方法</td>
</tr>
<tr>
<td>final Object readObject()</td>
<td>从指定位置读对象</td>
<td>实例方法</td>
</tr>
</tbody></table>
<p>使用对象输入流ObjectInputStream将上面实例的Person类实现反序列化将数据读取出来</p>
<p>先序列化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="comment">//private static final long serialVersionUID = 1L;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String sex;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//省略字段封装</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name, <span class="type">int</span> age, String sex)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.sex = sex;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;，年龄：&quot;</span> + <span class="built_in">this</span>.age + <span class="string">&quot;，性别：&quot;</span> + sex + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectOutput</span>  <span class="variable">ojb</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建ObjectOutputStream输出流</span></span><br><span class="line">            ojb = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\person.bat&quot;</span>));</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;杰克&quot;</span>,<span class="number">20</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            <span class="comment">//对象序列化，写入输出流</span></span><br><span class="line">            ojb.writeObject(person);</span><br><span class="line">            System.out.println(<span class="string">&quot;序列化成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ojb != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ojb.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行之后</p>
<p>单个对象 进行反序列化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ois = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\person.bat&quot;</span>));</span><br><span class="line">            <span class="comment">//反序列化，进行强制类型转换</span></span><br><span class="line">            <span class="type">Person</span> <span class="variable">per</span> <span class="operator">=</span> (Person) ois.readObject();</span><br><span class="line">            <span class="comment">//输出转换反序列化后的对象信息</span></span><br><span class="line">            per.print();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;  <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ois != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ois.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">姓名：杰克，年龄：20，性别：男。</span><br></pre></td></tr></table></figure>

<p>多个对象 这里新创建一个文件 pers.bat 来演示</p>
<p>序列化</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SerializableObj</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectOutput</span> <span class="variable">ojb</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//创建ObjectOutputStream输出流</span></span><br><span class="line">            ojb = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\pers.bat&quot;</span>));</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;杰克&quot;</span>,<span class="number">20</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;约翰&quot;</span>,<span class="number">25</span>,<span class="string">&quot;男&quot;</span>);</span><br><span class="line">            ArrayList&lt;Person&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Person&gt;();</span><br><span class="line">            list.add(person);</span><br><span class="line">            list.add(person2);</span><br><span class="line">            <span class="comment">//对象序列化(多个对象)，写入输出流</span></span><br><span class="line">            ojb.writeObject(list);</span><br><span class="line">            System.out.println(<span class="string">&quot;序列化成功！&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ojb != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ojb.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行之后</p>
<p>反序列化：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            ois = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\J\\面向对象编程\\IO流\\pers.bat&quot;</span>));</span><br><span class="line">            <span class="comment">//反序列化，进行强制类型转换</span></span><br><span class="line">            ArrayList&lt;Person&gt; list = (ArrayList&lt;Person&gt;) ois.readObject();</span><br><span class="line">            <span class="comment">//输出转换反序列后的对象信息 多个对象</span></span><br><span class="line">            <span class="keyword">for</span> (Person person:list)&#123;</span><br><span class="line">                person.print();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;  <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ois != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ois.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>综上所述，使用对象流ObjectInputStream序列化对象的主要步骤如下：</p>
<ol>
<li>导入相关类</li>
<li>创建一个对象输入流。它可以包装一个其他类型的输入流，如文件输出流FileInputStream</li>
<li>通过对象输入流的readObject()方法写对象。该方法返回一个Object()对象，如果确定该Object对象的真实类型，则可以将该对象强制类型转换成真实类型</li>
<li>关闭对象输入流</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ul>
<li>File 类用来访问文件和目录</li>
<li>流，是指一连串流动的字符，是以先进先出的方式发送和接受数据的通道。Java中的I/O流正是实现文件读写的基础，它可以方便地实现数据的输入和输出</li>
<li>流具有明确的方向性，按照流向来分，其可以分为输入流和输出流。</li>
<li>按照处理单元划分，Java中的流可分为字节流和字节流。</li>
<li>按照流的角色划分，Java中的流可分为节点流和处理流。</li>
<li>FileInputStream 和 FileOutputStream 实现以字节流的方式读写文本文件。</li>
<li>FileWriter 类 和FileReader 类实现以字符流的方式读写文本文件。</li>
<li>BufferedWriter 类和 BufferedReader 类为字符缓冲流，具有缓冲区，执行效率更高。</li>
<li>DateaInputStream 和 DataOutputStram 可用于读写二进制文件</li>
<li>序列化就是将对象的状态存储到特定的存储介质中的过程，也就是将对象转换为可保持或可传输格式的过程。反序列化是将存储介质中的数据重新构建称对象的过程。</li>
<li>序列化和反序列化需要使用对象输入/输出流 ObjectInputStream 和 ObjectOutputStream。</li>
</ul>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>IO流</tag>
      </tags>
  </entry>
  <entry>
    <title>对象和封装</title>
    <url>/2022/04/01/Java/Java/%E5%AF%B9%E8%B1%A1%E5%92%8C%E5%B0%81%E8%A3%85/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-构造方法"><a href="#1-构造方法" class="headerlink" title="1. 构造方法"></a>1. 构造方法</h2><h3 id="1-1-理解构造方法"><a href="#1-1-理解构造方法" class="headerlink" title="1.1 理解构造方法"></a>1.1 理解构造方法</h3><p>构造方法是一种特殊的方法，用于完成对象的初始化。</p>
<h3 id="1-2-定义构造方法的语法："><a href="#1-2-定义构造方法的语法：" class="headerlink" title="1.2 定义构造方法的语法："></a>1.2 定义构造方法的语法：</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[访问修饰符] 方法名 ( [参数列表] )&#123;</span><br><span class="line">    <span class="comment">//方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-定义构造方法的注意事项"><a href="#1-3-定义构造方法的注意事项" class="headerlink" title="1.3  定义构造方法的注意事项"></a>1.3  定义构造方法的注意事项</h3><p>构造方法的名称必须和类名<strong>相同</strong>，但是<strong>没有</strong>返回值类型。</p>
<h3 id="1-4-默认构造方法"><a href="#1-4-默认构造方法" class="headerlink" title="1.4 默认构造方法"></a>1.4 默认构造方法</h3><p>事实上，在Java中，每一个类都至少有一个构造方法。如果没有创建，则系统会自动创建一个<strong>默认</strong>的构造方法。默认构造方法是<strong>没有</strong>参数的，而且在方法体中没有代码。</p>
<h3 id="1-5-自定义构造方法"><a href="#1-5-自定义构造方法" class="headerlink" title="1.5 自定义构造方法"></a>1.5 自定义构造方法</h3><p>另外，在构造方法的定义中参数列表是可选的，因此可以定义无参构造方法，也可以定义带参构造方法，统称<strong>自定义构造方法</strong>，下面来了解无参以及有参构造方法。</p>
<h3 id="1-6-无参构造方法"><a href="#1-6-无参构造方法" class="headerlink" title="1.6 无参构造方法"></a>1.6 无参构造方法</h3><p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 苹果树类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppleTree</span> &#123;</span><br><span class="line">    <span class="comment">//名称</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;苹果树&quot;</span>;           </span><br><span class="line">    <span class="comment">//品种</span></span><br><span class="line">    <span class="keyword">public</span> String brand;                    </span><br><span class="line">    </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 类的无参构造方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">AppleTree</span><span class="params">()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">this</span>.brand = <span class="string">&quot;富士&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 输出苹果类信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;*****作物特性*****&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;您种植了&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;属于水果作物，品种：&quot;</span> + <span class="built_in">this</span>.brand+<span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">AppleTree</span> <span class="variable">appleTree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AppleTree</span>();</span><br><span class="line">        appleTree.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>运行结果为：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/tiYLIyx6.png" alt="img"></p>
<p>如果想更清楚直观的了解对象创建的过程，可通过<strong>调试</strong>来查看执行过程。</p>
<h3 id="1-7-带参构造方法"><a href="#1-7-带参构造方法" class="headerlink" title="1.7 带参构造方法"></a>1.7 带参构造方法</h3><p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 苹果树类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppleTree</span> &#123;</span><br><span class="line">    <span class="comment">//名称</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;苹果树&quot;</span>;           </span><br><span class="line">    <span class="comment">//品种</span></span><br><span class="line">    <span class="keyword">public</span> String brand;                    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * 类的无参构造方法</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AppleTree</span><span class="params">()</span>&#123;</span><br><span class="line">    	<span class="built_in">this</span>.brand = <span class="string">&quot;金帅&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    	</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 类的带参方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AppleTree</span><span class="params">(String brand)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 类的带参方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name               名称</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> brand              品种</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AppleTree</span><span class="params">(String name,String brand)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 输出苹果类信息</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;*****作物特性*****&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;您种植了&quot;</span> + <span class="built_in">this</span>.name + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;属于水果作物，品种：&quot;</span> + <span class="built_in">this</span>.brand+<span class="string">&quot;。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试类：</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//调用无参方法</span></span><br><span class="line">        <span class="type">AppleTree</span> <span class="variable">appleTree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AppleTree</span>();</span><br><span class="line">        appleTree.print();</span><br><span class="line">        <span class="comment">//调用带参方法</span></span><br><span class="line">        <span class="type">AppleTree</span> <span class="variable">fuji</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AppleTree</span>(<span class="string">&quot;富士&quot;</span>);</span><br><span class="line">        fuji.print();</span><br><span class="line">        <span class="type">AppleTree</span> <span class="variable">pinkLady</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AppleTree</span>(<span class="string">&quot;苹果树&quot;</span>,<span class="string">&quot;粉红佳人&quot;</span>);</span><br><span class="line">        pinkLady.print();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tiYLIyx6.png" alt="img"></p>
<p>因为 <strong>参数数目不同，</strong>所以允许灵活进行对象初始化。在创建对象时，根据 <strong>传递的参数</strong> 分别执行 <strong>不同的构造方法。</strong></p>
<p>其中：this关键字是对一个对象的默认引用，指向调用该条this语句所在方法的对象，这里用以区分同名成员变量。</p>
<h3 id="1-8-自定义方法注意事项："><a href="#1-8-自定义方法注意事项：" class="headerlink" title="1.8 自定义方法注意事项："></a>1.8 自定义方法注意事项：</h3><p>一旦自定义了一个或多个构造方法，Java就不会自动添加默认构造方法，默认构造方法没有参数，因此调用无参构造方法就会报错。</p>
<h2 id="2-方法重载"><a href="#2-方法重载" class="headerlink" title="2. 方法重载"></a>2. 方法重载</h2><p><strong>1.方法重载的定义</strong></p>
<p>方法重载指的是同一个类包含两个或两个以上的方法，<strong>它们的方法名相同，方法参数的个数或参数类型不同</strong>，成员方法和构造方法都可以进行重载。</p>
<p>其实，在之前已经频繁使用过方法重载了，例如：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">System.out.println(<span class="string">&quot;nice&quot;</span>);</span><br><span class="line">System.out.println(<span class="literal">true</span>);</span><br><span class="line">System.out.println(<span class="number">18</span>);</span><br></pre></td></tr></table></figure>

<p>以上代码实现了对不同类型参数值的输出，是<code>println()</code>方法实现了对于不同参数类型的重载。</p>
<p><strong>2.方法重载的特点</strong></p>
<ol>
<li><p>必须在同一类中</p>
</li>
<li><p>方法名要相同</p>
</li>
<li><p>方法的参数列表的个数或参数类型要不同</p>
</li>
</ol>
<p>注意：</p>
<blockquote>
<p>方法的返回值和方法的访问修饰符不能作为方法之间是否构成重载的依据</p>
</blockquote>
<p><strong>3.方法重载的使用</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Practice</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> a , <span class="type">int</span> b)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> a + b;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getSum</span><span class="params">(<span class="type">double</span> c , <span class="type">double</span> d)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> c + d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSum</span><span class="params">(String L1 , String L2)</span>&#123;</span><br><span class="line">       <span class="keyword">return</span> L1 + L2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Practice</span> <span class="variable">practice</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Practice</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span> , b = <span class="number">8</span>;</span><br><span class="line">        System.out.println(a + <span class="string">&quot; + &quot;</span> + b + <span class="string">&quot; = &quot;</span> + practice.getSum(a,b));</span><br><span class="line">        <span class="type">double</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">31.0</span> , d = <span class="number">35.6</span>;</span><br><span class="line">        System.out.println(c + <span class="string">&quot; + &quot;</span> + d + <span class="string">&quot; = &quot;</span> + practice.getSum(c,d));</span><br><span class="line">        <span class="type">String</span> <span class="variable">L1</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span> , L2 = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">        System.out.println(L1 + <span class="string">&quot; + &quot;</span> + L2 + <span class="string">&quot; = &quot;</span> + practice.getSum(L1,L2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/uykGWWNv.png" alt="img"></p>
<p><strong>4.方法重载的优点</strong></p>
<p>可以说方法重载是对原有方法的一种升级，它可以根据参数的不同，而采用不同的实现方法，不需要编写多个方法名的同时也简化了方法中的代码。</p>
<h2 id="3-封装"><a href="#3-封装" class="headerlink" title="3. 封装"></a>3. 封装</h2><h3 id="1-封装的概念"><a href="#1-封装的概念" class="headerlink" title="1. 封装的概念"></a>1. 封装的概念</h3><p>封装是面向对象的三大特性之一，能够将类的信息隐藏在类内部，不允许外部程序直接访问，而通过该类所提供的方法实现对隐藏信息的操作和访问。</p>
<h3 id="2-封装的优点"><a href="#2-封装的优点" class="headerlink" title="2. 封装的优点"></a>2. 封装的优点</h3><ol>
<li><p>提高代码的安全性</p>
</li>
<li><p>提高代码的复用性</p>
</li>
<li><p>“高内聚”：封装细节，便于修改内部代码，提高可维护性。</p>
</li>
<li><p>“低耦合”：简化外部调用，便于调用者使用，便于扩展和协作。</p>
</li>
</ol>
<h3 id="3-封装的步骤"><a href="#3-封装的步骤" class="headerlink" title="3.封装的步骤"></a>3.封装的步骤</h3><ol>
<li>修改属性的可见性</li>
</ol>
<p>将类中的属性私有化，使用<code>private</code>修饰符来实现，限制对属性的访问，只能在所定义的类中实现操作与访问。</p>
<ol start="2">
<li>创建赋值和取值方法</li>
</ol>
<p>属性修改为<code>private</code>后，其他类便无法访问了。如果要访问它，就要为每个属性创建一对<code>get()</code>和<code>set()</code>方法，用于对属性的存取。</p>
<ol start="3">
<li>加入对属性的存取限制</li>
</ol>
<p>为了限制不合理赋值，可在赋值方法中加入对属性的存取控制语句。示例如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Employee</span> &#123;</span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//年龄</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">//部门</span></span><br><span class="line">    <span class="keyword">private</span> String department;</span><br><span class="line">    <span class="comment">//入职日期</span></span><br><span class="line">    <span class="keyword">private</span> String date;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 无参构造方法，为对象设置默认值</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = <span class="string">&quot;无名氏&quot;</span>;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">18</span>;</span><br><span class="line">        <span class="built_in">this</span>.department = <span class="string">&quot;管理层&quot;</span>;</span><br><span class="line">        <span class="built_in">this</span>.date = <span class="string">&quot;2022-3-16 00:00:00&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 有参构造方法</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name          名字</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> age           年龄</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> department    所在部门</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> date          入职日期</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Employee</span><span class="params">(String name,<span class="type">int</span> age,String department,String date)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.department = department;</span><br><span class="line">        <span class="built_in">this</span>.date = date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDepartment</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> department;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDate</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> date;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 对属性的存取控制语句</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(age &gt; <span class="number">0</span> &amp;&amp; age &lt; <span class="number">150</span>)&#123;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;输入的年龄为&quot;</span> + age + <span class="string">&quot;，该年龄不合法，将重置&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">ShowInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;---自我介绍一下---\r\n姓名：&quot;</span>+<span class="built_in">this</span>.name + <span class="string">&quot;\r\n年龄：&quot;</span> + <span class="built_in">this</span>.age</span><br><span class="line">                            + <span class="string">&quot;\r\n所在部门：&quot;</span> + <span class="built_in">this</span>.department + <span class="string">&quot;\r\n入职日期：&quot;</span> + <span class="built_in">this</span>.date);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Employee</span> <span class="variable">employee</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Employee</span>();</span><br><span class="line">        employee.setName(<span class="string">&quot;夜色&quot;</span>);</span><br><span class="line">        employee.setAge(<span class="number">151</span>);</span><br><span class="line">        employee.ShowInfo();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/YxcQCo1q.png" alt="img"></p>
<p>好啦 本章节内容结束了，下次见！。</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>实用类</title>
    <url>/2022/04/27/Java/Java/%E5%AE%9E%E7%94%A8%E7%B1%BB/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="实用类"><a href="#实用类" class="headerlink" title="实用类"></a>实用类</h2><h3 id="1-枚举"><a href="#1-枚举" class="headerlink" title="1.枚举"></a>1.枚举</h3><p><strong>枚举概述</strong></p>
<p>枚举是一组由<strong>固定的常量</strong>组成的类型。</p>
<p><strong>语法</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">enum</span> 枚举名 &#123;</span><br><span class="line">    常量<span class="number">1</span>，常量<span class="number">2</span>;</span><br><span class="line">    <span class="comment">//其他成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>在枚举中可以定义<strong>多个</strong>常量，表示<strong>不同</strong>的枚举值，即枚举元素，元素之间使用<strong>逗号</strong>隔开</li>
<li>在枚举中可以定义其他成员，包括构造方法等，置于枚举常量之后</li>
<li>可以使用 <strong>枚举名.常量名</strong> 的形式取出枚举中的指定内容</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Color</span> </span><br><span class="line">&#123; </span><br><span class="line">    RED, GREEN, BLUE; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 执行输出结果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Color</span> <span class="variable">c1</span> <span class="operator">=</span> Color.RED;</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行以上代码输出结果为：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RED</span><br></pre></td></tr></table></figure>

<h3 id="1-1-内部类中使用枚举"><a href="#1-1-内部类中使用枚举" class="headerlink" title="1.1 内部类中使用枚举"></a>1.1 内部类中使用枚举</h3><p>枚举类也可以声明在内部类中：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Color</span></span><br><span class="line">    &#123;</span><br><span class="line">        RED, GREEN, BLUE;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">// 执行输出结果</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">Color</span> <span class="variable">c1</span> <span class="operator">=</span> Color.RED;</span><br><span class="line">        System.out.println(c1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行以上代码输出结果为：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">RED</span><br></pre></td></tr></table></figure>

<p>每个枚举都是通过 Class 在内部实现的，且所有的枚举值都是 <code>public static final</code> 的。</p>
<p>以上的枚举类 Color 转化在内部类实现：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Color</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Color</span> <span class="variable">RED</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Color</span>();</span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Color</span> <span class="variable">BLUE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Color</span>();</span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Color</span> <span class="variable">GREEN</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Color</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-在Switch中使用枚举类"><a href="#1-2-在Switch中使用枚举类" class="headerlink" title="1.2 在Switch中使用枚举类"></a>1.2 在Switch中使用枚举类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Week</span> &#123;</span><br><span class="line">    MON,TUE,WED,THU,FRI,SAT,SUN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeekTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查看日程日期</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> day 星期几</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dowWhat</span><span class="params">(Week day)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (day)&#123;</span><br><span class="line">            <span class="keyword">case</span> MON:</span><br><span class="line">            <span class="keyword">case</span> TUE:</span><br><span class="line">            <span class="keyword">case</span> WED:</span><br><span class="line">            <span class="keyword">case</span> THU:</span><br><span class="line">            <span class="keyword">case</span> FRI:</span><br><span class="line">                System.out.println(<span class="string">&quot;工作日，努力敲代码！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SAT:</span><br><span class="line">                System.out.println(<span class="string">&quot;星期六，休息！看电影！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SUN:</span><br><span class="line">                System.out.println(<span class="string">&quot;星期日，休息！出去逛！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;地球上一个星期就七天！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WeekTest</span> <span class="variable">week</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WeekTest</span>();</span><br><span class="line">        week.dowWhat(Week.SUN);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行以上代码输出结果为：</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">星期日，休息！出去逛！</span><br></pre></td></tr></table></figure>

<h3 id="1-3-迭代枚举元素"><a href="#1-3-迭代枚举元素" class="headerlink" title="1.3 迭代枚举元素"></a>1.3 迭代枚举元素</h3><p>除此之外，使用枚举类型的<code>values()</code>方法可以实现对枚举值的遍历操作，可以使用<code>for</code>语句来迭代枚举元素：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeekTest</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查看日程日期</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> day 星期几</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dowWhat</span><span class="params">(Week day)</span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (day)&#123;</span><br><span class="line">            <span class="keyword">case</span> MON:</span><br><span class="line">            <span class="keyword">case</span> TUE:</span><br><span class="line">            <span class="keyword">case</span> WED:</span><br><span class="line">            <span class="keyword">case</span> THU:</span><br><span class="line">            <span class="keyword">case</span> FRI:</span><br><span class="line">                System.out.println(<span class="string">&quot;工作日，努力敲代码！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SAT:</span><br><span class="line">                System.out.println(<span class="string">&quot;星期六，休息！看电影！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> SUN:</span><br><span class="line">                System.out.println(<span class="string">&quot;星期日，休息！出去逛！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                System.out.println(<span class="string">&quot;地球上一个星期就七天！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WeekTest</span> <span class="variable">week</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WeekTest</span>();</span><br><span class="line">        <span class="keyword">for</span>(Week w:Week.values())&#123;</span><br><span class="line">            week.doWhat(w);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>执行以上代码输出结果为：</strong> </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">工作日，努力敲代码！</span><br><span class="line">工作日，努力敲代码！</span><br><span class="line">工作日，努力敲代码！</span><br><span class="line">工作日，努力敲代码！</span><br><span class="line">工作日，努力敲代码！</span><br><span class="line">星期六，休息！看电影！</span><br><span class="line">星期日，休息！出去逛！</span><br></pre></td></tr></table></figure>

<h3 id="1-4-枚举的方法"><a href="#1-4-枚举的方法" class="headerlink" title="1.4 枚举的方法"></a>1.4 枚举的方法</h3><p><code>enum</code> 定义的枚举类默认继承了<code>java.lang.Enum</code>类，并实现了 <code>java.lang.Serializable</code> 和 <code>java.lang.Comparable</code> 两个接口。所有枚举实例都可以调用<code>Enum</code>类的方法，实现枚举的遍历、比较等操作。<code>values()</code>, <code>ordinal()</code> 和 <code>valueOf()</code> 方法位于 <code>java.lang.Enum</code> 类中：</p>
<ul>
<li><code>values()</code> 返回枚举类中所有的值。</li>
<li><code>ordinal()</code> 方法可以找到每个枚举常量的索引，就像数组索引一样。</li>
<li><code>valueOf()</code>方法返回指定字符串值的枚举常量。</li>
<li>i<code>nt compareTo()</code> 比较两个枚举成员在定义时的顺序，结果为负整数、零或正整数，表示当前对象小于、等于或大于指定对象</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Week</span> &#123;</span><br><span class="line">    MON,TUE,WED,THU,FRI,SAT,SUN;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EnumTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//遍历枚举</span></span><br><span class="line">        System.out.println(<span class="string">&quot;******使用foreach遍历枚举元素******&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(Week w:Week.values())&#123;</span><br><span class="line">            System.out.print(w + <span class="string">&quot;,&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n******获取枚举的个数******&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;一周有&quot;</span> + Week.values().length + <span class="string">&quot;天&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;******使用索引遍历枚举元素******&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; Week.values().length;i++)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;索引&quot;</span> + Week.values()[i].ordinal() + <span class="string">&quot;，值&quot;</span> + Week.values()[i] + <span class="string">&quot;。&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;枚举元素比较&quot;</span>);</span><br><span class="line">        <span class="comment">//字符串转换为枚举再进行比较</span></span><br><span class="line">        System.out.println((Week.valueOf(<span class="string">&quot;MON&quot;</span>)).equals(Week.MON));</span><br><span class="line">        System.out.println(Week.FRI.compareTo(Week.TUE));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-包装类"><a href="#1-5-包装类" class="headerlink" title="1.5 包装类"></a>1.5 包装类</h3><p><strong>1.5.1 包装类概述</strong></p>
<p>Java中的包装类提供了将<strong>原始数据类型转换为对象</strong>，以及将<strong>对象转换为原始数据类型</strong>的机制。 </p>
<p>8个基本类型中的每一个都有对应的包装器类。 </p>
<table>
<thead>
<tr>
<th>原始类型</th>
<th>包装类</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>Byte</td>
</tr>
<tr>
<td>boolean</td>
<td>Boolean</td>
</tr>
<tr>
<td>char</td>
<td>Character</td>
</tr>
<tr>
<td>double</td>
<td>Double</td>
</tr>
<tr>
<td>float</td>
<td>Float</td>
</tr>
<tr>
<td>int</td>
<td>Integer</td>
</tr>
<tr>
<td>long</td>
<td>Long</td>
</tr>
<tr>
<td>short</td>
<td>Short</td>
</tr>
</tbody></table>
<p><strong>1.5.2 为什么需要包装类？</strong></p>
<p>将原始类型和包装类分开以保持简单是一个明智的做法。当需要一个适合像面向对象编程的类型时就需要包装类。当希望数据类型变得简单时就使用原始类型。</p>
<p>原始类型不能为<code>null</code>，但包装类可以为<code>null</code>。包装类可用于实现<strong>多态性</strong>。</p>
<blockquote>
<p>这里引自【易百教程】的一段话，原文链接：<a href="https://www.yiibai.com/java/wrapper-class-in-java.html">https://www.yiibai.com/java/wrapper-class-in-java.html</a> </p>
</blockquote>
<p><strong>1.5.3 包装类和基本数据类型的转换</strong></p>
<p><strong>示例1：包装对象的原始类型</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//通过构造方法实现基本数据类型向包装类转换</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">blobj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">itobj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">35</span>);</span><br><span class="line">        <span class="type">Character</span> <span class="variable">chobj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Character</span>(<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line">        System.out.println(blobj + <span class="string">&quot;，&quot;</span> + itobj + <span class="string">&quot;，&quot;</span> + chobj);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将字符串转换为Boolean对象</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">bobj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="string">&quot;true&quot;</span>);</span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">bobj2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="string">&quot;TRue&quot;</span>);    <span class="comment">//不区分大小写</span></span><br><span class="line">        <span class="type">Boolean</span> <span class="variable">bobj3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="string">&quot;hello&quot;</span>);   <span class="comment">//非true即fasle</span></span><br><span class="line">        System.out.println(bobj + <span class="string">&quot;，&quot;</span> + bobj2 + <span class="string">&quot;，&quot;</span> + bobj3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">true，35，男</span><br><span class="line">true，true，fasle</span><br></pre></td></tr></table></figure>

<p>从示例1的运行结果中可以看出，当试图使用一个字符串来创建<code>Boolean</code>对象时，如果传入的字符串是<code>true</code> 或不同大小写变化形式，则都将创建与<code>true</code>对应的<code>Boolean</code>对象，如果传入其他字符串，则会与<code>fasle</code>对应的<code>Boolean</code>对象。</p>
<p>除此之外，我们还可以使用<code>valueOf()</code>方法将原始类转换为相应的对象</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建原始类型</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">5.65</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//转换为包装对象</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">aObj</span> <span class="operator">=</span> Integer.valueOf(a);</span><br><span class="line">        <span class="type">Double</span> <span class="variable">bObj</span> <span class="operator">=</span> Double.valueOf(b);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(aObj <span class="keyword">instanceof</span> Integer)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;创建一个Integer对象&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(bObj <span class="keyword">instanceof</span> Double)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;创建一个Double对象&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">创建一个Integer对象</span><br><span class="line">创建一个Double对象</span><br></pre></td></tr></table></figure>

<p>在上面的示例中，我们使用了<code>valueOf()</code>将原始类型转换为对象的方法。</p>
<p>在这里，我们使用<code>instanceof</code>运算符来<strong>检查</strong>生成的对象是否属于<code>Integer</code>或<code>Double</code>类型。</p>
<p><strong>示例2：将包装对象转换为原始类型</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建包装类的对象</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">aObj</span> <span class="operator">=</span> Integer.valueOf(<span class="number">18</span>);</span><br><span class="line">        <span class="type">Double</span> <span class="variable">bObj</span> <span class="operator">=</span> Double.valueOf(<span class="number">24.5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//转换为原始类型</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> aObj.intValue();</span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> bObj.doubleValue();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//输出</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a的值: &quot;</span> + a);</span><br><span class="line">        System.out.println(<span class="string">&quot;b的值: &quot;</span> + b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a的值：18</span><br><span class="line">b的值：24.5</span><br></pre></td></tr></table></figure>

<h3 id="1-6-装箱拆箱"><a href="#1-6-装箱拆箱" class="headerlink" title="1.6 装箱拆箱"></a>1.6 装箱拆箱</h3><p>这里用了菜鸟的笔记： <a href="https://www.cainiaojc.com/java/java-autoboxing-unboxing.html">Java 自动装箱和拆箱 - Java教程 - 菜鸟教程 (cainiaojc.com)</a> </p>
<p>Java基本数据类型变量和包装类对象之间的<strong>转换较烦琐</strong>，从<strong>JDK1.5</strong>之后提供了自动装箱和自动拆箱功能。</p>
<p><strong>自动装箱：</strong></p>
<ul>
<li>把基本数据类型变量直接转换为对应的包装类对象，或者转换为Object对象</li>
<li> 使用Java集合时，<strong>自动装箱</strong>具有很大的优势。 </li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">56</span>;</span><br><span class="line"><span class="comment">// 自动装箱</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">aObj</span> <span class="operator">=</span> a;</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">      ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="comment">//自动装箱</span></span><br><span class="line">      list.add(<span class="number">5</span>);</span><br><span class="line">      list.add(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">&quot;ArrayList: &quot;</span> + list);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ArrayList：[5，6]</span><br></pre></td></tr></table></figure>

<p>在上面的示例中，我们创建了一个<code>Integer</code>类型的数组列表。因此，数组列表只能包含<code>Integer</code>类型的对象。</p>
<p>注意这一行，</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">list.add(5);</span><br></pre></td></tr></table></figure>

<p>在这里，我们传递原始类型值。但是，由于<strong>自动装箱</strong>，原始值会自动转换为Integer对象并存储在数组列表中。</p>
<p>自动拆箱：</p>
<ul>
<li>与装箱相反， 在<strong>拆箱中</strong>，Java编译器会自动 将包装类对象转换成对应的基本数据类型变量</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 自动装箱</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">aObj</span> <span class="operator">=</span> <span class="number">56</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 拆箱</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> aObj;</span><br></pre></td></tr></table></figure>

<p> 像<strong>自动装箱</strong>一样，<strong>拆箱</strong>也可以与Java集合一起使用。 </p>
<p>示例：Java拆箱</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">      ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">      <span class="comment">//自动装箱</span></span><br><span class="line">      list.add(<span class="number">5</span>);</span><br><span class="line">      list.add(<span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">      System.out.println(<span class="string">&quot;ArrayList: &quot;</span> + list);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// 拆箱</span></span><br><span class="line">      <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> list.get(<span class="number">0</span>);</span><br><span class="line">      System.out.println(<span class="string">&quot;Value at index 0: &quot;</span> + a);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>输出结果</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ArrayList: [<span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">Value at index <span class="number">0</span>: <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p>在上面的示例中，请注意以下行：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int a = list.get(0);</span><br></pre></td></tr></table></figure>

<p>这里，<code>get()</code>方法返回索引0处的对象。但是，由于<strong>拆箱</strong>，对象被自动转换为原始类型<code>int</code>并分配给变量<code>a</code>。</p>
<h3 id="1-7-日期类"><a href="#1-7-日期类" class="headerlink" title="1.7 日期类"></a>1.7 日期类</h3><p>在程序开发中经常会遇到日期类的操作，在<code>JDK1.8</code>之前之前的版本中，所有关于时间和日期的<code>API</code>在使用上都存在缺陷。</p>
<ul>
<li>易用性差，时间的计算方式烦琐。</li>
<li>不是线程安全的。</li>
</ul>
<p>基于以上问题，<code>JDK1.8</code>引入了一套全新的时间<code>API</code>，借助新的<code>API</code>可以使用更<strong>简洁</strong>的方式处理时间和日期。</p>
<p><strong>1.7.1 创建时间对象</strong></p>
<p>在<code>JDK1.8</code>中，日期和时间的类都位于<code>java.time</code>包中，它是新的<code>Java</code>日期/时间<code>API</code>的基础包，这些都是<strong>不可变</strong>的、线程安全的，在绝大多数情况下，这些类都能够有效地处理一些公共的需求。<code>java.time</code>包中表示日期的<strong>常用</strong>如下表所示</p>
<table>
<thead>
<tr>
<th>类</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td>LocalDate</td>
<td align="left">表示日期 (年/月/日)，不包含时间，如2020-11-24</td>
</tr>
<tr>
<td>LocalTime</td>
<td align="left">表示时间 (时/分/秒/毫秒)，不包含日期，如 15:32:12</td>
</tr>
<tr>
<td>LocalDateTime</td>
<td align="left">表示日期和时间 (年/月/日/时/分/秒/毫米)，如2020-11-24 15:32:12</td>
</tr>
</tbody></table>
<p>LocalDate类、LocalTime类、LocalDateTime类的实例是<strong>不可变</strong>的对象，它提供了简单的日期或时间，并<strong>不包含</strong>时间信息，也<strong>不包含</strong>与时区相关的信息。日期类通用方法如下表</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>日期类 now()</td>
<td>静态方法，根据当前时间创建对象，返回对象日期</td>
</tr>
<tr>
<td>日期类 of (int year，Month month，int dayOfMonth)</td>
<td>静态方法，根据指定日期/时间创建日期类对象，如LocalDate.of(2021,Month.APRIL,4)</td>
</tr>
<tr>
<td>Month getMonth()</td>
<td>获取月份，返回Month,是一个表示月份的枚举</td>
</tr>
<tr>
<td>int getDayOfMonth()</td>
<td>返回当前日期类对象的月份天数</td>
</tr>
<tr>
<td>int getYear()</td>
<td>返回当前日期类对象的年份</td>
</tr>
<tr>
<td>日期类 plusDays()             日期类 plusWeeks()         日期类 plusMonths               日期类 plusYears()</td>
<td>在指定日期的基础上添加天数、周数、月数、年数，返回日期类对象</td>
</tr>
</tbody></table>
<p><strong>获取当前日期时间</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line">  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateDemo</span> &#123;</span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">       <span class="comment">// 初始化 Date 对象</span></span><br><span class="line">       <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        </span><br><span class="line">       <span class="comment">// 使用 toString() 函数显示日期时间</span></span><br><span class="line">       System.out.println(date.toString());</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Thu Apr <span class="number">07</span> <span class="number">16</span>:<span class="number">10</span>:<span class="number">15</span> CST <span class="number">2022</span></span><br></pre></td></tr></table></figure>

<p><strong>1.7.2 日期格式化</strong></p>
<p>有时候需要按照定义的格式输出系统时间，这就需要使用<code>DateTimeFormatter</code> 类的相关方法进行日期格式化处理，该类位于 <code>java.time.format</code> 包中。日期类的<code>format()</code>方法用于将日期格式化为字符串，该方法接收一个<code>DateTimeFormatter</code>对象，除此之外，<code>DateTimeFormatter</code>类的<code>format()</code>方法也可以实现日期格式化，实例如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//获取当前日期</span></span><br><span class="line"><span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line"><span class="type">DateTimeFormatter</span> <span class="variable">pattern</span> <span class="operator">=</span> DateTimeFormatter.ofPattern(<span class="string">&quot;yyyy年MM月dd日&quot;</span>);</span><br><span class="line"><span class="comment">//两种格式化方式</span></span><br><span class="line"><span class="type">String</span> <span class="variable">format1</span> <span class="operator">=</span> now.format(pattern);</span><br><span class="line"><span class="type">String</span> <span class="variable">format2</span> <span class="operator">=</span> pattern.format(now);</span><br><span class="line"><span class="comment">//打印输出当前日期</span></span><br><span class="line">System.out.println(<span class="string">&quot;当前日期：&quot;</span> + format1);</span><br><span class="line">System.out.println(<span class="string">&quot;当前日期：&quot;</span> + format2);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">输出：</span><br><span class="line">当前日期：2022年04月07日</span><br><span class="line">当前日期：2022年04月07日</span><br></pre></td></tr></table></figure>

<p><strong>练习：使用日期类输出生日信息</strong></p>
<p>从控制台接受今年的生日日期(格式为YYYY-MM-DD)，分别输出今天的日期，今年的生日，在一年中的天数，在当月的天数及星期。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.time.DayOfWeek;</span><br><span class="line"><span class="keyword">import</span> java.time.LocalDate;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">//接收控制台输入的今年生日的日期</span></span><br><span class="line">        System.out.print(<span class="string">&quot;请输入您今年的生日（格式：YYYY-MM-DD）：&quot;</span>);</span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">birthday</span> <span class="operator">=</span> LocalDate.parse(input.next());</span><br><span class="line"></span><br><span class="line">        <span class="type">LocalDate</span> <span class="variable">today</span> <span class="operator">=</span> LocalDate.now();</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;今天的日期：&quot;</span> + today.getYear() + <span class="string">&quot;-&quot;</span> +today.getMonthValue() + <span class="string">&quot;-&quot;</span> + today.getDayOfMonth());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//输出打印今年的生日</span></span><br><span class="line">        System.out.println(<span class="string">&quot;今年的生日是：&quot;</span> + birthday);</span><br><span class="line">        <span class="comment">//在一年中的天数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">yearDate</span> <span class="operator">=</span> birthday.getDayOfYear();</span><br><span class="line">        System.out.println(<span class="string">&quot;在一年中的天数：&quot;</span>+yearDate);</span><br><span class="line">        <span class="comment">//在当月的天数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">monthDate</span> <span class="operator">=</span> birthday.getDayOfMonth();</span><br><span class="line">        System.out.println(<span class="string">&quot;在当月的天数：&quot;</span>+monthDate);</span><br><span class="line">        <span class="comment">//星期 DayOfWeek：只存储星期的一天。</span></span><br><span class="line">        <span class="type">DayOfWeek</span> <span class="variable">week</span> <span class="operator">=</span> birthday.getDayOfWeek();</span><br><span class="line">        System.out.println(<span class="string">&quot;星期：&quot;</span>+week);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">请输入您今年的生日（格式：YYYY-MM-DD）：2020-11-24</span><br><span class="line">今天的日期：2022-4-7</span><br><span class="line">今年的生日是：2020-11-24</span><br><span class="line">在一年中的天数：329</span><br><span class="line">在当月的天数：24</span><br><span class="line">星期：TUESDAY</span><br></pre></td></tr></table></figure>

<h3 id="1-8-Random类"><a href="#1-8-Random类" class="headerlink" title="1.8 Random类"></a>1.8 Random类</h3><p>Random类的构造方法有两种<strong>重载</strong>方式</p>
<table>
<thead>
<tr>
<th>构造方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Random()</td>
<td>创建一个随机数生成器</td>
</tr>
<tr>
<td>Random(long seed)</td>
<td>使用单个long种子创建一个随机数生成器</td>
</tr>
</tbody></table>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RadomEX</span> &#123;</span><br><span class="line">    <span class="comment">//创建一个random对象 使用static是便于调用</span></span><br><span class="line">    <span class="keyword">static</span> <span class="type">Random</span> <span class="variable">rd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">numCode</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;获取5为全数字验证码：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> rd.nextInt(<span class="number">10</span>);</span><br><span class="line">            System.out.print(n + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">charCode</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;获取5位验证码(英文大写字母)：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i&lt;<span class="number">5</span>;i++)&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">65</span> + rd.nextInt(<span class="number">26</span>);</span><br><span class="line">            System.out.print((<span class="type">char</span>) n + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        numCode();</span><br><span class="line">        charCode();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">获取<span class="number">5</span>为全数字验证码：<span class="number">6</span> <span class="number">8</span> <span class="number">7</span> <span class="number">4</span> <span class="number">4</span> </span><br><span class="line">获取<span class="number">5</span>位验证码(英文大写字母)：F Z H O J </span><br></pre></td></tr></table></figure>



<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><ul>
<li>枚举可以使代码更<strong>易于维护</strong>，有助于确保为变量指定合法的、期望的值</li>
<li>枚举<strong>易于编程时输入</strong>，使用枚举赋值，只需输入枚举名称和 “.”，就可显示所有枚举值</li>
<li>枚举使代码更加<strong>清晰</strong>，允许用描述性的名称表示数据，使用时直观方便</li>
</ul>
<h3 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h3><ul>
<li>包装类是指将基本数据类型封装到一个类中，也就是将基本类型包装成一个类类型。Java程序设计语言为每一种基本类型提供了一个包装类，而这些包装类就在<code>java.lang</code>包中，共有八个包装类，包含<code>Boolean、Character、Byte、Short、Inteter、Long、Float、Double</code>。</li>
</ul>
<h3 id="装箱拆箱"><a href="#装箱拆箱" class="headerlink" title="装箱拆箱"></a>装箱拆箱</h3><p>Java基本数据类型变量和包装类对象之间的转换较烦琐，从JDK1.5之后提供了自动装箱和自动拆箱功能。</p>
<ul>
<li>自动装箱：把基本数据类型变量直接转换为对应的包装类对象，或者转换为Object对象。</li>
<li>自动拆箱：与装箱相反， 在<strong>拆箱中</strong>，Java编译器会自动将包装类对象转换成对应的基本数据类型变量</li>
</ul>
<h3 id="日期类"><a href="#日期类" class="headerlink" title="日期类"></a>日期类</h3><p>从JDK1.8中，日期和时间的类都位于<code>java.time</code>包中</p>
<ul>
<li><code>LocalDate</code>类、<code>LocalTime</code>类、<code>LocalDateTime</code>类的实例是不可变的对象，它提供了简单的日期或时间</li>
<li>使用<code>DateTimeFormatter</code>类进行日期格式化处理，该类位于<code>java.time.format</code>包中。日期类中的 format() 方法用于将日期格式化为字符串，该方法接受一个<code>DateTimeFormatter</code>对象。</li>
</ul>
<h3 id="Random类"><a href="#Random类" class="headerlink" title="Random类"></a>Random类</h3><p><code>Random</code>类用于生成随机数。它位于<code>java.util</code>包中，每当需要以任意或非系统方式生成数字时，就使用此类。</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>多线程</title>
    <url>/2022/04/27/Java/Java/%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><h3 id="1-多线程概述"><a href="#1-多线程概述" class="headerlink" title="1. 多线程概述"></a>1. 多线程概述</h3><p>世间万物每个个体都可以同时完成很多工作。例如，人体可以同时进行呼吸、血液循环、思考问题等活动。用户既可以使用计算机听歌，也可以编写文档、发送文件等，这些活动都可以同时进行。在计算机领域里，这种同时执行多个操作的行为模式被称为<strong>并发</strong>。在操作系统中同时运行着多个独立的任务，每个任务对应一个进程，每个进程可产生多个线程。通过这种并发运行的方式，计算机的性能挖掘到了极限。</p>
<p>简单的说</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">多线程通过并发运行的方式能够同时运行多个任务(程序) </span><br></pre></td></tr></table></figure>

<h3 id="2-进程和线程"><a href="#2-进程和线程" class="headerlink" title="2. 进程和线程"></a>2. 进程和线程</h3><h4 id="2-1-进程"><a href="#2-1-进程" class="headerlink" title="2.1 进程"></a>2.1 进程</h4><p>进程是程序的一次动态执行过程，程序运行起来后，加载到了内存中，并占据了CPU的资源；它是从代码加载，执行中到执行完毕的一个完整过程，也是进程本身从产生、存在到最终消亡的过程，这也是进程的生命周期（下面会谈及到）。</p>
<h4 id="2-2-线程"><a href="#2-2-线程" class="headerlink" title="2.2 线程"></a>2.2 线程</h4><p>线程是进程中执行运算的最小单位，是在进程基础上的进一步划分，一个线程可以完成一个独立的顺序控制流程。一个线程不能独立的存在，它必须是进程的一部分。</p>
<h4 id="2-3-进程和线程的区别"><a href="#2-3-进程和线程的区别" class="headerlink" title="2.3 进程和线程的区别"></a>2.3 进程和线程的区别</h4><p><strong>根本区别</strong></p>
<ul>
<li>进程是操作系统资源分配的基本单位</li>
<li>线程是任务调度和执行的基本单位</li>
</ul>
<p><strong>所处环境</strong></p>
<ul>
<li>在操作系统中能同时运行多个进程（程序）</li>
<li>而在同一个进程（程序）中有多个线程同时执行（通过CPU调度，在每个时间片中只有一个线程执行）</li>
</ul>
<p><strong>内存分配方面</strong></p>
<ul>
<li>系统在运行的时候会为每个进程分配不同的内存空间</li>
<li>而对线程而言，除了CPU外，系统不会为线程分配内存（线程所使用的资源来自其所属进程的资源），线程组之间只能共享资源</li>
</ul>
<p><strong>包含关系</strong></p>
<ul>
<li>没有线程的进程可以看做是单线程的，如果一个进程内有多个线程，则执行过程不是一条线的，而是多条线（线程）共同完成的</li>
<li>线程是进程的一部分，所以线程也被称为轻权进程或者轻量级进程</li>
</ul>
<h3 id="3-多线程编程"><a href="#3-多线程编程" class="headerlink" title="3. 多线程编程"></a>3. 多线程编程</h3><p>Java 提供了三种创建线程的方法：</p>
<ul>
<li>通过继承 Thread 类本身</li>
<li>通过实现 Runnale 接口</li>
<li>通过 Callable 和 Futrue 创建线程</li>
</ul>
<h4 id="3-1-Thread-类介绍"><a href="#3-1-Thread-类介绍" class="headerlink" title="3.1 Thread 类介绍"></a>3.1 Thread 类介绍</h4><p>Thread 类提供了大量的方法来控制和操作线程，常用方法如下表：</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>Thread()</td>
<td>构造方法</td>
<td>创建Thread对象</td>
</tr>
<tr>
<td>Thread(Runnable target)</td>
<td>构造方法</td>
<td>创建Thread对象，target为 run() 方法被调用的对象</td>
</tr>
<tr>
<td>Thread(Runnable target,String name)</td>
<td>构造方法</td>
<td>创建Thread对象，target为 run() 方法被调用的对象，name 为新线程的名字</td>
</tr>
<tr>
<td>void run()</td>
<td>实例方法</td>
<td>执行任务操作的方法</td>
</tr>
<tr>
<td>void start()</td>
<td>实例方法</td>
<td>使该线程开始运行，JVM将调用该线程的方法</td>
</tr>
<tr>
<td>void sleep(long millis)</td>
<td>静态方法</td>
<td>在指定的毫秒内让正在运行的线程休眠(暂停运行)</td>
</tr>
<tr>
<td>Thread currentThread()</td>
<td>静态方法</td>
<td>返回当前线程对象的调用</td>
</tr>
</tbody></table>
<p>Thread 类的静态方法currentThread()返回当前线程对象的引用。在Java程序启动时，一个线程随之启动，这个线程通常被称为程序的主线程。而 main() 方法则是主线程的入口，每个进程至少都有一个主线程。它的重要性如下：</p>
<ul>
<li>主线程是产生其他子线程的线程</li>
<li>主线程通常必须最后完成运行，因为它执行各种关闭动作</li>
</ul>
<p>实例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        System.out.println(<span class="string">&quot;当前线程：&quot;</span> + thread.getName());</span><br><span class="line">        thread.setName(<span class="string">&quot;MainThread&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;当前线程：&quot;</span> + thread.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>还可以使用 setName() 方法或 getName() 方法对线程名称进行赋值和取值操作。运行结果如下：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">当前线程：main</span><br><span class="line">当前线程：MainThread</span><br></pre></td></tr></table></figure>

<h4 id="3-2-通过继承-Thread-来创建线程"><a href="#3-2-通过继承-Thread-来创建线程" class="headerlink" title="3.2 通过继承 Thread 来创建线程"></a>3.2 通过继承 Thread 来创建线程</h4><p>创建一个线程的第一种方法是创建一个新的类，该类继承 Thread 类，然后创建一个该类的实例。</p>
<p>继承类必须重写 run() 方法，该方法是新线程的入口点。它也必须调用 start() 方法才能执行。</p>
<p>该方法尽管被列为一种多线程实现方式，但是本质上也是实现了 Runnable </p>
<p><strong>实例</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;开始采摘苹果树：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;进度：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;克&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 让线程休眠一会</span></span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;已完成采摘任务！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WorkThread</span> <span class="variable">wt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WorkThread</span>();</span><br><span class="line">        wt.setName(<span class="string">&quot;果农A&quot;</span>);</span><br><span class="line">        wt.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">果农A开始采摘苹果树：</span><br><span class="line">果农A进度：第1克</span><br><span class="line">果农A进度：第2克</span><br><span class="line">果农A进度：第3克</span><br><span class="line">果农A进度：第4克</span><br><span class="line">果农A进度：第5克</span><br><span class="line">果农A已完成采摘任务！</span><br></pre></td></tr></table></figure>

<h4 id="3-3-Runnable-接口介绍"><a href="#3-3-Runnable-接口介绍" class="headerlink" title="3.3 Runnable 接口介绍"></a>3.3 Runnable 接口介绍</h4><p>在使用继承 Thread 类的方式创建线程的过程中，子类无法再继承其他父类。这是因为Java语言不支持多继承。在这种情况下，可以通过 Runnable 接口实现方法创建线程。这种方式更具有灵活性，用户线程还可以通过继承，再具有其他类的特性，这是开发中经常使用的方式。</p>
<h4 id="3-4-实现-Runnable-接口来创建线程"><a href="#3-4-实现-Runnable-接口来创建线程" class="headerlink" title="3.4 实现 Runnable 接口来创建线程"></a>3.4 实现 Runnable 接口来创建线程</h4><p>Runnable 接口位于 java.lang 包中，其中只是一个抽象方法 run() 的声明。Thread 类也实现了Runnable接口。使用Runnable接口时离不开Thread类，这是因为它要用到Thread类的start()方法。</p>
<p>Thread定义了几个构造方法，下面的这个是我们经常使用的：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Thread(Runnable threadOb,String threadName);</span><br></pre></td></tr></table></figure>

<p>这里，threadOb 是一个实现 Runnable 接口的类的实例，threadName 指定新线程的名字。</p>
<p>新线程创建之后，你调用它的start()方法它才会运行。</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void start();</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;开始采摘苹果树：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;进度：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;克&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 让线程休眠一会</span></span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;已完成采摘任务！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">WorkThread</span> <span class="variable">wt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WorkThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(wt);</span><br><span class="line">        th.setName(<span class="string">&quot;果农A&quot;</span>);</span><br><span class="line">        th.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果同上个实例一样</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">果农A开始采摘苹果树：</span><br><span class="line">果农A进度：第1克</span><br><span class="line">果农A进度：第2克</span><br><span class="line">果农A进度：第3克</span><br><span class="line">果农A进度：第4克</span><br><span class="line">果农A进度：第5克</span><br><span class="line">果农A已完成采摘任务！</span><br></pre></td></tr></table></figure>

<h4 id="3-5-Thread和Runnable的区别"><a href="#3-5-Thread和Runnable的区别" class="headerlink" title="3.5 Thread和Runnable的区别"></a>3.5 Thread和Runnable的区别</h4><p>如果一个类继承Thread，则不适合资源共享。但是如果实现了Runable接口的话，则很容易的实现资源共享。</p>
<p>总结：</p>
<p>实现Runnable接口比继承Thread类所具有的优势：</p>
<ol>
<li><p>适合多个相同的程序代码的线程去处理同一个资源</p>
</li>
<li><p>可以避免java中的单继承的限制</p>
</li>
<li><p>增加程序的健壮性，代码可以被多个线程共享，代码和数据独立</p>
</li>
<li><p>线程池只能放入实现Runable或callable类线程，不能直接放入继承Thread的类</p>
</li>
</ol>
<p>原文链接：<a href="https://blog.csdn.net/evankaka/article/details/44153709">https://blog.csdn.net/evankaka/article/details/44153709</a></p>
<h3 id="4-一个线程的生命周期-线程的状态转换"><a href="#4-一个线程的生命周期-线程的状态转换" class="headerlink" title="4. 一个线程的生命周期 / 线程的状态转换"></a>4. 一个线程的生命周期 / 线程的状态转换</h3><p>线程是一个动态执行的过程，它也有一个从产生到死亡的过程。</p>
<p>下图显示了一个线程完整的生命周期。</p>
<p><img src="https://a.ideaopen.cn/Mercury/XQHkcRZF.jpg" alt="img"></p>
<ul>
<li><p>新建状态：</p>
<p>使用 new 关键字和 Thread 类或其子类建立一个线程对象后，该线程对象就处于新建状态。此时，线程类对象已经被分配了内存空间和资源，并且已被初始化，但是该线程尚未被调度。</p>
</li>
<li><p>就绪状态：</p>
<p>当线程对象调用了 start() 方法之后，该线程就进入就绪状态。就绪状态的线程处于就绪队列中，要等待JVM里线程调度器的调度。</p>
</li>
<li><p>运行状态：</p>
<p>当就绪状态的进程被调度并获得处理器资源后便进入运行状态。当调用 start() 方法后，线程获取资源运行 run() 方法中的代码，进程进入运行状态。每个Thread类及其子类都拥有一个线程操作方法 run() ，当线程对象被调度运行时，它将自动调用次run()方法，从第一条语句一直到执行结束。</p>
</li>
<li><p>阻塞状态</p>
<p>如果一个线程执行了 sleep(睡眠)、suspend(挂起)等方法、失去所占用资源之后，该线程就从运行状态进入阻塞状态。在睡眠时间已到或获得设备资源后可以重新进入就绪状态。可分为三种：</p>
<ul>
<li>等待阻塞：运行状态中的线程执行 wait() 方法，使线程进入到等待阻塞状态。</li>
<li>同步阻塞：线程在获取 synchronized 同步锁失败(因为同步锁被其他线程占用)。</li>
<li>其他阻塞：通过调用线程的 sleep() 或 join() 发出了 I/O 请求时，线程就会进入到阻塞状态。当sleep() 状态超时，join() 等待线程终止或超时，或者 I/O 处理完毕，线程重新转入就绪状态。</li>
</ul>
</li>
<li><p>死亡状态</p>
<ul>
<li> 一个运行状态的线程完成任务或者其他终止条件发生时，该线程就切换到终止状态。 </li>
</ul>
</li>
</ul>
<h3 id="5-线程调度相关方法"><a href="#5-线程调度相关方法" class="headerlink" title="5. 线程调度相关方法"></a>5. 线程调度相关方法</h3><table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>int getPriority()</td>
<td>返回线程的优先级</td>
</tr>
<tr>
<td>void serPriority(int newPriority)</td>
<td>更改线程的优先级</td>
</tr>
<tr>
<td>boolean isAlive()</td>
<td>测试线程是否处于活动状态</td>
</tr>
<tr>
<td>void join()</td>
<td>进程中的其他线程必须等待该线程终止后才能运行</td>
</tr>
<tr>
<td>void interrupt()</td>
<td>中断线程</td>
</tr>
<tr>
<td>void yield()</td>
<td>暂停当前正在执行的线程类对象并运行其他线程</td>
</tr>
</tbody></table>
<h4 id="5-1-线程的优先级"><a href="#5-1-线程的优先级" class="headerlink" title="5.1 线程的优先级"></a>5.1 线程的优先级</h4><p>每个线程运行时都有一定的优先级，优先级高的线程获得较多的运行机会，而优先级低的线程获得较少的运行机会。每个线程的默认优先级都与它的线程的优先级相同，在默认情况下，主线程 main 具有普通优先级，由主线程创建的子线程也具有普通优先级。</p>
<p>Java中提供了 void serPriority(int newPriority) 方法，范围是整数1~10，也可以使用 Thread 类的如下三个静态常量设置线程的优先级。</p>
<ul>
<li>MAX_PRIORITY 其值是10，表示优先级最高。</li>
<li>MIN_PRIORITY  其值是1，表示优先级最低。</li>
<li>NORM_PRIORITY  其值是5，表示普通优先级。</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WorkThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;开始摘苹果树：&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;进度：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;棵，优先级：&quot;</span></span><br><span class="line">                    + Thread.currentThread().getPriority());</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;已完成采摘！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//通过构造方法设置线程名</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">WorkThread</span>(),<span class="string">&quot;果农A&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">WorkThread</span>(),<span class="string">&quot;果农B&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">WorkThread</span>(),<span class="string">&quot;果农C&quot;</span>);</span><br><span class="line">        <span class="comment">//设置线程优先级</span></span><br><span class="line">        t1.setPriority(Thread.MAX_PRIORITY);</span><br><span class="line">        t2.setPriority(Thread.NORM_PRIORITY);</span><br><span class="line">        t3.setPriority(Thread.MIN_PRIORITY);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">果农B开始摘苹果树：</span><br><span class="line">果农A开始摘苹果树：</span><br><span class="line">果农C开始摘苹果树：</span><br><span class="line">果农C进度：第1棵，优先级：1</span><br><span class="line">果农A进度：第1棵，优先级：10</span><br><span class="line">果农B进度：第1棵，优先级：5</span><br><span class="line">果农C进度：第2棵，优先级：1</span><br><span class="line">果农A进度：第2棵，优先级：10</span><br><span class="line">果农B进度：第2棵，优先级：5</span><br><span class="line">果农C进度：第3棵，优先级：1</span><br><span class="line">果农A进度：第3棵，优先级：10</span><br><span class="line">果农B进度：第3棵，优先级：5</span><br><span class="line">果农A进度：第4棵，优先级：10</span><br><span class="line">果农C进度：第4棵，优先级：1</span><br><span class="line">果农B进度：第4棵，优先级：5</span><br><span class="line">果农A进度：第5棵，优先级：10</span><br><span class="line">果农C进度：第5棵，优先级：1</span><br><span class="line">果农B进度：第5棵，优先级：5</span><br><span class="line">果农A已完成采摘！</span><br><span class="line">果农C已完成采摘！</span><br><span class="line">果农B已完成采摘！</span><br></pre></td></tr></table></figure>

<p>t1、t2、t3分别被设置为最高、普通最低优先级，运行以上程序且三个线程交替运行时，t1运行的效率会更大，其次是t2、t3。</p>
<blockquote>
<p>提示</p>
<p>尽管为这三个线程设定了不同的优先级，但实际上，程序还是不能精确控制这些线程的运行先后顺序。在不同或同一计算机运行本程序，都会得到不同的运行序列。</p>
</blockquote>
<h3 id="6-线程的强制运行"><a href="#6-线程的强制运行" class="headerlink" title="6. 线程的强制运行"></a>6. 线程的强制运行</h3><p>在线程操作中，可以使用join()方法让一个线程强制运行。在线程强制转换运行期间、其他线程无法 运行，必须等待此线程完成之后才能继续运行。它有三个重载方法，定义如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">()</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">long</span> mills)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">long</span> mills, <span class="type">int</span> nanos)</span></span><br></pre></td></tr></table></figure>

<p>需注意的是，调用join()方法需要处理<code>InterruptedException</code>异常。</p>
<p>演示：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JoinThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;采购进度：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;车&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建子线程并启动</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">JoinThread</span>(),<span class="string">&quot;大型商超&quot;</span>);</span><br><span class="line">        t.start();</span><br><span class="line">        <span class="comment">//修改主线程名称</span></span><br><span class="line">        Thread.currentThread().setName(<span class="string">&quot;果商&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">5</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    t.join(); <span class="comment">//需处理 InterruptedException 异常</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;采购进度：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;车&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行以上代码输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">果商采购进度：第1车</span><br><span class="line">大型商超采购进度：第1车</span><br><span class="line">果商采购进度：第2车</span><br><span class="line">大型商超采购进度：第2车</span><br><span class="line">大型商超采购进度：第3车</span><br><span class="line">果商采购进度：第3车</span><br><span class="line">大型商超采购进度：第4车</span><br><span class="line">果商采购进度：第4车</span><br><span class="line">大型商超采购进度：第5车</span><br><span class="line">果商采购进度：第5车</span><br><span class="line">大型商超采购进度：第6车</span><br><span class="line">大型商超采购进度：第7车</span><br><span class="line">大型商超采购进度：第8车</span><br><span class="line">大型商超采购进度：第9车</span><br><span class="line">大型商超采购进度：第10车</span><br><span class="line">果商采购进度：第6车</span><br><span class="line">果商采购进度：第7车</span><br><span class="line">果商采购进度：第8车</span><br><span class="line">果商采购进度：第9车</span><br><span class="line">果商采购进度：第10车</span><br></pre></td></tr></table></figure>

<p>可以看到的是，执行t.join()方法，子线程会夺得CPU使用权，优先运行，子线程全部运行完毕后，代表果商的主线程恢复运行。</p>
<h3 id="7-线程的礼让"><a href="#7-线程的礼让" class="headerlink" title="7. 线程的礼让"></a>7. 线程的礼让</h3><p>当一个线程在运行中执行了 Thread 类 yield()  静态方法后，如果此时还有相同或更高优先级的其他线程处于就绪状态，系统将会选择其他下个南通或更高优先级的线程运行，如果不存在这样的线程，则该线程继续运行。yield()方法定义如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">yield</span><span class="params">()</span></span><br></pre></td></tr></table></figure>

<p>水果交替打折示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DisCount</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">            Thread.yield();</span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;打折：第&quot;</span> + (i+<span class="number">1</span>) + <span class="string">&quot;次&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">100</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">dc1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">DisCount</span>(),<span class="string">&quot;苹果&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">dc2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">DisCount</span>(),<span class="string">&quot;香蕉&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">dc3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">DisCount</span>(),<span class="string">&quot;橙子&quot;</span>);</span><br><span class="line">        dc1.start();</span><br><span class="line">        dc2.start();</span><br><span class="line">        dc3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行该代码运行结果(每台计算机的运行结果不同，上文谈及过)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">苹果打折：第<span class="number">1</span>次</span><br><span class="line">香蕉打折：第<span class="number">1</span>次</span><br><span class="line">橙子打折：第<span class="number">1</span>次</span><br><span class="line">苹果打折：第<span class="number">2</span>次</span><br><span class="line">橙子打折：第<span class="number">2</span>次</span><br><span class="line">香蕉打折：第<span class="number">2</span>次</span><br><span class="line">橙子打折：第<span class="number">3</span>次</span><br><span class="line">香蕉打折：第<span class="number">3</span>次</span><br><span class="line">橙子打折：第<span class="number">4</span>次</span><br><span class="line">香蕉打折：第<span class="number">4</span>次</span><br><span class="line">苹果打折：第<span class="number">3</span>次</span><br><span class="line">香蕉打折：第<span class="number">5</span>次</span><br><span class="line">橙子打折：第<span class="number">5</span>次</span><br><span class="line">苹果打折：第<span class="number">4</span>次</span><br><span class="line">苹果打折：第<span class="number">5</span>次</span><br></pre></td></tr></table></figure>

<p>需注意的是，使用yield()方法实现线程礼让只是提供一种可能，不能包装一定会实现礼让，因为礼让的线程处于就绪状态，还有可能被线程调度程序再次选中。</p>
<h4 id="7-1-sleep-和yield-的区别"><a href="#7-1-sleep-和yield-的区别" class="headerlink" title="7.1 sleep()和yield()的区别"></a>7.1 sleep()和yield()的区别</h4><p>sleep()方法和ield()方法都是Thread类的静态方法，都会使当前处于运行状态的线程放弃CPU使用权，将运行机会让给其他线程，两者区别如下：</p>
<ol>
<li>sleep()方法会给其他线程运行机会，不考虑其他线程的优先级，因此较低优先级线程可能会获得运行机会</li>
<li>yield()方法会给其他线程运行机会让给相同优先级或更高优先级的线程</li>
<li>调用sleep()方法需处理 InterrupteException 异常，而yield()方法无此要求</li>
</ol>
<h3 id="8-线程同步"><a href="#8-线程同步" class="headerlink" title="8. 线程同步"></a>8. 线程同步</h3><h4 id="8-1-多线程的安全性问题"><a href="#8-1-多线程的安全性问题" class="headerlink" title="8.1 多线程的安全性问题"></a>8.1 多线程的安全性问题</h4><ul>
<li>多个线程执行的不确定性硬气执行结果的不稳定性</li>
<li>多个线程对账本的<strong>共享,</strong> 会造成操作的不完整性, 会破坏数据.</li>
<li>多个线程访问共享的数据时可能存在安全性问题</li>
</ul>
<p>当多个线程共享数据时，由于CPU负责线程的调度，所以程序无法精确地控制多线程的交替次序，如果没有特殊控制，则多线程对共享数据的修改和访问将导致数据的不一致。</p>
<p>演示：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Site</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">5</span>;  <span class="comment">//记录剩余票数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> num;        <span class="comment">//记录买到第几张票</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//票数卖尽后跳出</span></span><br><span class="line">            <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//修改数据</span></span><br><span class="line">            num++;</span><br><span class="line">            count--;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//显示信息</span></span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;抢到第&quot;</span> + num + <span class="string">&quot;张票，剩余&quot;</span> + count + <span class="string">&quot;张票！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Site</span>(),<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Site</span>(),<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Site</span>(),<span class="string">&quot;王五&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;*****开始抢票*****&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">*****开始抢票*****</span><br><span class="line">李四抢到第1张票，剩余4张票！</span><br><span class="line">张三抢到第1张票，剩余4张票！</span><br><span class="line">王五抢到第1张票，剩余4张票！</span><br><span class="line">王五抢到第2张票，剩余3张票！</span><br><span class="line">李四抢到第2张票，剩余3张票！</span><br><span class="line">张三抢到第2张票，剩余3张票！</span><br><span class="line">王五抢到第3张票，剩余2张票！</span><br><span class="line">张三抢到第3张票，剩余2张票！</span><br><span class="line">李四抢到第3张票，剩余2张票！</span><br><span class="line">王五抢到第4张票，剩余1张票！</span><br><span class="line">张三抢到第4张票，剩余1张票！</span><br><span class="line">李四抢到第4张票，剩余1张票！</span><br><span class="line">张三抢到第5张票，剩余0张票！</span><br><span class="line">王五抢到第5张票，剩余0张票！</span><br><span class="line">李四抢到第5张票，剩余0张票！</span><br></pre></td></tr></table></figure>

<p>从上面的示例可以发现，运行结果中存在如下数据问题：</p>
<ul>
<li>出现张三李四王五共同抢到同一张票的情况，也就是多个线程的对象同时抢一张票。</li>
</ul>
<p>而多个线程共同操作同一共享资源会带来数据不安全的情况。具体原因是在 Site 类中存在以下情况：</p>
<ul>
<li>存在多个线程共同操作的变量 count、num。</li>
</ul>
<p><strong>原理：</strong></p>
<p>当一个线程在操作共享数据的时候，其他线程不能参与进来。直到这个线程操作完共享数据的时候，其他线程才可以操作。即使当这个线程操作共享数据的时候发生了阻塞，依旧无法改变这种情况。</p>
<p>而想要解决这个问题，在Java中，我们需要通过<strong>同步机制</strong>，来解决线程的安全问题。</p>
<h4 id="8-1-为什么需要线程同步"><a href="#8-1-为什么需要线程同步" class="headerlink" title="8.1 为什么需要线程同步"></a>8.1 为什么需要线程同步</h4><p>首先要先了解一下为什么需要线程同步(<strong>补充</strong>理论知识)。</p>
<p>Java允许多线程并发控制，当多个线程同时操作一个可共享的资源变量时(如数据的增删改查)，将会导致数据<strong>不准确</strong>，相互之间产生冲突，因此加入<strong>同步锁</strong>(下面会谈及到)避免在该线程没有完成操作之前，被其他线程的调用，从而保证了该变量的<strong>唯一性和准确性</strong>。</p>
<p>在日常生活中，也常常会出现竞争共享资源的情况。例如</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">商场的试衣间就是常常被顾客竞争的资源，假如在同一时刻，两位顾客都需要到同一个试衣间试衣服，而试衣间同一时刻只能容纳一人，如何解决这个问题呢？这就需要用到线程同步技术。</span><br></pre></td></tr></table></figure>

<h4 id="8-2-实现线程的同步"><a href="#8-2-实现线程的同步" class="headerlink" title="8.2 实现线程的同步"></a>8.2 实现线程的同步</h4><p>当两个或多个线程需要访问同一资源时，需要以某种顺序来确保该资源某一时刻只能被一个线程使用，这被称为线程同步。线程同步相当于为线程中需要一次性完成不允许中断的操作加上一把锁，从而<strong>解决冲突</strong>。实现为线程同步上锁有同步代码和同步方法两种形式，这两种方式都使用到 <code>synchronized</code> 关键字。</p>
<h4 id="8-2-1-同步代码块"><a href="#8-2-1-同步代码块" class="headerlink" title="8.2.1 同步代码块"></a>8.2.1 同步代码块</h4><p>语法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(同步监视器)&#123;</span><br><span class="line">    <span class="comment">//需要同步的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>同步监视器，俗称：锁。任何一个类的对象，都可以充当锁。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Site</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="comment">//记录剩余票数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//记录买到第几张票</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> num;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">                <span class="comment">//票数卖尽后跳出</span></span><br><span class="line">                <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//修改数据</span></span><br><span class="line">                count--;</span><br><span class="line">                num++;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//显示信息</span></span><br><span class="line">                System.out.println(Thread.currentThread().getName() + <span class="string">&quot;抢到第&quot;</span> + num + <span class="string">&quot;张票，剩余&quot;</span> + count + <span class="string">&quot;张票！&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Site</span> <span class="variable">site</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Site</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;*****开始抢票*****&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行以上代码运行结果为：(每次运行结果不一致，<strong>概率</strong>问题)</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">*****开始抢票*****</span><br><span class="line">张三抢到第<span class="number">1</span>张票，剩余<span class="number">9</span>张票！</span><br><span class="line">张三抢到第<span class="number">2</span>张票，剩余<span class="number">8</span>张票！</span><br><span class="line">王五抢到第<span class="number">3</span>张票，剩余<span class="number">7</span>张票！</span><br><span class="line">李四抢到第<span class="number">4</span>张票，剩余<span class="number">6</span>张票！</span><br><span class="line">李四抢到第<span class="number">5</span>张票，剩余<span class="number">5</span>张票！</span><br><span class="line">李四抢到第<span class="number">6</span>张票，剩余<span class="number">4</span>张票！</span><br><span class="line">李四抢到第<span class="number">7</span>张票，剩余<span class="number">3</span>张票！</span><br><span class="line">李四抢到第<span class="number">8</span>张票，剩余<span class="number">2</span>张票！</span><br><span class="line">王五抢到第<span class="number">9</span>张票，剩余<span class="number">1</span>张票！</span><br><span class="line">王五抢到第<span class="number">10</span>张票，剩余<span class="number">0</span>张票！</span><br></pre></td></tr></table></figure>

<h4 id="8-2-2-同步方法"><a href="#8-2-2-同步方法" class="headerlink" title="8.2.2 同步方法"></a>8.2.2 同步方法</h4><p>如果一个方法的所有代码都属于需要同步的代码，那么这个方法定义处可以直接使用 <code>synchronized</code> 关键字修饰，即同步方法。其语法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">访问修饰符 <span class="keyword">synchronized</span> 返回类型 方法名(参数列表) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p><strong>或者</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">synchronized</span> 访问修饰符 返回类型 方法名(参数列表)&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>需要注意的是，<code>synchronized</code>不能修饰<strong>构造方法</strong></p>
<p>实例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Site</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="comment">//记录剩余票数</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//记录买到第几张票</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> num;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">isRight</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (isRight) &#123;</span><br><span class="line">            show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//票数卖尽后跳出</span></span><br><span class="line">        <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            isRight = <span class="literal">false</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//修改数据</span></span><br><span class="line">            count--;</span><br><span class="line">            num++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">800</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//显示信息</span></span><br><span class="line">            System.out.println(Thread.currentThread().getName() + <span class="string">&quot;抢到第&quot;</span> + num + <span class="string">&quot;张票，剩余&quot;</span> + count + <span class="string">&quot;张票！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Site</span> <span class="variable">site</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Site</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;李四&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(site,<span class="string">&quot;王五&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;*****开始抢票*****&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果同上个示例一样(每次执行结果不同，这里就不看运行结果了)。</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>多线程</tag>
      </tags>
  </entry>
  <entry>
    <title>多态</title>
    <url>/2022/04/08/Java/Java/%E5%A4%9A%E6%80%81/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="1-1-多态概述"><a href="#1-1-多态概述" class="headerlink" title="1.1 多态概述"></a>1.1 多态概述</h3><p>同一个对象，在不同时刻表达出来的不同形态。</p>
<p>多态同一个接口，使用不同的实例而执行不同操作 。</p>
<h3 id="1-2-多态存在的三个必要条件"><a href="#1-2-多态存在的三个必要条件" class="headerlink" title="1.2 多态存在的三个必要条件"></a>1.2 多态存在的三个必要条件</h3><ul>
<li>继承</li>
<li>重写</li>
<li>父类引用指向子类对象：<code>Parent p = new Child()</code>;</li>
</ul>
<h3 id="1-3-实现多态有哪几种方式？"><a href="#1-3-实现多态有哪几种方式？" class="headerlink" title="1.3 实现多态有哪几种方式？"></a>1.3 实现多态有哪几种方式？</h3><p><strong>1. 使用父类作为方法形参实现多态</strong></p>
<p>例子：实现一个主人(Host)类，通过多态实现主人控制动物叫的功能</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 动物类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物叫&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 狗狗类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cry</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;汪汪汪&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 主人类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Host</span> &#123;</span><br><span class="line">    <span class="comment">//使用父类作为方法形参实现多态</span></span><br><span class="line">    <span class="comment">//Animal a = Animal a = new Animal()</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">letCry</span><span class="params">(Animal a)</span>&#123;</span><br><span class="line">        a.cry();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Host</span> <span class="variable">host</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Host</span>();</span><br><span class="line">        <span class="comment">//将父类引用指向子类对象</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="comment">//调用主人类的方法</span></span><br><span class="line">        host.letCry(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<p><img src="https://a.ideaopen.cn/Mercury/44KKnnov.png" alt="img"></p>
<p><strong>2. 父类作为方法返回值实现多态</strong></p>
<p>示例：假设小狗、小猫、小鸭子被一个主人领养，这个主人可以根据其他人的需求任意送出一只小动物，送出的小动物可以叫。</p>
<p>在上个示例的动物继承关系的基础上，定义<code>Host</code>类的<code>donate()</code>方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> Animal;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 月光下的风</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Host</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 父类作为方法形参实现多态</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">letCry</span><span class="params">(Animal a)</span>&#123;</span><br><span class="line">        a.cry();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 父类作为返回值实现多态</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type  参数</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span>  animal</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> Animal <span class="title function_">donate</span><span class="params">(String type)</span>&#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span>(type == <span class="string">&quot;dog&quot;</span>)&#123;</span><br><span class="line">            animal = <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">&quot;cat&quot;</span>)&#123;</span><br><span class="line">            animal = <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(type == <span class="string">&quot;duck&quot;</span>)&#123;</span><br><span class="line">            animal = <span class="keyword">new</span> <span class="title class_">Duck</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> animal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>测试类：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> Animal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Host</span> <span class="variable">host</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Host</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> host.donate(<span class="string">&quot;cat&quot;</span>);	<span class="comment">//host.dnoate == new Animal</span></span><br><span class="line">        animal.cry();</span><br><span class="line"></span><br><span class="line">       <span class="comment">//animal = host.donate(&quot;dog&quot;);</span></span><br><span class="line">       <span class="comment">//animal.cry();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果为：喵喵喵</p>
<p>总结一下：</p>
<ul>
<li><p>方法的形参是类名，其实需要的是该类的对象</p>
</li>
<li><p>方法的返回值是类名，其实返回的是该类的对象</p>
</li>
</ul>
<h3 id="1-4-instanceof-运算符"><a href="#1-4-instanceof-运算符" class="headerlink" title="1.4 instanceof  运算符"></a>1.4 instanceof  运算符</h3><p>语法：</p>
<ul>
<li>对象 <code>instanceof</code> 类或接口</li>
</ul>
<p>该运算符用来判断一个对象是否属于一个类或实现了一个接口，结果为<code>ture</code>和<code>fasle</code>。在强转类型转换之前通过<code>instanceof</code>运算符检查对象的真实性，在进行相应的强制类型转换，这样就可以避免类型转换异常，从而提高代码的健壮性。</p>
<h3 id="1-4-多态中成员访问特点"><a href="#1-4-多态中成员访问特点" class="headerlink" title="1.4 多态中成员访问特点"></a>1.4 多态中成员访问特点</h3><ul>
<li>成员变量：编译看左边，执行看左边</li>
<li>成员方法：编译看左边，执行看右边</li>
</ul>
<p>示例：</p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">40</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物吃东西&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫抓老鼠&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playGame</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫捉迷藏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//将父类引用指向子类对象</span></span><br><span class="line">        <span class="comment">//父类 对象名 = new 子类()</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"></span><br><span class="line">        System.out.println(animal.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>执行结果为：<strong>40</strong></p>
<p>此时是访问成员变量，编译看左边，也就是看父类中，有没有所调用的成员变量，没有则报错。</p>
<p>如下：</p>
<p><img src="https://a.ideaopen.cn/Mercury/kPcwAWgt.png" alt="img"></p>
<p>父类中没有weight变量，所以便报错；执行看左边，范围是父类，而父类中age成员变量的值是40，所以执行结果为40。</p>
<p>此时访问<strong>成员方法</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/mUU99uqV.png" alt="img"></p>
<p>按成员方法的访问特点来看，编译看左，也就是看父类中有没有这个成员方法，这里<code>eat()</code>方法没有报错，因为父类中有<code>eat()</code>方法。那为什么运行的不是父类中的<code>eat()</code>方法呢？这时要想到成员方法的访问特点，成员方法执行看右，也就是执行子类<code>Cat</code>重写的<code>eat()</code>方法。</p>
<p>运行结果</p>
<p><img src="https://a.ideaopen.cn/Mercury/pIvPo1zp.png" alt="img"></p>
<h3 id="1-5-多态的好处和弊端"><a href="#1-5-多态的好处和弊端" class="headerlink" title="1.5 多态的好处和弊端"></a>1.5 多态的好处和弊端</h3><ul>
<li>多态的好处：提高了程序的扩展性</li>
<li>具体体现：定义方法的税后，使用父类型作为参数，将来在使用的时候，使用具体的子类型参与操作</li>
<li>多态的弊端：不能使用子类的特有功能</li>
</ul>
<h3 id="1-6-多态的优点"><a href="#1-6-多态的优点" class="headerlink" title="1.6 多态的优点"></a>1.6 多态的优点</h3><ol>
<li><p>消除类型之间的耦合关系</p>
</li>
<li><p>可替换性</p>
</li>
<li><p>可扩充性</p>
</li>
<li><p>接口性</p>
</li>
<li><p>灵活性</p>
</li>
<li><p>简化性</p>
</li>
</ol>
<h3 id="1-7-多态中的转型"><a href="#1-7-多态中的转型" class="headerlink" title="1.7 多态中的转型"></a>1.7 多态中的转型</h3><p>特点：能够实现子类的特有功能</p>
<p><strong>向上转型</strong>    自转</p>
<ul>
<li>从子到父</li>
<li>父类引用指向子类对象</li>
</ul>
<p>示例：</p>
<p><strong>父类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;动物吃东西&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>子类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫抓老鼠&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">playGame</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;猫捉迷藏&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试类</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//将父类引用指向子类对象  向上转型</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        a.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>而当我们想实现子类的<code>playGame()</code>方法，那应该怎么办呢？</p>
<p><img src="https://a.ideaopen.cn/Mercury/0ha4JJ3N.png" alt="img"></p>
<p>那这时候就要用到<strong>向下转型</strong>了。</p>
<p><strong>向下转型</strong>    强转</p>
<ul>
<li>从父到子    </li>
<li>父类引用转为子类对象</li>
</ul>
<p>示例：</p>
<p><img src="https://a.ideaopen.cn/Mercury/7XWb2Tza.png" alt="img"></p>
<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/KISBKCzk.png" alt="img"></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>异常</title>
    <url>/2022/04/27/Java/Java/%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-异常"><a href="#1-异常" class="headerlink" title="1. 异常"></a>1. 异常</h2><h3 id="1-1-异常概述"><a href="#1-1-异常概述" class="headerlink" title="1.1 异常概述"></a>1.1 异常概述</h3><p>异常：程序出现了不正常的情况</p>
<h3 id="1-2-异常分类及处理流程"><a href="#1-2-异常分类及处理流程" class="headerlink" title="1.2 异常分类及处理流程"></a>1.2 异常分类及处理流程</h3><p><img src="https://a.ideaopen.cn/Mercury/YJWBQrNx.png" alt="img"></p>
<ul>
<li>Error 类：Java.lang.Error类包含仅靠程序本身无法恢复的严重错误，一般指与JVM相关的问题，是Java环境的内部错误或硬件问题，如内存资源不足，JVM错误等。应用程序不应抛出这种类型的对象(由JVM抛出)。假如出现这种错误，除尽力使程序安全同退出外，其他方法是无能为力的。因此在进行程序运行时，应该更关心Exception类。</li>
<li>Exception 类：称为<strong>异常</strong>类，表示程序本身可以处理的问题<ul>
<li>运行时异常：正常编译，但运行时会检查出问题，我们可以借助提供的报错信息来修正代码。</li>
<li>Checked异常：除运行时异常外的异常，是由用户错误或问题引起的异常。在编译时，编译器会提示这类异常需要捕获，如果不进行捕获，则会出现编译错误。常见的编译异常有<code>EileNotFoundException</code>异常、<code>SQLException</code>异常等。</li>
<li>这两种异常类型，下面会用到并讲解。</li>
</ul>
</li>
</ul>
<h3 id="1-3-异常处理结构"><a href="#1-3-异常处理结构" class="headerlink" title="1.3 异常处理结构"></a>1.3 异常处理结构</h3><p>Java针对异常的处理提供了<code>try、catch、finally、throws、throw</code>五个核心关键字，其中前三个关键字就可以组成常用的异常处理结构，语法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//有可能出现异常的语句</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(异常类型 异常对象) &#123;</span><br><span class="line">    <span class="comment">//异常处理语句</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">//一定会运行到的语句</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<p>其中，<code>try</code>语句用于监听，将可能抛出异常的代码放在try语句块内，当<code>try</code>语句块内发生异常时，异常就被JVM抛出；<code>catch</code>语句用于捕获<code>try</code>语句块中抛出的异常，捕获到后进行异常的处理，执行完毕后，程序还可以往下执行，<code>finally</code>语句块总会被执行，主要用于回收try语句块内打开的资源，如数据库连接、网络连接和磁盘文件。</p>
<p>异常常见组合有<code>try-catch、try-catch-finally、try-finally</code> 三种</p>
<h3 id="1-4-JVM-的默认处理方案"><a href="#1-4-JVM-的默认处理方案" class="headerlink" title="1.4 JVM 的默认处理方案"></a>1.4 JVM 的默认处理方案</h3><p>如果程序出现了问题，我们没有做任何处理，最终JVM会做出<strong>默认的处理</strong></p>
<ul>
<li>把异常的名称，异常原因及异常出现的位置输出在了控制台</li>
<li>程序停止运行</li>
</ul>
<h3 id="1-5-在程序中处理异常"><a href="#1-5-在程序中处理异常" class="headerlink" title="1.5 在程序中处理异常"></a>1.5 在程序中处理异常</h3><h3 id="1-5-1-try-catch-的使用"><a href="#1-5-1-try-catch-的使用" class="headerlink" title="1.5.1 try-catch 的使用"></a>1.5.1 try-catch 的使用</h3><p>示例，当果商数输入为0时：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用try-catch处理异常</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果实采摘数量（公斤）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果商数（家）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;每家果商供应&quot;</span> + weight/num + <span class="string">&quot;公斤水果。&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误：采摘量和果商数应为整数，果商数应大于零！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试：</p>
<p><img src="https://a.ideaopen.cn/Mercury/z6bsXTaw.png" alt="img"></p>
<p>而这样的提示不能明确地描述异常类型，不能精确定位问题所在。更好的方法是使用异常中的提供的<code>printStackTraace()</code>方法进行异常信息的完整输出。如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用try-catch处理异常</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果实采摘数量（公斤）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果商数（家）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;每家果商供应&quot;</span> + weight/num + <span class="string">&quot;公斤水果。&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误：采摘量和果商数应为整数，果商数应大于零！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();<span class="comment">//输出完整异常信息</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当果商数输入为0时：</p>
<p><img src="https://a.ideaopen.cn/Mercury/RK9pZjvM.png" alt="img"></p>
<p>当输入数据为非整数时：</p>
<p><img src="https://a.ideaopen.cn/Mercury/mFDPAfgl.png" alt="img"></p>
<p>从上述结果可以看出，Java异常处理机制可以自动捕获不同类型的异常。接下来再说说<code>catch</code>括号中<code>Exception</code>类型的常用方法。</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><code>void printStackTrace()</code></td>
<td>输出异常堆栈信息。堆栈信息中包含程序运行到当前类的执行流程，它将输出从方法调用处到异常抛出处的方法调用序列</td>
</tr>
<tr>
<td><code>String getMessage()</code></td>
<td>返回异常的详细信息。该信息描述异常产生的原因，是<code>printStackTrace()</code>方法输出的一部分</td>
</tr>
</tbody></table>
<blockquote>
<p>因为使用<code>printStackTrace()</code> 方法输出的异常信息是最完整的，所以后续会使用该方法进行常量信息输出。在其输出结果，可以自下向上观察程序的执行轨迹，最终定位到异常发生的位置。</p>
</blockquote>
<h3 id="1-5-2-try-catch-finally"><a href="#1-5-2-try-catch-finally" class="headerlink" title="1.5.2 try-catch-finally"></a>1.5.2 try-catch-finally</h3><p>程序跳转到<code>catch</code>后，后续输出语句将不再被执行。如果需要继续执行后面的语句，需用到<code>finally</code> 示例如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入果实采摘量（公斤）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入果商数（家）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;每家果商供应&quot;</span> + weight / num + <span class="string">&quot;公斤水果。&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误，采摘量和果商数应为整数，果商数应大于零！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();<span class="comment">//输出完整异常信息</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;欢迎再来，预祝生意兴隆&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在异常处理过程中，无论是否出现异常，最终都会执行<code>finally</code>语句块中的代码。<code>finally</code>语句往往会在开发中进行一些资源释放操作，无论操作是否正常执行都必须完成这些操作。</p>
<p><strong>注意：</strong></p>
<blockquote>
<p>即使在<code>try</code>或<code>catch</code>语句块中添加了<code>return</code>语句，<code>finally</code>语句块也会被正常执行。那么，是否有finally语句不被执行的情况呢？在异常处理代码中执行<code>System.exit(1)</code>，将退出JVM。</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入果实采摘量（公斤）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;请输入果商数（家）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;每家果商供应&quot;</span> + weight / num + <span class="string">&quot;公斤水果。&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误，采摘量和果商数应为整数，果商数应大于零！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();<span class="comment">//输出完整异常信息</span></span><br><span class="line">            System.exit(<span class="number">1</span>);	<span class="comment">//退出JVM</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;欢迎再来，预祝生意兴隆&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/9Qx0VjBg.png" alt="img"></p>
<h3 id="1-6-多重catch语句"><a href="#1-6-多重catch语句" class="headerlink" title="1.6 多重catch语句"></a>1.6 多重catch语句</h3><p>语法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">	<span class="comment">//有可能出现异常的语句</span></span><br><span class="line">&#125;<span class="keyword">catch</span> (异常类型 <span class="number">1</span> 异常对象)&#123;</span><br><span class="line">    <span class="comment">//异常处理语句</span></span><br><span class="line">&#125;<span class="keyword">catch</span> (异常类型 <span class="number">2</span> 异常对象)&#123;</span><br><span class="line">    <span class="comment">//异常处理语句</span></span><br><span class="line">&#125; ………… &#123;</span><br><span class="line">   <span class="comment">//代码块</span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//一定会运行到的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>catch</code>括号中的异常类型有：<code>AirthmeticException</code>——算术异常和 <code>InputMismatchEexception</code>——输入类型不匹配异常</p>
<p>由于程序中只定义了一个catch语句且参数类型为<code>Exception</code> ，是以上两种异常类型的父类，所以能够被该<code>catch</code>语句全部捕获，所以能够被该<code>catch</code>语句全部捕获，执行相同的异常处理程序。</p>
<h3 id="1-7-多重catch语句异常类型的运用"><a href="#1-7-多重catch语句异常类型的运用" class="headerlink" title="1.7 多重catch语句异常类型的运用"></a>1.7 多重catch语句异常类型的运用</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">input</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果实采摘量（公斤）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">weight</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.print(<span class="string">&quot;请输入果商数（家）：&quot;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> input.nextInt();</span><br><span class="line">            System.out.println(<span class="string">&quot;每家果商供应&quot;</span> + weight / num + <span class="string">&quot;公斤水果。&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ArithmeticException ex) &#123;	<span class="comment">//算术异常</span></span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误：果商数应大于零！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InputMismatchException ex)&#123;	<span class="comment">//输入类型不匹配异常</span></span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误：果商采摘量和果商数应为整数！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception ex)&#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;出现错误，采摘量和果商数应为整数，果商数应大于零！&quot;</span>);</span><br><span class="line">            ex.printStackTrace();<span class="comment">//输出完整异常信息</span></span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;欢迎再来，预祝生意兴隆&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>算术异常：</p>
<p><img src="https://a.ideaopen.cn/Mercury/EumGWRs3.png" alt="img"></p>
<p>输入类型不匹配异常：</p>
<p><img src="https://a.ideaopen.cn/Mercury/TXKGpqkN.png" alt="img"></p>
<h3 id="1-8-编译时异常和运行时异常"><a href="#1-8-编译时异常和运行时异常" class="headerlink" title="1.8 编译时异常和运行时异常"></a>1.8 编译时异常和运行时异常</h3><p>文章开始便讲到的异常分类，再来结合了解一下。Java中的异常被分为两大类：编译时异常和运行时异常，也被称为受检异常和非受检异常，所有的RuntimeException类及其子类被称为运行时异常，其他的异常都是编译时异常</p>
<ul>
<li>编译时异常：必须显示处理，否则程序就会发生错误，无法通过编译</li>
<li>运行时异常：无需显示处理，也可以和编译时异常一样处理</li>
</ul>
<h3 id="1-9-常见的编译时异常和运行时异常类型"><a href="#1-9-常见的编译时异常和运行时异常类型" class="headerlink" title="1.9 常见的编译时异常和运行时异常类型"></a>1.9 常见的编译时异常和运行时异常类型</h3><ul>
<li><p>常见的编译时异常</p>
<ul>
<li><p>FileNotFoundException</p>
</li>
<li><p>ClassNotFoundException</p>
</li>
<li><p>SQLException</p>
</li>
<li><p>NoSuchFieldException</p>
</li>
<li><p>NoSuchMethodException</p>
</li>
<li><p>ParseException</p>
</li>
</ul>
</li>
<li><p>常见的运行时异常</p>
<ul>
<li><p>NullPointerException</p>
</li>
<li><p>ArithmeticException</p>
</li>
<li><p>ClassCastException</p>
</li>
<li><p>ArrayIndexOutOfBoundsException</p>
</li>
<li><p>StringIndexOutOfBoundsException</p>
</li>
</ul>
</li>
</ul>
<p>接下来演示区别：</p>
<p><img src="https://a.ideaopen.cn/Mercury/r4DIPSuA.png" alt="img"></p>
<p>运行：</p>
<p><img src="https://a.ideaopen.cn/Mercury/q1cxUu4n.png" alt="img"></p>
<p>可以看到，<code>method()</code>方法是没有报错的，但运行程序后，程序报错数组越界了，这也就是所说的运行时异常。处理这个异常，使用try-catch来处理。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 运行时异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">int</span> array[] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">            System.out.println(array[<span class="number">3</span>]);	<span class="comment">//ArrayIndexOutOfBoundsException</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (ArrayIndexOutOfBoundsException ex)&#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>运行：</p>
<p><img src="https://a.ideaopen.cn/Mercury/jRA3F69a.png" alt="img"></p>
<p>总结运行时异常：</p>
<p>运行时异常：正常编译，但运行时会检查出问题，我们可以借助提供的报错信息来修正代码。</p>
<p>编译时异常：</p>
<p><img src="https://a.ideaopen.cn/Mercury/fT3m7sxO.png" alt="img"></p>
<p>parse是ParseException异常——父类Exception，为运行时异常，这时就需要处理这个显示异常了，还是使用try-catch来处理。</p>
<p><img src="https://a.ideaopen.cn/Mercury/stFb04VO.png" alt="img"></p>
<h3 id="1-8-声明异常"><a href="#1-8-声明异常" class="headerlink" title="1.8 声明异常"></a>1.8 声明异常</h3><p>虽然我们通过try…catch…可以对异常进行处理，但是并不是所有的情况我们都有权限进行异常的处理。也就是说，有些时候可能出现的异常是我们处理不了的，这个时候该怎么办呢？针对这种情况，Java提供了<code>throws</code>的处理方案</p>
<blockquote>
<p><code>throws</code>关键字是方法可能抛出异常的声明，用在所声明的方法时，表示该方法可能会抛出此异常类型。</p>
</blockquote>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> 方法名() <span class="keyword">throws</span> 异常类型&#123;</span><br><span class="line">    <span class="comment">//方法体</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>throws关键字可以在一个方法定义处声明<strong>一类</strong>或<strong>多类</strong>异常，多类异常间使用<strong>逗号</strong>分隔。</p>
</blockquote>
<p><strong>运行时异常</strong>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionDemo</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 运行时异常</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> <span class="keyword">throws</span> ArrayIndexOutOfBoundsException&#123;</span><br><span class="line">        <span class="type">int</span> array[] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">        System.out.println(array[<span class="number">3</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ExceptionDemo</span> <span class="variable">ed</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExceptionDemo</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----开始-----&quot;</span>);</span><br><span class="line">        ed.method();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----结束-----&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/jtSBvgzu.png" alt="img"></p>
<p>结合上述知识点来说，<code>throws</code>只是将<code>method</code>方法抛出去了，如果还想往下执行，就要用到<code>try-catch</code>或是在方法后面加上声明异常，但在<code>main</code>方法中<strong>不建议</strong>使用，这里也是用的<code>try-catch</code>来处理的。</p>
<p>接下来说说<strong>编译时异常</strong>：</p>
<p><img src="https://a.ideaopen.cn/Mercury/zD54Tlo7.png" alt="img"></p>
<p>我们可以看到，这时调用method2方法报错了，报错是因为调用者未处理异常。这时解决这个异常的方法是为其添加<code>try-catch</code> </p>
<p><img src="https://a.ideaopen.cn/Mercury/hx7ecFTk.png" alt="img"></p>
<h3 id="1-9-自定义异常"><a href="#1-9-自定义异常" class="headerlink" title="1.9 自定义异常"></a>1.9 自定义异常</h3><p>语法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> class 异常类名 <span class="keyword">extends</span> <span class="title class_">Exception</span> &#123;</span><br><span class="line">    <span class="comment">//无参构造</span></span><br><span class="line">    <span class="comment">//有参构造</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-9-1-概述"><a href="#1-9-1-概述" class="headerlink" title="1.9.1 概述"></a>1.9.1 概述</h3><p>当Java异常体系中提供的异常类型不能满足程序的需要时，可以自定义异常。</p>
<h3 id="1-9-2-使用自定义异常的步骤"><a href="#1-9-2-使用自定义异常的步骤" class="headerlink" title="1.9.2 使用自定义异常的步骤"></a>1.9.2 使用自定义异常的步骤</h3><ul>
<li>定义异常类，继承Exception类或RuntimeException类。</li>
<li>编写异常类的构造方法，并继承父类的实现。常见的的构造方法有四种，可根据需求选择添加实现。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//构造方法1</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Exception</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造方法2</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Exception</span><span class="params">(String message)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span> (message);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造方法3</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Exception</span><span class="params">(String message, Throwable cause)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span> (message, cause);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//构造方法4</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Exception</span><span class="params">(Throwable cause)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span> (cause);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>实例化自定义异常对象，并使用<code>throw</code>关键字抛出。</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 异常类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScoreException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ScoreException</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ScoreException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 操作类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkScore</span><span class="params">(<span class="type">int</span> score)</span> <span class="keyword">throws</span> ScoreException&#123;</span><br><span class="line">        <span class="keyword">if</span>(score &lt; <span class="number">0</span> || score &gt; <span class="number">100</span>)&#123;</span><br><span class="line">            <span class="comment">//实例化自定义异常对象，并使用throw关键字抛出</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ScoreException</span>();	<span class="comment">//抛出无参</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;分数正常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TeacherTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;请输入分数&quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">score</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Teacher</span> <span class="variable">teacher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line">            teacher.checkScore(score);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ScoreException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行，看看异常报错：</p>
<p><img src="https://a.ideaopen.cn/Mercury/1zRQG15a.png" alt="img"></p>
<p>再来看看有参：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 操作类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkScore</span><span class="params">(<span class="type">int</span> score)</span> <span class="keyword">throws</span> ScoreException&#123;</span><br><span class="line">        <span class="keyword">if</span>(score &lt; <span class="number">0</span> || score &gt; <span class="number">100</span>)&#123;</span><br><span class="line">            <span class="comment">//实例化自定义异常对象，并使用throw关键字抛出</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ScoreException</span>(<span class="string">&quot;输入的分数不正确！&quot;</span>);	<span class="comment">//抛出有参</span></span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;分数正常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tuvndlAm.png" alt="img"></p>
<p>报错信息清晰明了。</p>
<h2 id="2-log4j2日志"><a href="#2-log4j2日志" class="headerlink" title="2. log4j2日志"></a>2. log4j2日志</h2><h3 id="2-1-配置"><a href="#2-1-配置" class="headerlink" title="2.1 配置"></a>2.1 配置</h3><p>首先，在<code>src</code>中新建一个文件夹，文件夹名为<code>lib</code>或<code>jar</code>。</p>
<p><img src="https://a.ideaopen.cn/Mercury/7ChGEVIq.png" alt="img"></p>
<p>创建好了之后，将<code>log4j2</code>的<code>jar</code>放入所建的<code>lib</code>项目文件夹中</p>
<p><img src="https://a.ideaopen.cn/Mercury/OnsiaKHf.png" alt="img"></p>
<p>放入之后我们进入项目结构设置</p>
<p><img src="https://a.ideaopen.cn/Mercury/KfB3avx4.png" alt="img"></p>
<p> 然后点击+号导入<code>lib</code>中的两个包，勾选后确认。 </p>
<p><img src="https://a.ideaopen.cn/Mercury/1WWp2dqL.png" alt="img"></p>
<p> 这样初步配置就完成了。 </p>
<h2 id="2-2-使用"><a href="#2-2-使用" class="headerlink" title="2.2 使用"></a>2.2 使用</h2><h3 id="1-编写配置文件"><a href="#1-编写配置文件" class="headerlink" title="1. 编写配置文件"></a>1. 编写配置文件</h3><p>配置文件用来配置日志信息，自定义日志的输出位置、格式和内容。配置文件的扩展名可为.xml、.json或.jsn等。Log4j2中没有默认的配置文件，需要手动创建、一般使用log4j2.xml命名配置文件。</p>
<h3 id="2-定义日志记录器-Logger"><a href="#2-定义日志记录器-Logger" class="headerlink" title="2. 定义日志记录器 Logger"></a>2. 定义日志记录器 Logger</h3><p>在使用Log4j2时，需要先在类中获取一个Logger对象，然后通过调用静态方法LogManager.getLogger()实现。这个Logger对象被称为日志记录器。获取日志记录器的方式如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//导包</span></span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.LogManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.logging.log4j.Logger;</span><br><span class="line"><span class="comment">//省略代码</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LogManager.getLogger(类名.class.getName());</span><br></pre></td></tr></table></figure>

<h3 id="3-记录日志"><a href="#3-记录日志" class="headerlink" title="3. 记录日志"></a>3. 记录日志</h3><h3 id="1-XML"><a href="#1-XML" class="headerlink" title="1 XML"></a>1 XML</h3><p>不过我们要对<code>Log4j2</code>进行一定的配置才可以让他数据更加详细和符合要求，我们在<code>src</code>下新建一个<code>log4j2.xml</code>文件。</p>
<p><code>xml</code>中我们可以书写一些定义和标识。可以自己了解。</p>
<p>我的<code>XML</code>文件配置如下。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span><br><span class="line">&lt;configuration staus=<span class="string">&quot;OFF&quot;</span>&gt;</span><br><span class="line">    &lt;appenders&gt;</span><br><span class="line">        &lt;!--输出日志到控制台的配置--&gt;</span><br><span class="line">        &lt;Console name=<span class="string">&quot;Console&quot;</span> target=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span><br><span class="line">        &lt;PatternLayout pattern=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss&#125; [%l] %-5level - %msg%n&quot;</span> /&gt;</span><br><span class="line">    &lt;/Console&gt;</span><br><span class="line">         &lt;!--输出日志到文件的配置--&gt;     </span><br><span class="line">        &lt;File name=<span class="string">&quot;log&quot;</span> fileName=<span class="string">&quot;log/test.log&quot;</span>&gt;</span><br><span class="line">            &lt;PatternLayout pattern=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:ss&#125; [%l] %-5level - %msg%n&quot;</span> /&gt;</span><br><span class="line">        &lt;/File&gt;</span><br><span class="line">    &lt;/appenders&gt;</span><br><span class="line">    &lt;loggers&gt;</span><br><span class="line">        &lt;root level=<span class="string">&quot;all&quot;</span>&gt;</span><br><span class="line">            &lt;appender-ref ref=<span class="string">&quot;Console&quot;</span>/&gt;</span><br><span class="line">            &lt;appender-ref ref=<span class="string">&quot;log&quot;</span>/&gt;</span><br><span class="line">         &lt;/root&gt;</span><br><span class="line">      &lt;/loggers&gt;</span><br><span class="line"> &lt;/configuration&gt;</span><br></pre></td></tr></table></figure>

<p>然后简单运行一句输出语句</p>
<p><img src="https://a.ideaopen.cn/Mercury/AzQm13cT.jpg" alt="img"></p>
<p>我们就可以看到日志的输出了。</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>继承</title>
    <url>/2022/04/03/Java/Java/%E7%BB%A7%E6%89%BF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-继承"><a href="#1-继承" class="headerlink" title="1. 继承"></a>1. 继承</h2><h3 id="1-1-继承概述"><a href="#1-1-继承概述" class="headerlink" title="1.1 继承概述"></a>1.1 继承概述</h3><p>继承是面向对象三大特征之一，可以使得子类具有父类的属性和方法，还可以在子类中重新定义，追加属性和方法。</p>
<p><strong>继承的格式：</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[ 访问修饰符 ] <span class="keyword">class</span> <span class="title class_">Zi</span> <span class="keyword">extends</span> <span class="title class_">Fu</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>其中，<code>Zi</code> 被称为子类或派生类，<code>Fu</code> 被称为父类或基类。</p>
<p><strong>继承中子类的特点：</strong></p>
<ul>
<li>子类可以有父类的内容</li>
<li>子类还可以有自己特有的内容</li>
</ul>
<h3 id="1-2-继承的规则："><a href="#1-2-继承的规则：" class="headerlink" title="1.2 继承的规则："></a>1.2 继承的规则：</h3><ul>
<li>可以继承父类中<code>public</code>和<code>protected</code>修饰的属性和方法，不论子类和父类是否在同一个包中。</li>
<li>可以继承默认访问修饰符的属性和方法，但是子类和父类必须在同一个包中。</li>
<li>无法继承<code>private</code>修饰符的属性和方法</li>
<li>无法继承父类的构造方法</li>
</ul>
<p><strong>注意：</strong></p>
<blockquote>
<p>在Java中只支持单继承，即每个类只能有一个直接父类。</p>
<p>Java中类支持多层继承</p>
</blockquote>
<h3 id="1-3-什么时候使用继承？"><a href="#1-3-什么时候使用继承？" class="headerlink" title="1.3 什么时候使用继承？"></a>1.3 什么时候使用继承？</h3><blockquote>
<p>假设两个类，分别为A和B，A满足B的一种，或是B是A的一种，便说明A和B之间存在继承关系</p>
<p>举例：狗和动物，学生和老师，苹果和水果，猫和狗。</p>
</blockquote>
<h3 id="1-4-继承的好处："><a href="#1-4-继承的好处：" class="headerlink" title="1.4 继承的好处："></a>1.4 继承的好处：</h3><p>提高了代码的复用性（多个相同的成员放到同一个类中）</p>
<p>提高了代码的维护性（便于修改代码，修改一处即可）</p>
<h3 id="1-5-继承中变量的访问特点"><a href="#1-5-继承中变量的访问特点" class="headerlink" title="1.5 继承中变量的访问特点"></a>1.5 继承中变量的访问特点</h3><p> 在子类方法中访问一个变量</p>
<ul>
<li>先从子类局部范围开始找</li>
<li>再从子类成员范围开始找</li>
<li>最后从父类成员范围开始找</li>
<li>最最后如果没有找到就会报错</li>
</ul>
<p>如下：</p>
<p><strong>父类</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/Sbke4nvq.png" alt="img"></p>
<p><strong>子类</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/gbNE9VEm.png" alt="img"></p>
<p><strong>测试类</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/IMx5QBaI.png" alt="img"></p>
<p><strong>运行结果</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/7WLSKx3l.png" alt="img"></p>
<p>以此类推，子类方法局部先，子类成员紧跟后，父类成员靠边行。</p>
<h3 id="1-6-super"><a href="#1-6-super" class="headerlink" title="1.6 super"></a>1.6 super</h3><p><code>super</code> 关键字的用法和<code>this</code> 关键字用法相似</p>
<ul>
<li><code>this</code> : 指向本类对象的引用（用在本类较多）</li>
<li><code>super</code>：指向父类存储空间的标识（可理解为父类对象的引用）</li>
</ul>
<table>
<thead>
<tr>
<th>关键字</th>
<th>访问成员变量</th>
<th>访问构造方法</th>
<th>访问成员方法</th>
</tr>
</thead>
<tbody><tr>
<td>this</td>
<td>this.成员变量</td>
<td>this(…)</td>
<td>this.成员方法(…)</td>
</tr>
<tr>
<td>super</td>
<td>super.成员变量 访问父类成员变量</td>
<td>super(…)访问父类构造方法</td>
<td>super.成员方法(…)访问父类成员方法</td>
</tr>
</tbody></table>
<h3 id="1-7-继承中构造方法的访问特点"><a href="#1-7-继承中构造方法的访问特点" class="headerlink" title="1.7 继承中构造方法的访问特点"></a>1.7 继承中构造方法的访问特点</h3><p>子类中的所有构造方法默认都会访问父类中的无参构造方法</p>
<p>why?</p>
<ul>
<li>因为子类会继承父类中的数据，可能还会使用父类的数据。所以，子类初始化之前，一定要先完成父类数据的初始化。</li>
<li>每一个子类构造方法的第一条语句默认都是：<code>super()</code> ——访问父类无参构造方法</li>
</ul>
<p><strong>父类：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/6JEegCaf.png" alt="img"></p>
<p><strong>子类：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/AtQXNIDS.png" alt="img"></p>
<p><strong>测试类：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/DNliR3L7.png" alt="img"></p>
<p><strong>运行结果：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/HwGThJyt.png" alt="img"></p>
<h3 id="1-8-继承中成员方法的访问特点"><a href="#1-8-继承中成员方法的访问特点" class="headerlink" title="1.8 继承中成员方法的访问特点"></a>1.8 继承中成员方法的访问特点</h3><p>就近原则 通过子类访问一个方法</p>
<ul>
<li>子类成员范围找</li>
<li>父类成员范围找</li>
<li>没有找到就报错</li>
</ul>
<h2 id="2-方法重写"><a href="#2-方法重写" class="headerlink" title="2.方法重写"></a>2.方法重写</h2><h3 id="1-方法重写概述"><a href="#1-方法重写概述" class="headerlink" title="1. 方法重写概述"></a>1. 方法重写概述</h3><p>子类中出现了和父类一模一样的方法声明</p>
<h3 id="2-方法重写的规则"><a href="#2-方法重写的规则" class="headerlink" title="2.方法重写的规则"></a>2.方法重写的规则</h3><p>需注意：构造方法不能被重写（不能被继承，因此不能重写）<br>方法重写的规则：</p>
<ol>
<li>方法名相同</li>
<li>参数列表相同</li>
<li>返回值类型相同或者是其子类</li>
<li>访问权限不能严于父类</li>
</ol>
<h3 id="3-方法重写的应用"><a href="#3-方法重写的应用" class="headerlink" title="3.方法重写的应用"></a>3.方法重写的应用</h3><p>当子类需要父类的功能时，子类可以根据需要，来重写父类中的方法，这样即沿袭了父类的功能，又定义了子类特有的内容。</p>
<p>示例：</p>
<p><strong>父类</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/2JCBEfT9.png" alt="img"></p>
<p><strong>子类：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/C4zaBaUE.png" alt="img"></p>
<p><strong>测试类</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/501NNi2V.png" alt="img"></p>
<p><strong>运算结果：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/1Z91u7Gc.png" alt="img"></p>
<p>这时应用方法重写</p>
<p><img src="https://a.ideaopen.cn/Mercury/nwunZtWE.png" alt="img"></p>
<p>运算结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/5CRAHQmq.png" alt="img"></p>
<ul>
<li>私有方法不能被重写(父类私有成员子类是不能被继承的)</li>
<li>子类方法访问权限不能更低（<code>public</code> &gt; 默认 &gt; 私有）</li>
</ul>
<h3 id="4-方法重载和方法重写的区别"><a href="#4-方法重载和方法重写的区别" class="headerlink" title="4. 方法重载和方法重写的区别"></a>4. 方法重载和方法重写的区别</h3><table>
<thead>
<tr>
<th>方法</th>
<th>位置</th>
<th>方法名</th>
<th>参数表</th>
<th>返回值</th>
<th>访问修饰符</th>
</tr>
</thead>
<tbody><tr>
<td>方法重写</td>
<td>子类</td>
<td>相同</td>
<td>相同</td>
<td>相同或是其子类</td>
<td>子类方法访问权限不能更低（public &gt; 默认 &gt; 私有）</td>
</tr>
<tr>
<td>方法重载</td>
<td>同类</td>
<td>相同</td>
<td>不相同</td>
<td>无关</td>
<td>无关</td>
</tr>
</tbody></table>
<h2 id="3-final"><a href="#3-final" class="headerlink" title="3. final"></a>3. final</h2><p>final关键字是最终的意思，可以修饰成员方法，成员变量，类</p>
<p>final修饰的特点</p>
<ul>
<li>修饰方法：表明该方法是最终方法，不能被重写</li>
<li>修饰变量：表明该变量是常量，不能再次被赋值</li>
<li>修饰类：表明该类是最终类，不能被继承</li>
</ul>
<p>final修饰局部变量</p>
<ul>
<li>变量是基本类型：final修饰的是基本类型的数据值不能发生改变</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">age = <span class="number">100</span>; <span class="comment">//错误</span></span><br></pre></td></tr></table></figure>

<ul>
<li>变量是引用类型：final修饰指的是引用类型的地址值不能发生改变，但是地址里面的内容是可以发生改变的</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        s.age = <span class="number">50</span>;</span><br><span class="line">        System.out.println(s.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 学生类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：50</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>面向对象</tag>
      </tags>
  </entry>
  <entry>
    <title>抽象类和接口</title>
    <url>/2022/04/13/Java/Java/%E6%8A%BD%E8%B1%A1%E7%B1%BB%E5%92%8C%E6%8E%A5%E5%8F%A3/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-抽象类"><a href="#1-抽象类" class="headerlink" title="1. 抽象类"></a>1. 抽象类</h2><h3 id="1-1-抽象类概述"><a href="#1-1-抽象类概述" class="headerlink" title="1.1 抽象类概述"></a>1.1 抽象类概述</h3><p>在Java中，一个<strong>没有方法体</strong>的方法应该定义为<strong>抽象方法</strong>，而类中如果有<strong>抽象方法</strong>，该类必须定义为<strong>抽象类</strong></p>
<h3 id="1-2-抽象类的特点"><a href="#1-2-抽象类的特点" class="headerlink" title="1.2 抽象类的特点"></a>1.2 抽象类的特点</h3><ol>
<li>抽象类和抽象方法必须使用<code>abstract</code> 关键字修饰</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> class 类名 &#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>抽象中不一定有抽象方法，但有抽象方法的类一定是抽象类，否则报错</li>
</ol>
<p>示例：</p>
<p><img src="https://a.ideaopen.cn/Mercury/1ezxlmBa.png" alt="img"></p>
<p><img src="https://a.ideaopen.cn/Mercury/EkrdP70l.png" alt="img"></p>
<ol start="3">
<li><strong>抽象类不能被实例化</strong></li>
</ol>
<p>示例：</p>
<p><img src="https://a.ideaopen.cn/Mercury/SLjc7kGN.png" alt="img"></p>
<p><img src="https://a.ideaopen.cn/Mercury/Ga1mESHU.png" alt="img"></p>
<p>那抽象类该如何实例化呢？参照多态的方式，通过子类对象实例化，这就叫抽象类多态。</p>
<ul>
<li>抽象类的子类<ul>
<li>要么重写抽象类中的<strong>所有</strong>抽象方法</li>
<li>要么是<strong>抽象类</strong></li>
</ul>
</li>
</ul>
<p>示例：</p>
<p>这里是<strong>重写</strong>抽象类中的抽象方法</p>
<p><img src="https://a.ideaopen.cn/Mercury/MBtag2FH.png" alt="img"></p>
<p>这时便能实例化抽象类了</p>
<p><img src="https://a.ideaopen.cn/Mercury/7Is85uoV.png" alt="img"></p>
<h3 id="1-3-抽象类的成员特点"><a href="#1-3-抽象类的成员特点" class="headerlink" title="1.3 抽象类的成员特点"></a>1.3 抽象类的成员特点</h3><ul>
<li>成员变量<ul>
<li>可以是变量</li>
<li>也可以是常量</li>
</ul>
</li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 抽象类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Info</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        name = <span class="string">&quot;张三&quot;</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;年龄：&quot;</span> + age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">address</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地址类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> <span class="keyword">extends</span> <span class="title class_">Info</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">address</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;地址：湖南&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Info</span> <span class="variable">info</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>();</span><br><span class="line">        info.print();</span><br><span class="line">        info.address();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/GLeBpa74.png" alt="img"></p>
<ul>
<li>构造方法<ul>
<li>有构造方法，但是<strong>不能</strong>被实例化</li>
</ul>
</li>
</ul>
<p>示例：</p>
<p><img src="https://a.ideaopen.cn/Mercury/Amz4ShcI.png" alt="img"></p>
<p>那么，构造方法的<strong>作用</strong>是什么呢？</p>
<p>答案是<strong>用于子类访问父类数据的初始化</strong></p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 抽象类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Info</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Info</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Info</span><span class="params">(String name,<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//抽象方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">address</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 地质类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Address</span> <span class="keyword">extends</span> <span class="title class_">Info</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Address</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Address</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> 	* 重写父类抽象方法</span></span><br><span class="line"><span class="comment"> 	*/</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">address</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;地址：湖南&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Info</span> <span class="variable">info</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Address</span>(<span class="string">&quot;李四&quot;</span>,<span class="number">18</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;姓名：&quot;</span> + info.getName() + <span class="string">&quot;\n年龄：&quot;</span> + info.getAge());</span><br><span class="line">        info.address();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/I8v8Lmj5.png" alt="img"></p>
<ul>
<li>成员方法<ul>
<li>可以有抽象方法：限定子类必须完成某些动作</li>
<li>也可以有非抽象方法，提高代码的复用性</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 动物类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">//抽象类方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃饱啦！睡大觉&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 狗狗类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;狗吃骨头&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">happy</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;开心地摇尾巴&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        a.eat();</span><br><span class="line">        <span class="comment">//向下转型 实现子类独有的方法</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">d</span> <span class="operator">=</span> (Dog)a;</span><br><span class="line">        d.happy();</span><br><span class="line">        <span class="comment">//父类普通成员方法</span></span><br><span class="line">        a.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/z5WnOdMm.png" alt="img"></p>
<h2 id="2-接口"><a href="#2-接口" class="headerlink" title="2. 接口"></a>2. 接口</h2><h3 id="2-1-接口概念"><a href="#2-1-接口概念" class="headerlink" title="2.1 接口概念"></a>2.1 接口概念</h3><p>在Java中接口的作用和生活中的接口类似，它是一种规范和标准，可以约束类的行为，使实现接口的类（或结构）在形式上保持一致。</p>
<p>接口是一些方法特征的集合，从这个角度而言，接口可以被看作一种特殊的”抽象类”，但是采用与抽象类完全不同的语法，两者的设计理念也不同。抽象类利于代码复用，接口利于代码的扩展。</p>
<h3 id="2-2-为什么要用接口"><a href="#2-2-为什么要用接口" class="headerlink" title="2.2 为什么要用接口"></a>2.2 为什么要用接口</h3><p>因为Java不像C++一样支持多继承，所以Java可以通过实现接口来弥补这个局限性</p>
<h3 id="2-3-定义和实现接口"><a href="#2-3-定义和实现接口" class="headerlink" title="2.3 定义和实现接口"></a>2.3 定义和实现接口</h3><p>简单地说，接口就是一个不能实例化的类型，接口类型的定义语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[访问修饰符] interface 接口名&#123;</span><br><span class="line">    <span class="comment">//接口成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>类实现接口的语法格式如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">class 类名 implements 接口名 &#123;</span><br><span class="line">    <span class="comment">//类成员</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接口的语法说明如下。</p>
<ul>
<li>接口的定义使用<code>interface</code> 关键字，如果访问修饰符是<code>public</code>，则该接口在整个项目中可见，如果省略访问修饰符，则该接口只在该包中可见。</li>
<li>接口中的<strong>属性</strong>都会<strong>自动使用</strong><code>public static final</code>修饰，无论是否写关键字，接口的属性都是<strong>全局静态常量</strong>，所以在定义时<strong>必须</strong>为其属性指定初始值。</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">5</span>;							<span class="comment">//正确，会默认定义为静态常量</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">5</span>;		  <span class="comment">//正确</span></span><br><span class="line"><span class="type">int</span> a;								<span class="comment">//错误，接口中必须指定初始值</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>在JDK1.8版本之前，在接口中只能定义抽象方法。从1.8版本开始，接口还允许定义静态方法和默认方法</p>
</li>
<li><p>构造方法</p>
<ul>
<li>接口没有构造方法，因为接口主要是对行为进行抽象的，是没有具体存在的</li>
<li>一个类如果没有父类，默认继承<code>Object</code>类</li>
</ul>
</li>
</ul>
<p>下面来实现一下在接口中定义抽象方法、默认方法和静态方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">MyInterface</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//抽象方法，系统会自动为其添加 public abstract</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">function1</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//默认方法</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">function2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一个默认方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//静态方法</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">function3</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;这是一个静态方法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接口中的默认方法如果不能满足某个实现类的需求，可以在实现类中重写整个默认方法。</p>
<p>如想实现类里面重写默认方法，语法为 :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">接口名.<span class="built_in">super</span>.方法名()</span><br></pre></td></tr></table></figure>

<p>需注意的是，静态方法不允许在实现接口的类中进行重写</p>
<p>另外，接口中定义的静态方法，<strong>只能</strong>通过接口名称调用，<strong>不能</strong>通过实现类的类名或实现类的对象调用。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> <span class="keyword">implements</span> <span class="title class_">MyInterface</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">function1</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;实现MyInterface接口的function1()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyClass</span> <span class="variable">myClass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyClass</span>();</span><br><span class="line">        <span class="comment">//调用实现类中重写的方法</span></span><br><span class="line">        myClass.function1();</span><br><span class="line">        <span class="comment">//调用接口中的默认方法</span></span><br><span class="line">        myClass.function2();</span><br><span class="line">        <span class="comment">//调用接口中的静态方法</span></span><br><span class="line">        MyInterface.function3();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/6itpqpSd.png" alt="img"></p>
<p>从JDK1.8开始，接口允许有默认方法和静态方法，其主要目的是，允许开发人员在将新方法添加到已有接口时无需改动已经实施该接口的所有实现类，这也就是我们所说的向后兼容。</p>
<h3 id="2-4-定义复杂的接口"><a href="#2-4-定义复杂的接口" class="headerlink" title="2.4 定义复杂的接口"></a>2.4 定义复杂的接口</h3><p>接口本身也可以继承接口，语法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[访问修饰符] interface 接口名 extends 父接口<span class="number">1</span>，父接口<span class="number">2</span> ……</span><br></pre></td></tr></table></figure>

<p>一个普通类<strong>只能继承一个父类</strong>，但能同时实现<strong>多个</strong>接口，也可以同时继承一个父类并实现多个接口。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">class 类名 extends 父类名 implements 接口<span class="number">1</span>，接口<span class="number">2</span>……</span><br></pre></td></tr></table></figure>

<h3 id="2-5-接口的应用"><a href="#2-5-接口的应用" class="headerlink" title="2.5 接口的应用"></a>2.5 接口的应用</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接口类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Reprot</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 抽象类</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 信息类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Info</span> &#123;</span><br><span class="line">    <span class="comment">//天气</span></span><br><span class="line">    <span class="keyword">private</span> String Weather;</span><br><span class="line">    <span class="comment">//心情</span></span><br><span class="line">    <span class="keyword">private</span> String mood;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getWeather</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Weather;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setWeather</span><span class="params">(String weather)</span> &#123;</span><br><span class="line">        Weather = weather;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMood</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> mood;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMood</span><span class="params">(String mood)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.mood = mood;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Weather</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Weather</span><span class="params">(String weather, String mood)</span> &#123;</span><br><span class="line">        Weather = weather;</span><br><span class="line">        <span class="built_in">this</span>.mood = mood;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;吃早餐&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Boy</span> <span class="keyword">extends</span> <span class="title class_">Info</span> <span class="keyword">implements</span> <span class="title class_">Reprot</span> &#123;</span><br><span class="line">    <span class="comment">//姓名</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="comment">//地址</span></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Boy</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Boy</span><span class="params">(String name,String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getAddress</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(String address)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我叫&quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;来自&quot;</span> + address);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 重写父类方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;先吃个早餐&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 重写抽象方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;出门走走&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Reprot</span> <span class="variable">reprot</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();</span><br><span class="line">        reprot.run();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Info</span> <span class="variable">info</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();</span><br><span class="line">        info.setWeather(<span class="string">&quot;今天天气不错&quot;</span>);</span><br><span class="line">        info.setMood(<span class="string">&quot;心情愉悦&quot;</span>);</span><br><span class="line">        System.out.println(info.getWeather() + <span class="string">&quot;,&quot;</span> + info.getMood());</span><br><span class="line">        info.eat();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Boy</span> <span class="variable">boy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>(<span class="string">&quot;小云&quot;</span>,<span class="string">&quot;中国&quot;</span>);</span><br><span class="line">        boy.print();</span><br><span class="line">        boy.eat();</span><br><span class="line">        boy.run();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tZzR8VDK.png" alt="img"></p>
<h3 id="2-6-类和接口的关系"><a href="#2-6-类和接口的关系" class="headerlink" title="2.6 类和接口的关系"></a>2.6 类和接口的关系</h3><ul>
<li><p>类和类的关系</p>
<p>继承关系，只能单继承，但是可以多层继承</p>
</li>
<li><p>类和接口的关系</p>
<p>实现关系，可以单继承，也可以多实现，还可以在继承一个类的同时实现多个接口</p>
</li>
<li><p>接口和接口的关系</p>
<p>继承关系，可以单继承，也可以多继承</p>
</li>
</ul>
<h3 id="2-7-抽象类和接口的区别"><a href="#2-7-抽象类和接口的区别" class="headerlink" title="2.7 抽象类和接口的区别"></a>2.7 抽象类和接口的区别</h3><p>语法区别：</p>
<ul>
<li><p>成员区别</p>
<p>抽象类                            变量，常量；有构造方法，也有非抽象方法</p>
<p>接口                                常量；抽象方法(JDK1.8后还有默认方法，静态方法)</p>
</li>
<li><p>关系区别</p>
<p>类与类                            继承，单继承</p>
<p>类与接口                        实现，可以实现，也可以多实现</p>
<p>接口与接口                    继承，单继承，多继承</p>
</li>
</ul>
<p>设计理念区别：</p>
<ul>
<li><p>抽象类                            对类抽象，包括属性、行为</p>
</li>
<li><p>接口                                对行为抽象、主要是行为</p>
</li>
</ul>
<p>举例：门和指纹解锁</p>
<blockquote>
<p>门都有开和关两个动作，随着时代的进步，门具备了指纹解锁功能 。该如何实现呢。</p>
<ol>
<li>将开、关和指纹解锁动能都放在抽象类中充当抽象方法</li>
<li>将开、关和指纹解锁功能都放在一个接口中</li>
</ol>
<p>这两个做法对吗？答案是都不。因为不是每个门都要装指纹解锁，所以继承抽象类或要实现这个接口，都是不行的。那该如何实现？下面来解答。</p>
<p>开和关都是属于门具有的动作，而指纹解锁是额外的、附加的，所以我们可以把指纹解锁放在接口中，门继承抽象类后，可以按需求去实现接口。</p>
<p>抽象类是对事物的抽象，接口是对行为的抽象。</p>
</blockquote>
<h3 id="2-8-接口作为方法形参和返回值"><a href="#2-8-接口作为方法形参和返回值" class="headerlink" title="2.8  接口作为方法形参和返回值"></a>2.8  接口作为方法形参和返回值</h3><p>做法在多态时已经讲述过了，实现起来也是一样的。</p>
<ul>
<li>方法的形参是类名，其实需要的是该类的对象</li>
<li>方法的返回值是类名，其实返回的是该类的对象</li>
</ul>
<p>接口作为方法形参示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Sport</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 抽象方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 操作类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SportDemo</span> &#123;</span><br><span class="line">	<span class="comment">//方法的形参是类名，其实需要的是该类的对象</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sport</span><span class="params">(Sport s)</span>&#123;</span><br><span class="line">        s.swim();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Boy</span> <span class="keyword">implements</span> <span class="title class_">Sport</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">swim</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我喜欢游泳&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SportDemo</span> <span class="variable">sd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SportDemo</span>();</span><br><span class="line">        <span class="type">Sport</span> <span class="variable">sport</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();	<span class="comment">//接口不能实例化 所以需要运用多态来实现</span></span><br><span class="line">        sd.sport(sport);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果：我喜欢游泳</p>
<p>接着上面的示例，接口作为返回值：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 操作类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SportDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sport</span><span class="params">(Sport s)</span>&#123;</span><br><span class="line">        s.swim();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Sport <span class="title function_">swimming</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//接口不能实例化 需要实现类来完成</span></span><br><span class="line">        <span class="type">Sport</span> <span class="variable">sport</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();</span><br><span class="line">        <span class="keyword">return</span> sport;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">SportDemo</span> <span class="variable">sd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SportDemo</span>();</span><br><span class="line">        <span class="type">Sport</span> <span class="variable">sport</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Boy</span>();</span><br><span class="line">        sd.sport(sport);</span><br><span class="line"></span><br><span class="line">        <span class="type">Sport</span> <span class="variable">sport2</span> <span class="operator">=</span> sd.swimming(); <span class="comment">// new Boy()</span></span><br><span class="line">        sport2.swim();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>灵活运用接口作为形参运用案例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 墨盒接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InkBox</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 墨盒颜色</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 纸张接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Paper</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 纸张大小</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSize</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 抽象类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Printer</span> &#123;</span><br><span class="line">    <span class="comment">//墨盒颜色</span></span><br><span class="line">    InkBox inkBox;</span><br><span class="line">    <span class="comment">//纸张大小</span></span><br><span class="line">    Paper paper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 接口作为形参</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setInkBox</span><span class="params">(InkBox inkBox)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.inkBox = inkBox;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 接口作为形参</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSize</span><span class="params">(Paper paper)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.paper = paper;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;使用&quot;</span> + inkBox.getColor() + <span class="string">&quot;墨盒在&quot;</span> + paper.getSize() + <span class="string">&quot;纸张上打印&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现颜色接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GrayInkBox</span> <span class="keyword">implements</span> <span class="title class_">InkBox</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 方法重写</span></span><br><span class="line"><span class="comment"> 	 */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;黑色&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现纸张接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A4Paper</span> <span class="keyword">implements</span> <span class="title class_">Paper</span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 方法重写</span></span><br><span class="line"><span class="comment"> 	 */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getSize</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;A4&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Printer</span> <span class="variable">printer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Printer</span>();</span><br><span class="line">        printer.setInkBox(<span class="keyword">new</span> <span class="title class_">GrayInkBox</span>()); <span class="comment">// 传过去为 InkBox inkBox = new GrayInkBox()</span></span><br><span class="line">        printer.setSize(<span class="keyword">new</span> <span class="title class_">A4Paper</span>());      <span class="comment">// 传过去为 InkBox inkBox = new A4pAPER()</span></span><br><span class="line">        printer.print();                     <span class="comment">// 输出打印信息</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/NZIvNsRQ.png" alt="img"></p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>集合框架</title>
    <url>/2022/04/27/Java/Java/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="1-Collection"><a href="#1-Collection" class="headerlink" title="1. Collection"></a>1. Collection</h2><h3 id="1-1-集合"><a href="#1-1-集合" class="headerlink" title="1.1 集合"></a>1.1 集合</h3><p>集合类的特点：提供一种<strong>存储空间可变</strong>的存储模型，存储的数据容量可以随时发生改变。</p>
<h3 id="1-2-集合类体系结构"><a href="#1-2-集合类体系结构" class="headerlink" title="1.2 集合类体系结构"></a>1.2 集合类体系结构</h3><p><img src="https://a.ideaopen.cn/Mercury/JsU67Fg8.png" alt="img"></p>
<ul>
<li><strong>接口：</strong>是代表集合的抽象数据类型。例如 <code>Collection</code>、<code>List</code>、<code>Set</code>、<code>Map</code> 等。之所以定义多个接口，是为了以不同的方式操作集合对象</li>
<li><strong>实现（类）：</strong>是集合接口的具体实现。从本质上讲，它们是可重复使用的数据结构，例如：<code>ArrayList</code>、<code>LinkedList</code>、<code>HashSet</code>、<code>HashMap</code>。</li>
<li><strong>算法：</strong>是实现集合接口的对象里的方法执行的一些有用的计算，例如：搜索和排序。这些算法被称为多态，那是因为相同的方法可以在相似的接口上有着不同的实现。</li>
</ul>
<h3 id="1-3-集合的概述和使用"><a href="#1-3-集合的概述和使用" class="headerlink" title="1.3 集合的概述和使用"></a>1.3 集合的概述和使用</h3><p><strong>Collection集合的概述</strong></p>
<ul>
<li>是单例结合的顶层接口，它表示一组对象，这些对象也称为<code>Collection</code>的元素</li>
<li>JDK不提供此接口的任何直接实现，它提供更具体的子接口(如<code>Set</code>和<code>List</code>)实现</li>
</ul>
<p><strong>创建Collection集合的对象</strong></p>
<ul>
<li>使用多态</li>
<li>具体的实现类<code>ArrayList</code></li>
</ul>
<p><strong>Collection集合的常用方法</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/D4lVXJeI.png" alt="img"></p>
<p>示例：</p>
<p><strong>booleab add(E e)  在集合末尾添加元素：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/IS13KMbp.png" alt="img"></p>
<p><strong>boolean remove(Object o)  若本类中有值与o的值相等的元素，则删除该元素，并返回true：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/kxA27Gul.png" alt="img"></p>
<p><strong>void clear()  清除本类集中所有元素 ，调用完该方法后本类集将为空</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/Jx43ZQ4u.png" alt="img"></p>
<p><strong>boolean contains(Object o)  判断集合中是否包含某元素</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/tjSIdjS7.png" alt="img"></p>
<p><strong>boolean isEmpty()  判断集合是否为空</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/HflZ0WqD.png" alt="img"></p>
<p><strong>int size()  返回集合中的元素个数</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/Vq4SS6Y0.png" alt="img"></p>
<h3 id="1-4-集合和数组的区别"><a href="#1-4-集合和数组的区别" class="headerlink" title="1.4 集合和数组的区别"></a>1.4 集合和数组的区别</h3><p><img src="https://a.ideaopen.cn/Mercury/ujwufeLP.png" alt="img"></p>
<h3 id="1-5-Collection集合的遍历"><a href="#1-5-Collection集合的遍历" class="headerlink" title="1.5 Collection集合的遍历"></a>1.5 Collection集合的遍历</h3><p><code>Iterator</code>：迭代器，集合的专用遍历方式</p>
<ul>
<li><code>Iterator&lt;E&gt; iterator：</code>返回集合中的元素的迭代器，通过集合的<code>Iterator()</code>方法得到</li>
<li>迭代器是通过集合的<code>iterator()</code>方法得到的，所以我们说它是依赖于集合而存在的</li>
</ul>
<p>Iterator中的常用方法</p>
<ul>
<li><code>E next()：</code>返回迭代中的下一个元素</li>
<li><code>boolean hasNext()：</code>如果迭代具有更多元素，则返回<code>true</code></li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFruits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">fruits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//实例化Fruits类，传递参数</span></span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fru1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;富士苹果&quot;</span>,<span class="number">5.5</span>);</span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fru2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;金帅苹果&quot;</span>,<span class="number">5.5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        fruits.add(fru1);</span><br><span class="line">        fruits.add(fru2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//获取集合迭代器</span></span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> fruits.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            <span class="comment">//向下转型</span></span><br><span class="line">            <span class="type">Fruits</span> <span class="variable">fr</span> <span class="operator">=</span> (Fruits) it.next();</span><br><span class="line">            <span class="comment">//输出信息</span></span><br><span class="line">            fr.print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tNPG6J7N.png" alt="img"></p>
<h3 id="使用-foreach-循环遍历"><a href="#使用-foreach-循环遍历" class="headerlink" title="使用 foreach 循环遍历"></a>使用 foreach 循环遍历</h3><p>除可以使用<code>Iterator</code>接口遍历<code>Collection</code>集合中的元素外，使用<code>foreach</code>循环遍历集合元素会更加<strong>便捷</strong>。语法如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span>(数据类型 type 迭代变量名 value:迭代对象 object)&#123;</span><br><span class="line">    <span class="comment">//引用迭代变量value的语句</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> Demo2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFruits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合</span></span><br><span class="line">        <span class="type">Collection</span> <span class="variable">fruits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//实例化Fruits类，传递参数</span></span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fru1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;富士苹果&quot;</span>,<span class="number">5.5</span>);</span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fru2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;金帅苹果&quot;</span>,<span class="number">5.5</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        fruits.add(fru1);</span><br><span class="line">        fruits.add(fru2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//使用foreach循环</span></span><br><span class="line">        <span class="keyword">for</span>(Object obj:fruits)&#123;</span><br><span class="line">            <span class="type">Fruits</span> <span class="variable">fruit</span> <span class="operator">=</span> (Fruits)obj;</span><br><span class="line">            fruit.print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>运行结果是一样的：</p>
<p><img src="https://a.ideaopen.cn/Mercury/tNPG6J7N.png" alt="img"></p>
<h2 id="2-List"><a href="#2-List" class="headerlink" title="2.List"></a>2.List</h2><h3 id="2-1-List集合概述和特点"><a href="#2-1-List集合概述和特点" class="headerlink" title="2.1 List集合概述和特点"></a>2.1 List集合概述和特点</h3><p>List 集合概述</p>
<ul>
<li>有序集合(也称为序列)，用户可以精确控制列表中每个元素的插入位置，用户可以通过索引访问元素并搜索列表中的元素。</li>
<li>与<code>Set</code>集合不同列表通常允许重复的元素</li>
</ul>
<p>List 集合特点</p>
<ul>
<li>有序：存储和取出的元素顺序<strong>一致</strong></li>
<li>可重复：存储的元素<strong>可以重复</strong></li>
</ul>
<p><img src="https://a.ideaopen.cn/Mercury/GM2DfsXp.png" alt="img"></p>
<h3 id="2-2-List集合特有方法"><a href="#2-2-List集合特有方法" class="headerlink" title="2.2 List集合特有方法"></a>2.2 List集合特有方法</h3><table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>void add(int index,E element)</td>
<td>在此集合中的指定位置插入指定的元素</td>
</tr>
<tr>
<td>E remove(int index)</td>
<td>删除指定索引处的元素，返回被删除的元素</td>
</tr>
<tr>
<td>E set(int index,E element)</td>
<td>修改指定索引处的元素，返回被修改的元素</td>
</tr>
<tr>
<td>E get(int index)</td>
<td>返回集合index索引处的元素</td>
</tr>
</tbody></table>
<p>void add(int index,E element)  在此集合中的<strong>指定位置</strong>插入指定的元素：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFruits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建对象及元素对象</span></span><br><span class="line">        <span class="type">List</span> <span class="variable">fruits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        fruits.add(<span class="string">&quot;火龙果1号&quot;</span>);</span><br><span class="line">        fruits.add(<span class="string">&quot;火龙果2号&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//将字符串对象插入到集合中指定位置</span></span><br><span class="line">        fruits.add(<span class="number">1</span>,<span class="string">&quot;火龙果3号&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(fruits);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/Tdy0wNzw.png" alt="img"></p>
<p>E remove(int index)  <strong>删除</strong>指定索引处的元素，返回<strong>被删除</strong>的元素：</p>
<p><img src="https://a.ideaopen.cn/Mercury/83EQLH6i.png" alt="img"></p>
<p>E set(int index,E element)  <strong>修改</strong>指定索引处的元素，返回被修改的元素：</p>
<p><img src="https://a.ideaopen.cn/Mercury/5mzKsEut.png" alt="img"></p>
<p>E get(int index)  <strong>返回集合index索引处的元素：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/ilu7rlyY.png" alt="img"></p>
<h3 id="2-3-LinkedList-集合类"><a href="#2-3-LinkedList-集合类" class="headerlink" title="2.3 LinkedList 集合类"></a>2.3 LinkedList 集合类</h3><p><strong>优点</strong>：<code>LinkedList</code>基于链表的数据结构,地址是任意的，所以在开辟内存空间的时候<strong>不需要</strong>等一个连续的地址，对于新增和删除操作<code>add</code>和<code>remove</code>，<code>LinedList</code>比较占优势。<code>LinkedList</code> 适用于要头尾操作或插入指定位置的场景<br><strong>缺点</strong>：因为<code>LinkedList</code>要移动指针,所以<strong>查询</strong>操作<strong>性能比较低</strong>。<br><strong>适用场景分析：</strong><br>当需要对数据进行对此访问的情况下选用<code>ArrayList</code>，当需要对数据进行多次增加删除修改时采用<code>LinkedList</code>。</p>
<p>原文链接：<a href="https://blog.csdn.net/feiyanaffection/article/details/81394745%EF%BC%8C%E5%8D%9A%E4%B8%BB%E8%AE%B2%E7%9A%84%E5%BE%88%E8%AF%A6%E7%BB%86%EF%BC%8C%E5%80%BC%E5%BE%97%E4%B8%80%E7%9C%8B%E3%80%82">https://blog.csdn.net/feiyanaffection/article/details/81394745，博主讲的很详细，值得一看。</a></p>
<p><code>LinkedList</code> 集合类的方法：</p>
<p><img src="https://a.ideaopen.cn/Mercury/z2cETahL.png" alt="img"></p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建集合及元素对象</span></span><br><span class="line">        <span class="type">LinkedList</span> <span class="variable">linkedList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">ououDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欧欧&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">yayaDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;亚亚&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">meimeiDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;美美&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">feifeiDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;菲菲&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">xinxinDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欣欣&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加字符串对象</span></span><br><span class="line">        linkedList.add(ououDog);</span><br><span class="line">        linkedList.add(yayaDog);</span><br><span class="line">        linkedList.add(meimeiDog);</span><br><span class="line">        linkedList.add(feifeiDog);</span><br><span class="line">        linkedList.add(xinxinDog);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//查看集合第一条狗狗的信息</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">firstDog</span> <span class="operator">=</span> (Dog)((LinkedList) linkedList).getFirst();</span><br><span class="line">        System.out.println(<span class="string">&quot;第一条狗狗的信息是：&quot;</span> + firstDog.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//查看集合最后一条狗狗的信息</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">lastDog</span> <span class="operator">=</span> (Dog)((LinkedList) linkedList).getLast();</span><br><span class="line">        System.out.println(<span class="string">&quot;最后一条狗狗的信息是：&quot;</span> + lastDog.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除集合中第一条和最后一条狗狗的信息</span></span><br><span class="line">        linkedList.removeFirst();</span><br><span class="line">        linkedList.removeLast();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;删除部分狗狗后还有&quot;</span> + linkedList.size() + <span class="string">&quot;条狗狗&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;分别是：&quot;</span>);</span><br><span class="line">        showData(linkedList);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">showData</span><span class="params">(List list)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt; list.size();i++)&#123;</span><br><span class="line">            <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> (Dog)list.get(i);</span><br><span class="line">            dog.show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/F6l1u8M6.png" alt="img"></p>
<h3 id="2-4-Set"><a href="#2-4-Set" class="headerlink" title="2.4 Set"></a>2.4 Set</h3><p>Set接口和List接口一样，都是Collection的子接口，类似一个罐子，丢进Set集合里的多个对象没有明显的顺序。</p>
<h4 id="2-4-1HashSet集合概述和使用"><a href="#2-4-1HashSet集合概述和使用" class="headerlink" title="2.4.1HashSet集合概述和使用"></a>2.4.1HashSet集合概述和使用</h4><p><code>HestSet</code>类是<code>Set</code>接口的典型实现，使用<code>HestSet</code>集合可以实现对无序不重复数据的存储，具有很好的存取和查找性能。</p>
<p>创建<code>HestSet</code>集合的对象</p>
<ul>
<li><strong>多态</strong>的方式</li>
<li>具体的实现类<code>HestSet</code></li>
</ul>
<h4 id="2-4-2-HestSet集合的特性"><a href="#2-4-2-HestSet集合的特性" class="headerlink" title="2.4.2 HestSet集合的特性"></a>2.4.2 HestSet集合的特性</h4><ul>
<li>不允许存储<strong>重复</strong>的元素</li>
<li>没有索引，没有包含索引的方法，不能使用索引遍历</li>
<li>是<strong>无序</strong>集合，存储元素和取出元素的顺序可能<strong>不一致</strong></li>
</ul>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFruits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建一个Set集合和水果数据</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">fruits</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fruit1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;金帅苹果&quot;</span>,<span class="number">5.0</span>);</span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fruit2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;富士苹果&quot;</span>,<span class="number">5.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//向集合中添加元素</span></span><br><span class="line">        fruits.add(fruit1);</span><br><span class="line">        fruits.add(fruit2);</span><br><span class="line">        System.out.println(<span class="string">&quot;添加重复元素：是否成功：&quot;</span> + fruits.add(fruit1));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//遍历集合</span></span><br><span class="line">        <span class="keyword">for</span> (Object o: fruits)&#123;</span><br><span class="line">            <span class="type">Fruits</span> <span class="variable">fruit</span> <span class="operator">=</span> (Fruits) o;</span><br><span class="line">            fruit.print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/iILtpaX2.png" alt="img"></p>
<h3 id="2-5-Set和List的区别"><a href="#2-5-Set和List的区别" class="headerlink" title="2.5 Set和List的区别"></a>2.5 Set和List的区别</h3><ul>
<li><code>Set</code> 接口实例存储的是<strong>无序</strong>的，<strong>不重复</strong>的数据。<code>List</code> 接口实例存储的是<strong>有序</strong>的，可以<strong>重复</strong>的元素。</li>
<li><code>Set</code><strong>检索</strong>效率低下，删除和插入<strong>效率高</strong>，插入和删除<strong>不会</strong>引起元素位置改变 **&lt; 实现类有<code>HashSet</code>,<code>TreeSet</code> &gt;**。</li>
<li><code>List</code>和数组类似，可以动态增长，根据实际存储的数据的长度自动增长<code>List</code>的长度。<strong>查找元素效率高，插入删除效率低</strong>，因为会引起其他元素位置改变 <strong>&lt; 实现类有<code>ArrayList</code>,<code>LinkedList</code>,<code>Vector</code> &gt;</strong> 。</li>
</ul>
<h2 id="3-Map"><a href="#3-Map" class="headerlink" title="3. Map"></a>3. Map</h2><p>Map集合的概述</p>
<ul>
<li><p>Iterator Map&lt;K,V&gt;    K：键的类型    V：值的类型</p>
</li>
<li><p>将键映射到值得对象：不能包含重复得键；每个键可以映射到<strong>最多一个值</strong></p>
</li>
<li><p>举例：学生得学号和姓名</p>
<p>​    studentNo001    张三</p>
<p>​    studentNo002    李四</p>
<p>​    studentNo003    王五</p>
</li>
</ul>
<p>创建<code>Map</code>集合得对象</p>
<ul>
<li>多态得方式</li>
<li>具体的实现类<code>HashMap</code></li>
</ul>
<p><strong>Map接口的常用方法：</strong></p>
<p><img src="https://a.ideaopen.cn/Mercury/wykyyclB.png" alt="img"></p>
<p>示例：</p>
<p><img src="https://a.ideaopen.cn/Mercury/J2lkIrrt.png" alt="img"></p>
<p><img src="https://a.ideaopen.cn/Mercury/HN9kf9bb.png" alt="img"></p>
<p>Map接口提供了大量实现类，典型实现类如<code>HashMap</code>类、<code>HashTable</code>类、<code>TreeMap</code>类等，其中<code>HashMap</code>类是最常用的M安排接口实现类，下面通过案例介绍<code>HashMap</code>类的用法。</p>
<h3 id="3-1-HashSet-集合类"><a href="#3-1-HashSet-集合类" class="headerlink" title="3.1 HashSet 集合类"></a>3.1 HashSet 集合类</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//使用HashMap集合存储多组省份或直辖市全称和简称的 ”键-值对“</span></span><br><span class="line">        Map&lt;String,String&gt; provinces = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String,String&gt;();</span><br><span class="line">        provinces.put(<span class="string">&quot;京&quot;</span>,<span class="string">&quot;北京市&quot;</span>);</span><br><span class="line">        provinces.put(<span class="string">&quot;泸&quot;</span>,<span class="string">&quot;上海市&quot;</span>);</span><br><span class="line">        provinces.put(<span class="string">&quot;闽&quot;</span>,<span class="string">&quot;福建省&quot;</span>);</span><br><span class="line">        provinces.put(<span class="string">&quot;湘&quot;</span>,<span class="string">&quot;湖南省&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//返回指定的键所对应的值</span></span><br><span class="line">        System.out.println(<span class="string">&quot;京对应的省份或直辖市：&quot;</span> + provinces.get(<span class="string">&quot;京&quot;</span>));</span><br><span class="line">        <span class="comment">//显示集合中元素的个数</span></span><br><span class="line">        System.out.println(<span class="string">&quot;共记录了&quot;</span> + provinces.size() + <span class="string">&quot;组数据&quot;</span>);</span><br><span class="line">        <span class="comment">//若存在指定的键映射的“键-值对”，则返回true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;是否记录简称为”闽“的省份或直辖市？&quot;</span> + provinces.containsKey(<span class="string">&quot;闽&quot;</span>));</span><br><span class="line">        <span class="comment">//分别显示键集、值集和”键-值对“ 集</span></span><br><span class="line">        System.out.println(provinces.keySet());</span><br><span class="line">        System.out.println(provinces.values());</span><br><span class="line">        System.out.println(provinces);</span><br><span class="line">        <span class="comment">//清空集合中的元素</span></span><br><span class="line">        provinces.clear();</span><br><span class="line">        <span class="comment">//配合isEmpty使用</span></span><br><span class="line">        <span class="keyword">if</span>(provinces.isEmpty())&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;已全部清空！&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-HashMap-集合的遍历"><a href="#3-2-HashMap-集合的遍历" class="headerlink" title="3.2 HashMap 集合的遍历"></a>3.2 HashMap 集合的遍历</h3><p>我们刚才存储的元素都是成对出现的，所以我们可以把<code>Map</code>看成是一个夫妻对的集合。</p>
<p>遍历思路</p>
<ul>
<li>把所有的丈夫给集中起来</li>
<li>遍历丈夫的集合，获取到每一个丈夫</li>
<li>根据丈夫去找对应的妻子</li>
</ul>
<p>刚才说道存储的元素都是成对出现的，而<code>Iterator</code>迭代器每次只能找到一个值，那我们该怎样使用<code>Iterator</code>遍历<code>HashMap</code>集合呢？<strong>往下看</strong></p>
<p><code>Iterator</code>转换为<code>Map</code>集合中的操作：</p>
<ul>
<li>获取所有键的集合用<code>keySet()</code>方法实现</li>
<li>遍历键的集合，获取到每一个键，用增强<code>for</code>实现</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 水果类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Fruits</span> &#123;</span><br><span class="line">    <span class="comment">//品种</span></span><br><span class="line">    <span class="keyword">private</span> String brand;</span><br><span class="line">    <span class="comment">//价格</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> price;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Fruits</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Fruits</span><span class="params">(String brand, <span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBrand</span><span class="params">(String brand)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPrice</span><span class="params">(<span class="type">double</span> price)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="built_in">this</span>.brand + <span class="string">&quot;，每斤&quot;</span> + <span class="built_in">this</span>.price + <span class="string">&quot;元。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestFruits</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建水果对象</span></span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fruits1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;火龙果&quot;</span>,<span class="number">5.0</span>);</span><br><span class="line">        <span class="type">Fruits</span> <span class="variable">fruits2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Fruits</span>(<span class="string">&quot;梨子&quot;</span>,<span class="number">4.0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建Map集合对象并添加水果元素</span></span><br><span class="line">        <span class="type">Map</span> <span class="variable">fruitMap</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">        fruitMap.put(fruits1.getBrand(),fruits1);</span><br><span class="line">        fruitMap.put(fruits2.getBrand(),fruits2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//通过迭代器依次输出集合中所有水果信息</span></span><br><span class="line">        <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> fruitMap.keySet();</span><br><span class="line">        <span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> keys.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            <span class="comment">//强转    取出key</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> (String)it.next();</span><br><span class="line">            <span class="comment">//根据key取出相对应的value(水果对象)</span></span><br><span class="line">            <span class="type">Fruits</span> <span class="variable">fruit</span> <span class="operator">=</span> (Fruits) fruitMap.get(key);</span><br><span class="line">            <span class="comment">//输出水果信息</span></span><br><span class="line">            fruit.print();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="https://a.ideaopen.cn/Mercury/OEdCJJmX.png" alt="img"></p>
<p>上面示例操作是<code>HashMap</code>输出的标准操作流程，在后续开发中非常重要。当输出时需要获取<code>HashMap</code>集合中所有<code>key</code>的集合，它是一个<code>Set</code>集合，<code>Set</code>集合中每个元素都是一个<code>Object</code>对象，在获取对象之前还需要进行<strong>必要</strong>的类型转换。</p>
<h2 id="4-泛型集合"><a href="#4-泛型集合" class="headerlink" title="4.泛型集合"></a>4.泛型集合</h2><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>前面讲过各集合类存储的都是Object对象，怎样就会造成无论每个对象真实的数据类型是什么，一旦存储到Java集合中，集合就会忘记其真实的数据类型，把所有的对象当成Object类型处理，当程序被从集合中取出后，就需要进行<strong>强制类型转换</strong>，这种强制类型转换使得代码臃肿，而且，当录入对象的数据类型与希望转换的目标类型不符时，会引发<code>ClassCastException</code>异常。</p>
<p>而泛型，便有效的解决了这个问题。在JDK1.5中已经改写了集合框架中的所有接口和类，增加了泛型的支持。泛型可以<strong>约束</strong>录入集合的元素类型，大大提高了数据安全性，从集合中取出数据无需进行类型转换，从而让代码更简洁，程序更加健壮。</p>
<h4 id="泛型概述"><a href="#泛型概述" class="headerlink" title="泛型概述"></a>泛型概述</h4><p>泛型集合可以<strong>约束</strong>集合中元素的类型，它可以把类型当作参数一样传递。</p>
<h4 id="泛型集合的应用"><a href="#泛型集合的应用" class="headerlink" title="泛型集合的应用"></a>泛型集合的应用</h4><p>List<E>、Map&lt;K,V&gt;等，&lt;K,V&gt;是集合的类型形式参数，可以在创建集合时，指定这些类型参数，即元素的数据类型，添加的元素必须为<strong>指定</strong>类型对象，保证数据的安全性。如下所示：</p>
<p><img src="https://a.ideaopen.cn/Mercury/Oi74wnP7.png" alt="img"></p>
<p>在上面示例中，使用 <code>List&lt;Dog&gt; list = new ArrayList&lt;Dog&gt;();</code> 语句创建了一个List集合，这个集合只能保存Dog对象，当试图将其他数据类型添加到集合中时，如向Dog集合中添加字符串类型元素，<strong>程序将无法编译通过</strong>。</p>
<p><img src="https://a.ideaopen.cn/Mercury/1dkwFhh5.png" alt="img"></p>
<p><strong>对<code>Map</code>接口和<code>HashMap</code>集合类应用类型。</strong></p>
<p>示例：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//创建多个水果对象</span></span><br><span class="line">        List&lt;Dog&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">ououDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欧欧&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">yayaDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;亚亚&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">meimeiDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;美美&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">feifeiDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;菲菲&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">xinxinDog</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欣欣&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加元素</span></span><br><span class="line">        list.add(ououDog);</span><br><span class="line">        list.add(yayaDog);</span><br><span class="line">        list.add(meimeiDog);</span><br><span class="line">        list.add(feifeiDog);</span><br><span class="line">        list.add(xinxinDog);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;共计有&quot;</span> + list.size() + <span class="string">&quot;条狗狗&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;分别是：&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;********使用foreach遍历********&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Dog d:list)&#123;</span><br><span class="line">            d.show();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">ououDog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欧欧&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">yayaDog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;亚亚&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">meimeiDog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;美美&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">feifeiDog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;菲菲&quot;</span>,<span class="string">&quot;拉布拉多&quot;</span>);</span><br><span class="line">        <span class="type">Dog</span> <span class="variable">xinxinDog2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>(<span class="string">&quot;欣欣&quot;</span>,<span class="string">&quot;雪纳瑞&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//创建Map集合对象并添加水果元素</span></span><br><span class="line">        Map&lt;String,Dog&gt; fruitsMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        fruitsMap.put(ououDog2.getName(),ououDog2);</span><br><span class="line">        fruitsMap.put(yayaDog2.getName(),yayaDog2);</span><br><span class="line">        fruitsMap.put(meimeiDog2.getName(),meimeiDog2);</span><br><span class="line">        fruitsMap.put(feifeiDog2.getName(),feifeiDog2);</span><br><span class="line">        fruitsMap.put(xinxinDog2.getName(),xinxinDog2);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;********使用Iterator遍历********&quot;</span>);</span><br><span class="line">        Set&lt;String&gt; keys = fruitsMap.keySet();</span><br><span class="line">        Iterator&lt;String&gt; it = keys.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> it.next();</span><br><span class="line">            <span class="type">Dog</span> <span class="variable">dog</span> <span class="operator">=</span> fruitsMap.get(key);</span><br><span class="line">            dog.show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h2><ol>
<li><p>集合弥补了数组的缺陷，它比数组<strong>更灵活更实用</strong>，可大大提高软件的开发效率，而且不同的集合可用于不同场合。</p>
</li>
<li><p>Java的集合类主要由两个接口派生而出，<code>Collection</code>接口和<code>Map</code>接口即相关的工具类，这些接口又包括了一些子接口或实现类。其中，<code>Collection</code>接口又包含两个子接口——<code>List</code>接口和<code>Set</code>接口，另外一个重要接口是<code>Map</code>接口。</p>
<ul>
<li><code>Collection</code>接口存储一组<strong>不唯一</strong>、<strong>无序</strong>的对象。</li>
<li><code>Set</code>接口继承<code>Collection</code>接口、存储一组<strong>唯一</strong>、<strong>无序</strong>的对象</li>
<li><code>List</code>接口继承<code>Collection</code>接口，存储<strong>不唯一</strong>、<strong>有序</strong>的对象</li>
<li><code>Map</code>接口存储一组成对的键-值对象、提供从<code>key</code>到<code>value</code>的映射。<code>key</code><strong>不需求有序</strong>，<strong>不允许重复</strong>，<code>value</code>同样<strong>不要求有序</strong>，但<strong>允许重复</strong>，内容会被<strong>覆盖</strong>掉。</li>
<li><strong>不唯一</strong>指存储元素不允许重复，反之允许重复。<strong>有序</strong>指存储和取出的顺序一致，反之可能不一致</li>
</ul>
</li>
<li><p><code>Iterator</code>为集合而生，<strong>专门实现集合的遍历</strong>。它隐藏了各种集合实现类的内部细节，提供了遍历集合的统一编程接口。</p>
</li>
<li><p><code>ArrayList</code>类和数组采用相同的存储方式，它的优点在于<strong>遍历元素和随机访问元素</strong>的效率比较高。</p>
</li>
<li><p><code>LinkList</code>类采用链表存储方式，优点在于<strong>插入、删除</strong>元素时效率比较高。</p>
</li>
<li><p><code>HashMap</code>类是最常见的Map实现类，它的存储方式是<strong>哈希表</strong>，优点是<strong>查询指定元素效率高</strong>。</p>
</li>
<li><p>使用泛型集合在创建集合对象时，指定集合中的元素的类型，在从集合中取出元素时<strong>无需进行</strong>强制类型转换，避免了<code>ClassCastException</code>异常。</p>
</li>
</ol>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>以后都要做一下总结，将知识点贯通起来。</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
</search>
